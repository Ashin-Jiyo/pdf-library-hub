(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function F3(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var Jp={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function L3(){if(Hv)return Sc;Hv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Sc.Fragment=e,Sc.jsx=n,Sc.jsxs=n,Sc}var $v;function V3(){return $v||($v=1,Jp.exports=L3()),Jp.exports}var g=V3(),em={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function U3(){if(Gv)return Ne;Gv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function N(q,G,X){this.props=q,this.context=G,this.refs=M,this.updater=X||D}N.prototype.isReactComponent={},N.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=N.prototype;function w(q,G,X){this.props=q,this.context=G,this.refs=M,this.updater=X||D}var C=w.prototype=new L;C.constructor=w,k(C,N.prototype),C.isPureReactComponent=!0;var V=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function I(q,G,X,Q,te,_e){return X=_e.ref,{$$typeof:t,type:q,key:G,ref:X!==void 0?X:null,props:_e}}function S(q,G){return I(q.type,G,void 0,void 0,void 0,q.props)}function E(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function T(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(X){return G[X]})}var P=/\/+/g;function j(q,G){return typeof q=="object"&&q!==null&&q.key!=null?T(""+q.key):G.toString(36)}function O(){}function he(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(O,O):(q.status="pending",q.then(function(G){q.status==="pending"&&(q.status="fulfilled",q.value=G)},function(G){q.status==="pending"&&(q.status="rejected",q.reason=G)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function de(q,G,X,Q,te){var _e=typeof q;(_e==="undefined"||_e==="boolean")&&(q=null);var me=!1;if(q===null)me=!0;else switch(_e){case"bigint":case"string":case"number":me=!0;break;case"object":switch(q.$$typeof){case t:case e:me=!0;break;case x:return me=q._init,de(me(q._payload),G,X,Q,te)}}if(me)return te=te(q),me=Q===""?"."+j(q,0):Q,V(te)?(X="",me!=null&&(X=me.replace(P,"$&/")+"/"),de(te,G,X,"",function(an){return an})):te!=null&&(E(te)&&(te=S(te,X+(te.key==null||q&&q.key===te.key?"":(""+te.key).replace(P,"$&/")+"/")+me)),G.push(te)),1;me=0;var Qe=Q===""?".":Q+":";if(V(q))for(var ve=0;ve<q.length;ve++)Q=q[ve],_e=Qe+j(Q,ve),me+=de(Q,G,X,_e,te);else if(ve=v(q),typeof ve=="function")for(q=ve.call(q),ve=0;!(Q=q.next()).done;)Q=Q.value,_e=Qe+j(Q,ve++),me+=de(Q,G,X,_e,te);else if(_e==="object"){if(typeof q.then=="function")return de(he(q),G,X,Q,te);throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(q,G,X){if(q==null)return q;var Q=[],te=0;return de(q,Q,"","",function(_e){return G.call(X,_e,te++)}),Q}function le(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(X){(q._status===0||q._status===-1)&&(q._status=1,q._result=X)},function(X){(q._status===0||q._status===-1)&&(q._status=2,q._result=X)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var fe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Ee(){}return Ne.Children={map:Y,forEach:function(q,G,X){Y(q,function(){G.apply(this,arguments)},X)},count:function(q){var G=0;return Y(q,function(){G++}),G},toArray:function(q){return Y(q,function(G){return G})||[]},only:function(q){if(!E(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ne.Component=N,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=w,Ne.StrictMode=i,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(q){return z.H.useMemoCache(q)}},Ne.cache=function(q){return function(){return q.apply(null,arguments)}},Ne.cloneElement=function(q,G,X){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Q=k({},q.props),te=q.key,_e=void 0;if(G!=null)for(me in G.ref!==void 0&&(_e=void 0),G.key!==void 0&&(te=""+G.key),G)!U.call(G,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&G.ref===void 0||(Q[me]=G[me]);var me=arguments.length-2;if(me===1)Q.children=X;else if(1<me){for(var Qe=Array(me),ve=0;ve<me;ve++)Qe[ve]=arguments[ve+2];Q.children=Qe}return I(q.type,te,void 0,void 0,_e,Q)},Ne.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Ne.createElement=function(q,G,X){var Q,te={},_e=null;if(G!=null)for(Q in G.key!==void 0&&(_e=""+G.key),G)U.call(G,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(te[Q]=G[Q]);var me=arguments.length-2;if(me===1)te.children=X;else if(1<me){for(var Qe=Array(me),ve=0;ve<me;ve++)Qe[ve]=arguments[ve+2];te.children=Qe}if(q&&q.defaultProps)for(Q in me=q.defaultProps,me)te[Q]===void 0&&(te[Q]=me[Q]);return I(q,_e,void 0,void 0,null,te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(q){return{$$typeof:d,render:q}},Ne.isValidElement=E,Ne.lazy=function(q){return{$$typeof:x,_payload:{_status:-1,_result:q},_init:le}},Ne.memo=function(q,G){return{$$typeof:f,type:q,compare:G===void 0?null:G}},Ne.startTransition=function(q){var G=z.T,X={};z.T=X;try{var Q=q(),te=z.S;te!==null&&te(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ee,fe)}catch(_e){fe(_e)}finally{z.T=G}},Ne.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Ne.use=function(q){return z.H.use(q)},Ne.useActionState=function(q,G,X){return z.H.useActionState(q,G,X)},Ne.useCallback=function(q,G){return z.H.useCallback(q,G)},Ne.useContext=function(q){return z.H.useContext(q)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(q,G){return z.H.useDeferredValue(q,G)},Ne.useEffect=function(q,G,X){var Q=z.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(q,G)},Ne.useId=function(){return z.H.useId()},Ne.useImperativeHandle=function(q,G,X){return z.H.useImperativeHandle(q,G,X)},Ne.useInsertionEffect=function(q,G){return z.H.useInsertionEffect(q,G)},Ne.useLayoutEffect=function(q,G){return z.H.useLayoutEffect(q,G)},Ne.useMemo=function(q,G){return z.H.useMemo(q,G)},Ne.useOptimistic=function(q,G){return z.H.useOptimistic(q,G)},Ne.useReducer=function(q,G,X){return z.H.useReducer(q,G,X)},Ne.useRef=function(q){return z.H.useRef(q)},Ne.useState=function(q){return z.H.useState(q)},Ne.useSyncExternalStore=function(q,G,X){return z.H.useSyncExternalStore(q,G,X)},Ne.useTransition=function(){return z.H.useTransition()},Ne.version="19.1.1",Ne}var Kv;function gg(){return Kv||(Kv=1,em.exports=U3()),em.exports}var $=gg();const Qr=oE($);var tm={exports:{}},Cc={},nm={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function z3(){return Qv||(Qv=1,function(t){function e(Y,le){var fe=Y.length;Y.push(le);e:for(;0<fe;){var Ee=fe-1>>>1,q=Y[Ee];if(0<a(q,le))Y[Ee]=le,Y[fe]=q,fe=Ee;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var le=Y[0],fe=Y.pop();if(fe!==le){Y[0]=fe;e:for(var Ee=0,q=Y.length,G=q>>>1;Ee<G;){var X=2*(Ee+1)-1,Q=Y[X],te=X+1,_e=Y[te];if(0>a(Q,fe))te<q&&0>a(_e,Q)?(Y[Ee]=_e,Y[te]=fe,Ee=te):(Y[Ee]=Q,Y[X]=fe,Ee=X);else if(te<q&&0>a(_e,fe))Y[Ee]=_e,Y[te]=fe,Ee=te;else break e}}return le}function a(Y,le){var fe=Y.sortIndex-le.sortIndex;return fe!==0?fe:Y.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],f=[],x=1,_=null,v=3,D=!1,k=!1,M=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function V(Y){for(var le=n(f);le!==null;){if(le.callback===null)i(f);else if(le.startTime<=Y)i(f),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(f)}}function z(Y){if(M=!1,V(Y),!k)if(n(m)!==null)k=!0,U||(U=!0,j());else{var le=n(f);le!==null&&de(z,le.startTime-Y)}}var U=!1,I=-1,S=5,E=-1;function T(){return N?!0:!(t.unstable_now()-E<S)}function P(){if(N=!1,U){var Y=t.unstable_now();E=Y;var le=!0;try{e:{k=!1,M&&(M=!1,w(I),I=-1),D=!0;var fe=v;try{t:{for(V(Y),_=n(m);_!==null&&!(_.expirationTime>Y&&T());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,v=_.priorityLevel;var q=Ee(_.expirationTime<=Y);if(Y=t.unstable_now(),typeof q=="function"){_.callback=q,V(Y),le=!0;break t}_===n(m)&&i(m),V(Y)}else i(m);_=n(m)}if(_!==null)le=!0;else{var G=n(f);G!==null&&de(z,G.startTime-Y),le=!1}}break e}finally{_=null,v=fe,D=!1}le=void 0}}finally{le?j():U=!1}}}var j;if(typeof C=="function")j=function(){C(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,he=O.port2;O.port1.onmessage=P,j=function(){he.postMessage(null)}}else j=function(){L(P,0)};function de(Y,le){I=L(function(){Y(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var fe=v;v=le;try{return Y()}finally{v=fe}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var fe=v;v=Y;try{return le()}finally{v=fe}},t.unstable_scheduleCallback=function(Y,le,fe){var Ee=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ee+fe:Ee):fe=Ee,Y){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=fe+q,Y={id:x++,callback:le,priorityLevel:Y,startTime:fe,expirationTime:q,sortIndex:-1},fe>Ee?(Y.sortIndex=fe,e(f,Y),n(m)===null&&Y===n(f)&&(M?(w(I),I=-1):M=!0,de(z,fe-Ee))):(Y.sortIndex=q,e(m,Y),k||D||(k=!0,U||(U=!0,j()))),Y},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(Y){var le=v;return function(){var fe=v;v=le;try{return Y.apply(this,arguments)}finally{v=fe}}}}(rm)),rm}var Wv;function q3(){return Wv||(Wv=1,nm.exports=z3()),nm.exports}var im={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function H3(){if(Yv)return cn;Yv=1;var t=gg();function e(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,f,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:f,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(m,f){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(m,f,null,x)},cn.flushSync=function(m){var f=u.T,x=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=f,i.p=x,i.d.f()}},cn.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(m,f))},cn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},cn.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var x=f.as,_=d(x,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,D=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;x==="style"?i.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:D}):x==="script"&&i.d.X(m,{crossOrigin:_,integrity:v,fetchPriority:D,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},cn.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var x=d(f.as,f.crossOrigin);i.d.M(m,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(m)},cn.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var x=f.as,_=d(x,f.crossOrigin);i.d.L(m,x,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},cn.preloadModule=function(m,f){if(typeof m=="string")if(f){var x=d(f.as,f.crossOrigin);i.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(m)},cn.requestFormReset=function(m){i.d.r(m)},cn.unstable_batchedUpdates=function(m,f){return m(f)},cn.useFormState=function(m,f,x){return u.H.useFormState(m,f,x)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.1.1",cn}var Xv;function $3(){if(Xv)return im.exports;Xv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),im.exports=H3(),im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function G3(){if(Zv)return Cc;Zv=1;var t=q3(),e=gg(),n=$3();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),r;if(y===c)return d(p),s;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=p,c=y;else{for(var R=!1,B=p.child;B;){if(B===o){R=!0,o=p,c=y;break}if(B===c){R=!0,c=p,o=y;break}B=B.sibling}if(!R){for(B=y.child;B;){if(B===o){R=!0,o=y,c=p;break}if(B===c){R=!0,c=y,o=p;break}B=B.sibling}if(!R)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function f(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=f(r),s!==null)return s;r=r.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function he(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case N:return"Profiler";case M:return"StrictMode";case z:return"Suspense";case U:return"SuspenseList";case E:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case C:return(r.displayName||"Context")+".Provider";case w:return(r._context.displayName||"Context")+".Consumer";case V:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return s=r.displayName||null,s!==null?s:he(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return he(r(s))}catch{}}return null}var de=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ee=[],q=-1;function G(r){return{current:r}}function X(r){0>q||(r.current=Ee[q],Ee[q]=null,q--)}function Q(r,s){q++,Ee[q]=r.current,r.current=s}var te=G(null),_e=G(null),me=G(null),Qe=G(null);function ve(r,s){switch(Q(me,s),Q(_e,r),Q(te,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?xv(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=xv(s),r=vv(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}X(te),Q(te,r)}function an(){X(te),X(_e),X(me)}function pn(r){r.memoizedState!==null&&Q(Qe,r);var s=te.current,o=vv(s,r.type);s!==o&&(Q(_e,r),Q(te,o))}function kn(r){_e.current===r&&(X(te),X(_e)),Qe.current===r&&(X(Qe),_c._currentValue=fe)}var Nn=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,vt=t.unstable_cancelCallback,Cr=t.unstable_shouldYield,Rr=t.unstable_requestPaint,Yt=t.unstable_now,ai=t.unstable_getCurrentPriorityLevel,oi=t.unstable_ImmediatePriority,$n=t.unstable_UserBlockingPriority,Mt=t.unstable_NormalPriority,on=t.unstable_LowPriority,mn=t.unstable_IdlePriority,Dr=t.log,Zs=t.unstable_setDisableYieldValue,et=null,Ve=null;function gn(r){if(typeof Dr=="function"&&Zs(r),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(et,r)}catch{}}var Bt=Math.clz32?Math.clz32:Pn,Js=Math.log,Ir=Math.LN2;function Pn(r){return r>>>=0,r===0?32:31-(Js(r)/Ir|0)|0}var li=256,kr=4194304;function wn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Gi(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var p=0,y=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var B=c&134217727;return B!==0?(c=B&~y,c!==0?p=wn(c):(R&=B,R!==0?p=wn(R):o||(o=B&~r,o!==0&&(p=wn(o))))):(B=c&~y,B!==0?p=wn(B):R!==0?p=wn(R):o||(o=c&~r,o!==0&&(p=wn(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function ci(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ki(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ea(){var r=li;return li<<=1,(li&4194048)===0&&(li=256),r}function Qi(){var r=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),r}function ur(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Gn(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ta(r,s,o,c,p,y){var R=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var B=r.entanglements,H=r.expirationTimes,ee=r.hiddenUpdates;for(o=R&~o;0<o;){var se=31-Bt(o),ce=1<<se;B[se]=0,H[se]=-1;var ne=ee[se];if(ne!==null)for(ee[se]=null,se=0;se<ne.length;se++){var re=ne[se];re!==null&&(re.lane&=-536870913)}o&=~ce}c!==0&&Kn(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(R&~s))}function Kn(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Bt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function na(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Bt(o),p=1<<c;p&s|r[c]&s&&(r[c]|=s),o&=~p}}function hr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Wi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Nr(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:Fv(r.type))}function ra(r,s){var o=le.p;try{return le.p=r,s()}finally{le.p=o}}var ct=Math.random().toString(36).slice(2),gt="__reactFiber$"+ct,qe="__reactProps$"+ct,bt="__reactContainer$"+ct,Yi="__reactEvents$"+ct,Sl="__reactListeners$"+ct,Xi="__reactHandles$"+ct,yu="__reactResources$"+ct,ia="__reactMarker$"+ct;function Zi(r){delete r[gt],delete r[qe],delete r[Yi],delete r[Sl],delete r[Xi]}function ui(r){var s=r[gt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[bt]||o[gt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=wv(r);r!==null;){if(o=r[gt])return o;r=wv(r)}return s}r=o,o=r.parentNode}return null}function Pr(r){if(r=r[gt]||r[bt]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Or(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function yn(r){var s=r[yu];return s||(s=r[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _t(r){r[ia]=!0}var Cl=new Set,io={};function dr(r,s){hi(r,s),hi(r+"Capture",s)}function hi(r,s){for(io[r]=s,r=0;r<s.length;r++)Cl.add(s[r])}var xu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},sa={};function bu(r){return Nn.call(sa,r)?!0:Nn.call(vu,r)?!1:xu.test(r)?sa[r]=!0:(vu[r]=!0,!1)}function Ji(r,s,o){if(bu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Mr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Xt(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var aa,_u;function di(r){if(aa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);aa=s&&s[1]||"",_u=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+r+_u}var so=!1;function ao(r,s){if(!r||so)return"";so=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var ne=re}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(re){ne=re}r.call(ce.prototype)}}else{try{throw Error()}catch(re){ne=re}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),R=y[0],B=y[1];if(R&&B){var H=R.split(`
`),ee=B.split(`
`);for(p=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(c===H.length||p===ee.length)for(c=H.length-1,p=ee.length-1;1<=c&&0<=p&&H[c]!==ee[p];)p--;for(;1<=c&&0<=p;c--,p--)if(H[c]!==ee[p]){if(c!==1||p!==1)do if(c--,p--,0>p||H[c]!==ee[p]){var se=`
`+H[c].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=c&&0<=p);break}}}finally{so=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?di(o):""}function Rl(r){switch(r.tag){case 26:case 27:case 5:return di(r.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return ao(r.type,!1);case 11:return ao(r.type.render,!1);case 1:return ao(r.type,!0);case 31:return di("Activity");default:return""}}function oo(r){try{var s="";do s+=Rl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function xn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Dl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tf(r){var s=Dl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(R){c=""+R,y.call(this,R)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function lo(r){r._valueTracker||(r._valueTracker=tf(r))}function Il(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Dl(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function oa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var nf=/[\n"\\]/g;function St(r){return r.replace(nf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function On(r,s,o,c,p,y,R,B){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),s!=null?R==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+xn(s)):r.value!==""+xn(s)&&(r.value=""+xn(s)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),s!=null?es(r,R,xn(s)):o!=null?es(r,R,xn(o)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?r.name=""+xn(B):r.removeAttribute("name")}function la(r,s,o,c,p,y,R,B){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+xn(o):"",s=s!=null?""+xn(s):o,B||s===r.value||(r.value=s),r.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=B?r.checked:!!c,r.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R)}function es(r,s,o){s==="number"&&oa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function fi(r,s,o,c){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&c&&(r[o].defaultSelected=!0)}else{for(o=""+xn(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function it(r,s,o){if(s!=null&&(s=""+xn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+xn(o):""}function ca(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(de(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=xn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Qn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||ua.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function kl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&o[p]!==c&&Eu(r,p,c)}else for(var y in s)s.hasOwnProperty(y)&&Eu(r,y,s[y])}function Nl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(r){return sf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var pi=null;function Wn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mi=null,gi=null;function Pl(r){var s=Pr(r);if(s&&(r=s.stateNode)){var o=r[qe]||null;e:switch(r=s.stateNode,s.type){case"input":if(On(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+St(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var p=c[qe]||null;if(!p)throw Error(i(90));On(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Il(c)}break e;case"textarea":it(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&fi(r,!!o.multiple,s,!1)}}}var Br=!1;function wu(r,s,o){if(Br)return r(s,o);Br=!0;try{var c=r(s);return c}finally{if(Br=!1,(mi!==null||gi!==null)&&(gh(),mi&&(s=mi,r=gi,gi=mi=null,Pl(s),r)))for(s=0;s<r.length;s++)Pl(r[s])}}function ha(r,s){var o=r.stateNode;if(o===null)return null;var c=o[qe]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(fr)try{var da={};Object.defineProperty(da,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Yn=!1}var jr=null,ts=null,yi=null;function Ol(){if(yi)return yi;var r,s=ts,o=s.length,c,p="value"in jr?jr.value:jr.textContent,y=p.length;for(r=0;r<o&&s[r]===p[r];r++);var R=o-r;for(c=1;c<=R&&s[o-c]===p[y-c];c++);return yi=p.slice(r,1<c?1-c:void 0)}function Fr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Lr(){return!0}function Ml(){return!1}function qt(r){function s(o,c,p,y,R){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var B in r)r.hasOwnProperty(B)&&(o=r[B],this[B]=o?o(y):y[B]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Lr:Ml,this.isPropagationStopped=Ml,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=qt(Ze),fa=x({},Ze,{view:0,detail:0}),Au=qt(fa),ho,fo,Vr,pa=x({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vr&&(Vr&&r.type==="mousemove"?(ho=r.screenX-Vr.screenX,fo=r.screenY-Vr.screenY):fo=ho=0,Vr=r),ho)},movementY:function(r){return"movementY"in r?r.movementY:fo}}),Xn=qt(pa),Tu=x({},pa,{dataTransfer:0}),af=qt(Tu),ma=x({},fa,{relatedTarget:0}),po=qt(ma),Bl=x({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),mo=qt(Bl),Su=x({},Ze,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),go=qt(Su),of=x({},Ze,{data:0}),jl=qt(of),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ru[r])?!!s[r]:!1}function ya(){return Fl}var Du=x({},fa,{key:function(r){if(r.key){var s=ga[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Fr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Cu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(r){return r.type==="keypress"?Fr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yo=qt(Du),Iu=x({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=qt(Iu),xi=x({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),ku=qt(xi),Nu=x({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=qt(Nu),Ou=x({},pa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xo=qt(Ou),vn=x({},Ze,{newState:0,oldState:0}),Mu=qt(vn),Bu=[9,13,27,32],Ur=fr&&"CompositionEvent"in window,h=null;fr&&"documentMode"in document&&(h=document.documentMode);var b=fr&&"TextEvent"in window&&!h,A=fr&&(!Ur||h&&8<h&&11>=h),F=" ",Z=!1;function ie(r,s){switch(r){case"keyup":return Bu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var He=!1;function jt(r,s){switch(r){case"compositionend":return pe(s);case"keypress":return s.which!==32?null:(Z=!0,F);case"textInput":return r=s.data,r===F&&Z?null:r;default:return null}}function $e(r,s){if(He)return r==="compositionend"||!Ur&&ie(r,s)?(r=Ol(),yi=ts=jr=null,He=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return A&&s.locale!=="ko"?null:s.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ht[r.type]:s==="textarea"}function vi(r,s,o,c){mi?gi?gi.push(c):gi=[c]:mi=c,s=Eh(s,"onChange"),0<s.length&&(o=new uo("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Zt=null,zr=null;function Vl(r){fv(r,0)}function ju(r){var s=Or(r);if(Il(s))return r}function Oy(r,s){if(r==="change")return s}var My=!1;if(fr){var lf;if(fr){var cf="oninput"in document;if(!cf){var By=document.createElement("div");By.setAttribute("oninput","return;"),cf=typeof By.oninput=="function"}lf=cf}else lf=!1;My=lf&&(!document.documentMode||9<document.documentMode)}function jy(){Zt&&(Zt.detachEvent("onpropertychange",Fy),zr=Zt=null)}function Fy(r){if(r.propertyName==="value"&&ju(zr)){var s=[];vi(s,zr,r,Wn(r)),wu(Vl,s)}}function pA(r,s,o){r==="focusin"?(jy(),Zt=s,zr=o,Zt.attachEvent("onpropertychange",Fy)):r==="focusout"&&jy()}function mA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ju(zr)}function gA(r,s){if(r==="click")return ju(s)}function yA(r,s){if(r==="input"||r==="change")return ju(s)}function xA(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Mn=typeof Object.is=="function"?Object.is:xA;function Ul(r,s){if(Mn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Nn.call(s,p)||!Mn(r[p],s[p]))return!1}return!0}function Ly(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vy(r,s){var o=Ly(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ly(o)}}function Uy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Uy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function zy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=oa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=oa(r.document)}return s}function uf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var vA=fr&&"documentMode"in document&&11>=document.documentMode,vo=null,hf=null,zl=null,df=!1;function qy(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;df||vo==null||vo!==oa(c)||(c=vo,"selectionStart"in c&&uf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zl&&Ul(zl,c)||(zl=c,c=Eh(hf,"onSelect"),0<c.length&&(s=new uo("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=vo)))}function xa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var bo={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},ff={},Hy={};fr&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function va(r){if(ff[r])return ff[r];if(!bo[r])return r;var s=bo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Hy)return ff[r]=s[o];return r}var $y=va("animationend"),Gy=va("animationiteration"),Ky=va("animationstart"),bA=va("transitionrun"),_A=va("transitionstart"),EA=va("transitioncancel"),Qy=va("transitionend"),Wy=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function pr(r,s){Wy.set(r,s),dr(s,[r])}var Yy=new WeakMap;function Zn(r,s){if(typeof r=="object"&&r!==null){var o=Yy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:oo(s)},Yy.set(r,s),s)}return{value:r,source:s,stack:oo(s)}}var Jn=[],_o=0,mf=0;function Fu(){for(var r=_o,s=mf=_o=0;s<r;){var o=Jn[s];Jn[s++]=null;var c=Jn[s];Jn[s++]=null;var p=Jn[s];Jn[s++]=null;var y=Jn[s];if(Jn[s++]=null,c!==null&&p!==null){var R=c.pending;R===null?p.next=p:(p.next=R.next,R.next=p),c.pending=p}y!==0&&Xy(o,p,y)}}function Lu(r,s,o,c){Jn[_o++]=r,Jn[_o++]=s,Jn[_o++]=o,Jn[_o++]=c,mf|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function gf(r,s,o,c){return Lu(r,s,o,c),Vu(r)}function Eo(r,s){return Lu(r,null,null,s),Vu(r)}function Xy(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var p=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-Bt(o),r=y.hiddenUpdates,c=r[p],c===null?r[p]=[s]:c.push(s),s.lane=o|536870912),y):null}function Vu(r){if(50<fc)throw fc=0,Ep=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var wo={};function wA(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(r,s,o,c){return new wA(r,s,o,c)}function yf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function bi(r,s){var o=r.alternate;return o===null?(o=Bn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Zy(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Uu(r,s,o,c,p,y){var R=0;if(c=r,typeof r=="function")yf(r)&&(R=1);else if(typeof r=="string")R=T3(r,o,te.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case E:return r=Bn(31,o,s,p),r.elementType=E,r.lanes=y,r;case k:return ba(o.children,p,y,s);case M:R=8,p|=24;break;case N:return r=Bn(12,o,s,p|2),r.elementType=N,r.lanes=y,r;case z:return r=Bn(13,o,s,p),r.elementType=z,r.lanes=y,r;case U:return r=Bn(19,o,s,p),r.elementType=U,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:case C:R=10;break e;case w:R=9;break e;case V:R=11;break e;case I:R=14;break e;case S:R=16,c=null;break e}R=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Bn(R,o,s,p),s.elementType=r,s.type=c,s.lanes=y,s}function ba(r,s,o,c){return r=Bn(7,r,c,s),r.lanes=o,r}function xf(r,s,o){return r=Bn(6,r,null,s),r.lanes=o,r}function vf(r,s,o){return s=Bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Ao=[],To=0,zu=null,qu=0,er=[],tr=0,_a=null,_i=1,Ei="";function Ea(r,s){Ao[To++]=qu,Ao[To++]=zu,zu=r,qu=s}function Jy(r,s,o){er[tr++]=_i,er[tr++]=Ei,er[tr++]=_a,_a=r;var c=_i;r=Ei;var p=32-Bt(c)-1;c&=~(1<<p),o+=1;var y=32-Bt(s)+p;if(30<y){var R=p-p%5;y=(c&(1<<R)-1).toString(32),c>>=R,p-=R,_i=1<<32-Bt(s)+p|o<<p|c,Ei=y+r}else _i=1<<y|o<<p|c,Ei=r}function bf(r){r.return!==null&&(Ea(r,1),Jy(r,1,0))}function _f(r){for(;r===zu;)zu=Ao[--To],Ao[To]=null,qu=Ao[--To],Ao[To]=null;for(;r===_a;)_a=er[--tr],er[tr]=null,Ei=er[--tr],er[tr]=null,_i=er[--tr],er[tr]=null}var bn=null,yt=null,Ye=!1,wa=null,qr=!1,Ef=Error(i(519));function Aa(r){var s=Error(i(418,""));throw $l(Zn(s,r)),Ef}function e1(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[gt]=r,s[qe]=c,o){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(o=0;o<mc.length;o++)Be(mc[o],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),la(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),lo(s);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),ca(s,c.value,c.defaultValue,c.children),lo(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||yv(s.textContent,o)?(c.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),c.onScroll!=null&&Be("scroll",s),c.onScrollEnd!=null&&Be("scrollend",s),c.onClick!=null&&(s.onclick=wh),s=!0):s=!1,s||Aa(r)}function t1(r){for(bn=r.return;bn;)switch(bn.tag){case 5:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:bn=bn.return}}function ql(r){if(r!==bn)return!1;if(!Ye)return t1(r),Ye=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Fp(r.type,r.memoizedProps)),o=!o),o&&yt&&Aa(r),t1(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){yt=gr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}yt=null}}else s===27?(s=yt,ys(r.type)?(r=zp,zp=null,yt=r):yt=s):yt=bn?gr(r.stateNode.nextSibling):null;return!0}function Hl(){yt=bn=null,Ye=!1}function n1(){var r=wa;return r!==null&&(Sn===null?Sn=r:Sn.push.apply(Sn,r),wa=null),r}function $l(r){wa===null?wa=[r]:wa.push(r)}var wf=G(null),Ta=null,wi=null;function ns(r,s,o){Q(wf,s._currentValue),s._currentValue=o}function Ai(r){r._currentValue=wf.current,X(wf)}function Af(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Tf(r,s,o,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var R=p.child;y=y.firstContext;e:for(;y!==null;){var B=y;y=p;for(var H=0;H<s.length;H++)if(B.context===s[H]){y.lanes|=o,B=y.alternate,B!==null&&(B.lanes|=o),Af(y.return,o,r),c||(R=null);break e}y=B.next}}else if(p.tag===18){if(R=p.return,R===null)throw Error(i(341));R.lanes|=o,y=R.alternate,y!==null&&(y.lanes|=o),Af(R,o,r),R=null}else R=p.child;if(R!==null)R.return=p;else for(R=p;R!==null;){if(R===r){R=null;break}if(p=R.sibling,p!==null){p.return=R.return,R=p;break}R=R.return}p=R}}function Gl(r,s,o,c){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var R=p.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var B=p.type;Mn(p.pendingProps.value,R.value)||(r!==null?r.push(B):r=[B])}}else if(p===Qe.current){if(R=p.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(_c):r=[_c])}p=p.return}r!==null&&Tf(s,r,o,c),s.flags|=262144}function Hu(r){for(r=r.firstContext;r!==null;){if(!Mn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Sa(r){Ta=r,wi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ln(r){return r1(Ta,r)}function $u(r,s){return Ta===null&&Sa(r),r1(r,s)}function r1(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},wi===null){if(r===null)throw Error(i(308));wi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else wi=wi.next=s;return o}var AA=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},TA=t.unstable_scheduleCallback,SA=t.unstable_NormalPriority,Lt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new AA,data:new Map,refCount:0}}function Kl(r){r.refCount--,r.refCount===0&&TA(SA,function(){r.controller.abort()})}var Ql=null,Cf=0,So=0,Co=null;function CA(r,s){if(Ql===null){var o=Ql=[];Cf=0,So=Dp(),Co={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Cf++,s.then(i1,i1),s}function i1(){if(--Cf===0&&Ql!==null){Co!==null&&(Co.status="fulfilled");var r=Ql;Ql=null,So=0,Co=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function RA(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var s1=Y.S;Y.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&CA(r,s),s1!==null&&s1(r,s)};var Ca=G(null);function Rf(){var r=Ca.current;return r!==null?r:ut.pooledCache}function Gu(r,s){s===null?Q(Ca,Ca.current):Q(Ca,s.pool)}function a1(){var r=Rf();return r===null?null:{parent:Lt._currentValue,pool:r}}var Wl=Error(i(460)),o1=Error(i(474)),Ku=Error(i(542)),Df={then:function(){}};function l1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Qu(){}function c1(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Qu,Qu),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,h1(r),r;default:if(typeof s.status=="string")s.then(Qu,Qu);else{if(r=ut,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,h1(r),r}throw Yl=s,Wl}}var Yl=null;function u1(){if(Yl===null)throw Error(i(459));var r=Yl;return Yl=null,r}function h1(r){if(r===Wl||r===Ku)throw Error(i(483))}var rs=!1;function If(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function is(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ss(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(tt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Vu(r),Xy(r,null,o),s}return Lu(r,c,s,o),Vu(r)}function Xl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,na(r,o)}}function Nf(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var R={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=R:y=y.next=R,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Pf=!1;function Zl(){if(Pf){var r=Co;if(r!==null)throw r}}function Jl(r,s,o,c){Pf=!1;var p=r.updateQueue;rs=!1;var y=p.firstBaseUpdate,R=p.lastBaseUpdate,B=p.shared.pending;if(B!==null){p.shared.pending=null;var H=B,ee=H.next;H.next=null,R===null?y=ee:R.next=ee,R=H;var se=r.alternate;se!==null&&(se=se.updateQueue,B=se.lastBaseUpdate,B!==R&&(B===null?se.firstBaseUpdate=ee:B.next=ee,se.lastBaseUpdate=H))}if(y!==null){var ce=p.baseState;R=0,se=ee=H=null,B=y;do{var ne=B.lane&-536870913,re=ne!==B.lane;if(re?(Ge&ne)===ne:(c&ne)===ne){ne!==0&&ne===So&&(Pf=!0),se!==null&&(se=se.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var De=r,Te=B;ne=s;var ot=o;switch(Te.tag){case 1:if(De=Te.payload,typeof De=="function"){ce=De.call(ot,ce,ne);break e}ce=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Te.payload,ne=typeof De=="function"?De.call(ot,ce,ne):De,ne==null)break e;ce=x({},ce,ne);break e;case 2:rs=!0}}ne=B.callback,ne!==null&&(r.flags|=64,re&&(r.flags|=8192),re=p.callbacks,re===null?p.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:B.tag,payload:B.payload,callback:B.callback,next:null},se===null?(ee=se=re,H=ce):se=se.next=re,R|=ne;if(B=B.next,B===null){if(B=p.shared.pending,B===null)break;re=B,B=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);se===null&&(H=ce),p.baseState=H,p.firstBaseUpdate=ee,p.lastBaseUpdate=se,y===null&&(p.shared.lanes=0),fs|=R,r.lanes=R,r.memoizedState=ce}}function d1(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function f1(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)d1(o[r],s)}var Ro=G(null),Wu=G(0);function p1(r,s){r=ki,Q(Wu,r),Q(Ro,s),ki=r|s.baseLanes}function Of(){Q(Wu,ki),Q(Ro,Ro.current)}function Mf(){ki=Wu.current,X(Ro),X(Wu)}var as=0,Pe=null,st=null,Ct=null,Yu=!1,Do=!1,Ra=!1,Xu=0,ec=0,Io=null,DA=0;function Et(){throw Error(i(321))}function Bf(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Mn(r[o],s[o]))return!1;return!0}function jf(r,s,o,c,p,y){return as=y,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=r===null||r.memoizedState===null?X1:Z1,Ra=!1,y=o(c,p),Ra=!1,Do&&(y=g1(s,o,c,p)),m1(r),y}function m1(r){Y.H=rh;var s=st!==null&&st.next!==null;if(as=0,Ct=st=Pe=null,Yu=!1,ec=0,Io=null,s)throw Error(i(300));r===null||$t||(r=r.dependencies,r!==null&&Hu(r)&&($t=!0))}function g1(r,s,o,c){Pe=r;var p=0;do{if(Do&&(Io=null),ec=0,Do=!1,25<=p)throw Error(i(301));if(p+=1,Ct=st=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=BA,y=s(o,c)}while(Do);return y}function IA(){var r=Y.H,s=r.useState()[0];return s=typeof s.then=="function"?tc(s):s,r=r.useState()[0],(st!==null?st.memoizedState:null)!==r&&(Pe.flags|=1024),s}function Ff(){var r=Xu!==0;return Xu=0,r}function Lf(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Vf(r){if(Yu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Yu=!1}as=0,Ct=st=Pe=null,Do=!1,ec=Xu=0,Io=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Pe.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function Rt(){if(st===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var s=Ct===null?Pe.memoizedState:Ct.next;if(s!==null)Ct=s,st=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ct===null?Pe.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(r){var s=ec;return ec+=1,Io===null&&(Io=[]),r=c1(Io,r,s),s=Pe,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?X1:Z1),r}function Zu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return tc(r);if(r.$$typeof===C)return ln(r)}throw Error(i(438,String(r)))}function zf(r){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Uf(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=T;return s.index++,o}function Ti(r,s){return typeof s=="function"?s(r):s}function Ju(r){var s=Rt();return qf(s,st,r)}function qf(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var R=p.next;p.next=y.next,y.next=R}s.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var B=R=null,H=null,ee=s,se=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(Ge&ce)===ce:(as&ce)===ce){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===So&&(se=!0);else if((as&ne)===ne){ee=ee.next,ne===So&&(se=!0);continue}else ce={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(B=H=ce,R=y):H=H.next=ce,Pe.lanes|=ne,fs|=ne;ce=ee.action,Ra&&o(y,ce),y=ee.hasEagerState?ee.eagerState:o(y,ce)}else ne={lane:ce,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(B=H=ne,R=y):H=H.next=ne,Pe.lanes|=ce,fs|=ce;ee=ee.next}while(ee!==null&&ee!==s);if(H===null?R=y:H.next=B,!Mn(y,r.memoizedState)&&($t=!0,se&&(o=Co,o!==null)))throw o;r.memoizedState=y,r.baseState=R,r.baseQueue=H,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Hf(r){var s=Rt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var R=p=p.next;do y=r(y,R.action),R=R.next;while(R!==p);Mn(y,s.memoizedState)||($t=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function y1(r,s,o){var c=Pe,p=Rt(),y=Ye;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var R=!Mn((st||p).memoizedState,o);R&&(p.memoizedState=o,$t=!0),p=p.queue;var B=b1.bind(null,c,p,r);if(nc(2048,8,B,[r]),p.getSnapshot!==s||R||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,ko(9,eh(),v1.bind(null,c,p,o,s),null),ut===null)throw Error(i(349));y||(as&124)!==0||x1(c,s,o)}return o}function x1(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=Uf(),Pe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function v1(r,s,o,c){s.value=o,s.getSnapshot=c,_1(s)&&E1(r)}function b1(r,s,o){return o(function(){_1(s)&&E1(r)})}function _1(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Mn(r,o)}catch{return!0}}function E1(r){var s=Eo(r,2);s!==null&&Un(s,r,2)}function $f(r){var s=An();if(typeof r=="function"){var o=r;if(r=o(),Ra){gn(!0);try{o()}finally{gn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:r},s}function w1(r,s,o,c){return r.baseState=o,qf(r,st,typeof c=="function"?c:Ti)}function kA(r,s,o,c,p){if(nh(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};Y.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,A1(s,y)):(y.next=o.next,s.pending=o.next=y)}}function A1(r,s){var o=s.action,c=s.payload,p=r.state;if(s.isTransition){var y=Y.T,R={};Y.T=R;try{var B=o(p,c),H=Y.S;H!==null&&H(R,B),T1(r,s,B)}catch(ee){Gf(r,s,ee)}finally{Y.T=y}}else try{y=o(p,c),T1(r,s,y)}catch(ee){Gf(r,s,ee)}}function T1(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){S1(r,s,c)},function(c){return Gf(r,s,c)}):S1(r,s,o)}function S1(r,s,o){s.status="fulfilled",s.value=o,C1(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,A1(r,o)))}function Gf(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,C1(s),s=s.next;while(s!==c)}r.action=null}function C1(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function R1(r,s){return s}function D1(r,s){if(Ye){var o=ut.formState;if(o!==null){e:{var c=Pe;if(Ye){if(yt){t:{for(var p=yt,y=qr;p.nodeType!==8;){if(!y){p=null;break t}if(p=gr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){yt=gr(p.nextSibling),c=p.data==="F!";break e}}Aa(c)}c=!1}c&&(s=o[0])}}return o=An(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R1,lastRenderedState:s},o.queue=c,o=Q1.bind(null,Pe,c),c.dispatch=o,c=$f(!1),y=Xf.bind(null,Pe,!1,c.queue),c=An(),p={state:s,dispatch:null,action:r,pending:null},c.queue=p,o=kA.bind(null,Pe,p,y,o),p.dispatch=o,c.memoizedState=r,[s,o,!1]}function I1(r){var s=Rt();return k1(s,st,r)}function k1(r,s,o){if(s=qf(r,s,R1)[0],r=Ju(Ti)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=tc(s)}catch(R){throw R===Wl?Ku:R}else c=s;s=Rt();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,ko(9,eh(),NA.bind(null,p,o),null)),[c,y,r]}function NA(r,s){r.action=s}function N1(r){var s=Rt(),o=st;if(o!==null)return k1(s,o,r);Rt(),s=s.memoizedState,o=Rt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function ko(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Uf(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function eh(){return{destroy:void 0,resource:void 0}}function P1(){return Rt().memoizedState}function th(r,s,o,c){var p=An();c=c===void 0?null:c,Pe.flags|=r,p.memoizedState=ko(1|s,eh(),o,c)}function nc(r,s,o,c){var p=Rt();c=c===void 0?null:c;var y=p.memoizedState.inst;st!==null&&c!==null&&Bf(c,st.memoizedState.deps)?p.memoizedState=ko(s,y,o,c):(Pe.flags|=r,p.memoizedState=ko(1|s,y,o,c))}function O1(r,s){th(8390656,8,r,s)}function M1(r,s){nc(2048,8,r,s)}function B1(r,s){return nc(4,2,r,s)}function j1(r,s){return nc(4,4,r,s)}function F1(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function L1(r,s,o){o=o!=null?o.concat([r]):null,nc(4,4,F1.bind(null,s,r),o)}function Kf(){}function V1(r,s){var o=Rt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Bf(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function U1(r,s){var o=Rt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Bf(s,c[1]))return c[0];if(c=r(),Ra){gn(!0);try{r()}finally{gn(!1)}}return o.memoizedState=[c,s],c}function Qf(r,s,o){return o===void 0||(as&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Hx(),Pe.lanes|=r,fs|=r,o)}function z1(r,s,o,c){return Mn(o,s)?o:Ro.current!==null?(r=Qf(r,o,c),Mn(r,s)||($t=!0),r):(as&42)===0?($t=!0,r.memoizedState=o):(r=Hx(),Pe.lanes|=r,fs|=r,s)}function q1(r,s,o,c,p){var y=le.p;le.p=y!==0&&8>y?y:8;var R=Y.T,B={};Y.T=B,Xf(r,!1,s,o);try{var H=p(),ee=Y.S;if(ee!==null&&ee(B,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var se=RA(H,c);rc(r,s,se,Vn(r))}else rc(r,s,c,Vn(r))}catch(ce){rc(r,s,{then:function(){},status:"rejected",reason:ce},Vn())}finally{le.p=y,Y.T=R}}function PA(){}function Wf(r,s,o,c){if(r.tag!==5)throw Error(i(476));var p=H1(r).queue;q1(r,p,s,fe,o===null?PA:function(){return $1(r),o(c)})}function H1(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function $1(r){var s=H1(r).next.queue;rc(r,s,{},Vn())}function Yf(){return ln(_c)}function G1(){return Rt().memoizedState}function K1(){return Rt().memoizedState}function OA(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Vn();r=is(o);var c=ss(s,r,o);c!==null&&(Un(c,s,o),Xl(c,s,o)),s={cache:Sf()},r.payload=s;return}s=s.return}}function MA(r,s,o){var c=Vn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},nh(r)?W1(s,o):(o=gf(r,s,o,c),o!==null&&(Un(o,r,c),Y1(o,s,c)))}function Q1(r,s,o){var c=Vn();rc(r,s,o,c)}function rc(r,s,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(nh(r))W1(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var R=s.lastRenderedState,B=y(R,o);if(p.hasEagerState=!0,p.eagerState=B,Mn(B,R))return Lu(r,s,p,0),ut===null&&Fu(),!1}catch{}finally{}if(o=gf(r,s,p,c),o!==null)return Un(o,r,c),Y1(o,s,c),!0}return!1}function Xf(r,s,o,c){if(c={lane:2,revertLane:Dp(),action:c,hasEagerState:!1,eagerState:null,next:null},nh(r)){if(s)throw Error(i(479))}else s=gf(r,o,c,2),s!==null&&Un(s,r,2)}function nh(r){var s=r.alternate;return r===Pe||s!==null&&s===Pe}function W1(r,s){Do=Yu=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Y1(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,na(r,o)}}var rh={readContext:ln,use:Zu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},X1={readContext:ln,use:Zu,useCallback:function(r,s){return An().memoizedState=[r,s===void 0?null:s],r},useContext:ln,useEffect:O1,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,th(4194308,4,F1.bind(null,s,r),o)},useLayoutEffect:function(r,s){return th(4194308,4,r,s)},useInsertionEffect:function(r,s){th(4,2,r,s)},useMemo:function(r,s){var o=An();s=s===void 0?null:s;var c=r();if(Ra){gn(!0);try{r()}finally{gn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=An();if(o!==void 0){var p=o(s);if(Ra){gn(!0);try{o(s)}finally{gn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=MA.bind(null,Pe,r),[c.memoizedState,r]},useRef:function(r){var s=An();return r={current:r},s.memoizedState=r},useState:function(r){r=$f(r);var s=r.queue,o=Q1.bind(null,Pe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Kf,useDeferredValue:function(r,s){var o=An();return Qf(o,r,s)},useTransition:function(){var r=$f(!1);return r=q1.bind(null,Pe,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Pe,p=An();if(Ye){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ut===null)throw Error(i(349));(Ge&124)!==0||x1(c,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,O1(b1.bind(null,c,y,r),[r]),c.flags|=2048,ko(9,eh(),v1.bind(null,c,y,o,s),null),o},useId:function(){var r=An(),s=ut.identifierPrefix;if(Ye){var o=Ei,c=_i;o=(c&~(1<<32-Bt(c)-1)).toString(32)+o,s=""+s+"R"+o,o=Xu++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=DA++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Yf,useFormState:D1,useActionState:D1,useOptimistic:function(r){var s=An();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Xf.bind(null,Pe,!0,o),o.dispatch=s,[r,s]},useMemoCache:zf,useCacheRefresh:function(){return An().memoizedState=OA.bind(null,Pe)}},Z1={readContext:ln,use:Zu,useCallback:V1,useContext:ln,useEffect:M1,useImperativeHandle:L1,useInsertionEffect:B1,useLayoutEffect:j1,useMemo:U1,useReducer:Ju,useRef:P1,useState:function(){return Ju(Ti)},useDebugValue:Kf,useDeferredValue:function(r,s){var o=Rt();return z1(o,st.memoizedState,r,s)},useTransition:function(){var r=Ju(Ti)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:tc(r),s]},useSyncExternalStore:y1,useId:G1,useHostTransitionStatus:Yf,useFormState:I1,useActionState:I1,useOptimistic:function(r,s){var o=Rt();return w1(o,st,r,s)},useMemoCache:zf,useCacheRefresh:K1},BA={readContext:ln,use:Zu,useCallback:V1,useContext:ln,useEffect:M1,useImperativeHandle:L1,useInsertionEffect:B1,useLayoutEffect:j1,useMemo:U1,useReducer:Hf,useRef:P1,useState:function(){return Hf(Ti)},useDebugValue:Kf,useDeferredValue:function(r,s){var o=Rt();return st===null?Qf(o,r,s):z1(o,st.memoizedState,r,s)},useTransition:function(){var r=Hf(Ti)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:tc(r),s]},useSyncExternalStore:y1,useId:G1,useHostTransitionStatus:Yf,useFormState:N1,useActionState:N1,useOptimistic:function(r,s){var o=Rt();return st!==null?w1(o,st,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:zf,useCacheRefresh:K1},No=null,ic=0;function ih(r){var s=ic;return ic+=1,No===null&&(No=[]),c1(No,r,s)}function sc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function sh(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function J1(r){var s=r._init;return s(r._payload)}function ex(r){function s(W,K){if(r){var J=W.deletions;J===null?(W.deletions=[K],W.flags|=16):J.push(K)}}function o(W,K){if(!r)return null;for(;K!==null;)s(W,K),K=K.sibling;return null}function c(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function p(W,K){return W=bi(W,K),W.index=0,W.sibling=null,W}function y(W,K,J){return W.index=J,r?(J=W.alternate,J!==null?(J=J.index,J<K?(W.flags|=67108866,K):J):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function R(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function B(W,K,J,ae){return K===null||K.tag!==6?(K=xf(J,W.mode,ae),K.return=W,K):(K=p(K,J),K.return=W,K)}function H(W,K,J,ae){var be=J.type;return be===k?se(W,K,J.props.children,ae,J.key):K!==null&&(K.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===S&&J1(be)===K.type)?(K=p(K,J.props),sc(K,J),K.return=W,K):(K=Uu(J.type,J.key,J.props,null,W.mode,ae),sc(K,J),K.return=W,K)}function ee(W,K,J,ae){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=vf(J,W.mode,ae),K.return=W,K):(K=p(K,J.children||[]),K.return=W,K)}function se(W,K,J,ae,be){return K===null||K.tag!==7?(K=ba(J,W.mode,ae,be),K.return=W,K):(K=p(K,J),K.return=W,K)}function ce(W,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=xf(""+K,W.mode,J),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return J=Uu(K.type,K.key,K.props,null,W.mode,J),sc(J,K),J.return=W,J;case D:return K=vf(K,W.mode,J),K.return=W,K;case S:var ae=K._init;return K=ae(K._payload),ce(W,K,J)}if(de(K)||j(K))return K=ba(K,W.mode,J,null),K.return=W,K;if(typeof K.then=="function")return ce(W,ih(K),J);if(K.$$typeof===C)return ce(W,$u(W,K),J);sh(W,K)}return null}function ne(W,K,J,ae){var be=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return be!==null?null:B(W,K,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return J.key===be?H(W,K,J,ae):null;case D:return J.key===be?ee(W,K,J,ae):null;case S:return be=J._init,J=be(J._payload),ne(W,K,J,ae)}if(de(J)||j(J))return be!==null?null:se(W,K,J,ae,null);if(typeof J.then=="function")return ne(W,K,ih(J),ae);if(J.$$typeof===C)return ne(W,K,$u(W,J),ae);sh(W,J)}return null}function re(W,K,J,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return W=W.get(J)||null,B(K,W,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return W=W.get(ae.key===null?J:ae.key)||null,H(K,W,ae,be);case D:return W=W.get(ae.key===null?J:ae.key)||null,ee(K,W,ae,be);case S:var Oe=ae._init;return ae=Oe(ae._payload),re(W,K,J,ae,be)}if(de(ae)||j(ae))return W=W.get(J)||null,se(K,W,ae,be,null);if(typeof ae.then=="function")return re(W,K,J,ih(ae),be);if(ae.$$typeof===C)return re(W,K,J,$u(K,ae),be);sh(K,ae)}return null}function De(W,K,J,ae){for(var be=null,Oe=null,we=K,Se=K=0,Kt=null;we!==null&&Se<J.length;Se++){we.index>Se?(Kt=we,we=null):Kt=we.sibling;var We=ne(W,we,J[Se],ae);if(We===null){we===null&&(we=Kt);break}r&&we&&We.alternate===null&&s(W,we),K=y(We,K,Se),Oe===null?be=We:Oe.sibling=We,Oe=We,we=Kt}if(Se===J.length)return o(W,we),Ye&&Ea(W,Se),be;if(we===null){for(;Se<J.length;Se++)we=ce(W,J[Se],ae),we!==null&&(K=y(we,K,Se),Oe===null?be=we:Oe.sibling=we,Oe=we);return Ye&&Ea(W,Se),be}for(we=c(we);Se<J.length;Se++)Kt=re(we,W,Se,J[Se],ae),Kt!==null&&(r&&Kt.alternate!==null&&we.delete(Kt.key===null?Se:Kt.key),K=y(Kt,K,Se),Oe===null?be=Kt:Oe.sibling=Kt,Oe=Kt);return r&&we.forEach(function(Es){return s(W,Es)}),Ye&&Ea(W,Se),be}function Te(W,K,J,ae){if(J==null)throw Error(i(151));for(var be=null,Oe=null,we=K,Se=K=0,Kt=null,We=J.next();we!==null&&!We.done;Se++,We=J.next()){we.index>Se?(Kt=we,we=null):Kt=we.sibling;var Es=ne(W,we,We.value,ae);if(Es===null){we===null&&(we=Kt);break}r&&we&&Es.alternate===null&&s(W,we),K=y(Es,K,Se),Oe===null?be=Es:Oe.sibling=Es,Oe=Es,we=Kt}if(We.done)return o(W,we),Ye&&Ea(W,Se),be;if(we===null){for(;!We.done;Se++,We=J.next())We=ce(W,We.value,ae),We!==null&&(K=y(We,K,Se),Oe===null?be=We:Oe.sibling=We,Oe=We);return Ye&&Ea(W,Se),be}for(we=c(we);!We.done;Se++,We=J.next())We=re(we,W,Se,We.value,ae),We!==null&&(r&&We.alternate!==null&&we.delete(We.key===null?Se:We.key),K=y(We,K,Se),Oe===null?be=We:Oe.sibling=We,Oe=We);return r&&we.forEach(function(j3){return s(W,j3)}),Ye&&Ea(W,Se),be}function ot(W,K,J,ae){if(typeof J=="object"&&J!==null&&J.type===k&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case v:e:{for(var be=J.key;K!==null;){if(K.key===be){if(be=J.type,be===k){if(K.tag===7){o(W,K.sibling),ae=p(K,J.props.children),ae.return=W,W=ae;break e}}else if(K.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===S&&J1(be)===K.type){o(W,K.sibling),ae=p(K,J.props),sc(ae,J),ae.return=W,W=ae;break e}o(W,K);break}else s(W,K);K=K.sibling}J.type===k?(ae=ba(J.props.children,W.mode,ae,J.key),ae.return=W,W=ae):(ae=Uu(J.type,J.key,J.props,null,W.mode,ae),sc(ae,J),ae.return=W,W=ae)}return R(W);case D:e:{for(be=J.key;K!==null;){if(K.key===be)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){o(W,K.sibling),ae=p(K,J.children||[]),ae.return=W,W=ae;break e}else{o(W,K);break}else s(W,K);K=K.sibling}ae=vf(J,W.mode,ae),ae.return=W,W=ae}return R(W);case S:return be=J._init,J=be(J._payload),ot(W,K,J,ae)}if(de(J))return De(W,K,J,ae);if(j(J)){if(be=j(J),typeof be!="function")throw Error(i(150));return J=be.call(J),Te(W,K,J,ae)}if(typeof J.then=="function")return ot(W,K,ih(J),ae);if(J.$$typeof===C)return ot(W,K,$u(W,J),ae);sh(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(o(W,K.sibling),ae=p(K,J),ae.return=W,W=ae):(o(W,K),ae=xf(J,W.mode,ae),ae.return=W,W=ae),R(W)):o(W,K)}return function(W,K,J,ae){try{ic=0;var be=ot(W,K,J,ae);return No=null,be}catch(we){if(we===Wl||we===Ku)throw we;var Oe=Bn(29,we,null,W.mode);return Oe.lanes=ae,Oe.return=W,Oe}finally{}}}var Po=ex(!0),tx=ex(!1),nr=G(null),Hr=null;function os(r){var s=r.alternate;Q(Vt,Vt.current&1),Q(nr,r),Hr===null&&(s===null||Ro.current!==null||s.memoizedState!==null)&&(Hr=r)}function nx(r){if(r.tag===22){if(Q(Vt,Vt.current),Q(nr,r),Hr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Hr=r)}}else ls()}function ls(){Q(Vt,Vt.current),Q(nr,nr.current)}function Si(r){X(nr),Hr===r&&(Hr=null),X(Vt)}var Vt=G(0);function ah(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Up(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Zf(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:x({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Jf={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Vn(),p=is(c);p.payload=s,o!=null&&(p.callback=o),s=ss(r,p,c),s!==null&&(Un(s,r,c),Xl(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Vn(),p=is(c);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=ss(r,p,c),s!==null&&(Un(s,r,c),Xl(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Vn(),c=is(o);c.tag=2,s!=null&&(c.callback=s),s=ss(r,c,o),s!==null&&(Un(s,r,o),Xl(s,r,o))}};function rx(r,s,o,c,p,y,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,R):s.prototype&&s.prototype.isPureReactComponent?!Ul(o,c)||!Ul(p,y):!0}function ix(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Jf.enqueueReplaceState(s,s.state,null)}function Da(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=x({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var oh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function sx(r){oh(r)}function ax(r){console.error(r)}function ox(r){oh(r)}function lh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function lx(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ep(r,s,o){return o=is(o),o.tag=3,o.payload={element:null},o.callback=function(){lh(r,s)},o}function cx(r){return r=is(r),r.tag=3,r}function ux(r,s,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){lx(s,o,c)}}var R=o.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){lx(s,o,c),typeof p!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var B=c.stack;this.componentDidCatch(c.value,{componentStack:B!==null?B:""})})}function jA(r,s,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Gl(s,o,p,!0),o=nr.current,o!==null){switch(o.tag){case 13:return Hr===null?Ap():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Df?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Sp(r,c,p)),!1;case 22:return o.flags|=65536,c===Df?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Sp(r,c,p)),!1}throw Error(i(435,o.tag))}return Sp(r,c,p),Ap(),!1}if(Ye)return s=nr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Ef&&(r=Error(i(422),{cause:c}),$l(Zn(r,o)))):(c!==Ef&&(s=Error(i(423),{cause:c}),$l(Zn(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=Zn(c,o),p=ep(r.stateNode,c,p),Nf(r,p),xt!==4&&(xt=2)),!1;var y=Error(i(520),{cause:c});if(y=Zn(y,o),dc===null?dc=[y]:dc.push(y),xt!==4&&(xt=2),s===null)return!0;c=Zn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=ep(o.stateNode,c,r),Nf(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ps===null||!ps.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=cx(p),ux(p,r,o,c),Nf(o,p),!1}o=o.return}while(o!==null);return!1}var hx=Error(i(461)),$t=!1;function Jt(r,s,o,c){s.child=r===null?tx(s,null,o,c):Po(s,r.child,o,c)}function dx(r,s,o,c,p){o=o.render;var y=s.ref;if("ref"in c){var R={};for(var B in c)B!=="ref"&&(R[B]=c[B])}else R=c;return Sa(s),c=jf(r,s,o,R,y,p),B=Ff(),r!==null&&!$t?(Lf(r,s,p),Ci(r,s,p)):(Ye&&B&&bf(s),s.flags|=1,Jt(r,s,c,p),s.child)}function fx(r,s,o,c,p){if(r===null){var y=o.type;return typeof y=="function"&&!yf(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,px(r,s,y,c,p)):(r=Uu(o.type,null,c,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!lp(r,p)){var R=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ul,o(R,c)&&r.ref===s.ref)return Ci(r,s,p)}return s.flags|=1,r=bi(y,c),r.ref=s.ref,r.return=s,s.child=r}function px(r,s,o,c,p){if(r!==null){var y=r.memoizedProps;if(Ul(y,c)&&r.ref===s.ref)if($t=!1,s.pendingProps=c=y,lp(r,p))(r.flags&131072)!==0&&($t=!0);else return s.lanes=r.lanes,Ci(r,s,p)}return tp(r,s,o,c,p)}function mx(r,s,o){var c=s.pendingProps,p=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(p=s.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return gx(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Gu(s,y!==null?y.cachePool:null),y!==null?p1(s,y):Of(),nx(s);else return s.lanes=s.childLanes=536870912,gx(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(Gu(s,y.cachePool),p1(s,y),ls(),s.memoizedState=null):(r!==null&&Gu(s,null),Of(),ls());return Jt(r,s,p,o),s.child}function gx(r,s,o,c){var p=Rf();return p=p===null?null:{parent:Lt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&Gu(s,null),Of(),nx(s),r!==null&&Gl(r,s,c,!0),null}function ch(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function tp(r,s,o,c,p){return Sa(s),o=jf(r,s,o,c,void 0,p),c=Ff(),r!==null&&!$t?(Lf(r,s,p),Ci(r,s,p)):(Ye&&c&&bf(s),s.flags|=1,Jt(r,s,o,p),s.child)}function yx(r,s,o,c,p,y){return Sa(s),s.updateQueue=null,o=g1(s,c,o,p),m1(r),c=Ff(),r!==null&&!$t?(Lf(r,s,y),Ci(r,s,y)):(Ye&&c&&bf(s),s.flags|=1,Jt(r,s,o,y),s.child)}function xx(r,s,o,c,p){if(Sa(s),s.stateNode===null){var y=wo,R=o.contextType;typeof R=="object"&&R!==null&&(y=ln(R)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Jf,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},If(s),R=o.contextType,y.context=typeof R=="object"&&R!==null?ln(R):wo,y.state=s.memoizedState,R=o.getDerivedStateFromProps,typeof R=="function"&&(Zf(s,o,R,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&Jf.enqueueReplaceState(y,y.state,null),Jl(s,c,y,p),Zl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var B=s.memoizedProps,H=Da(o,B);y.props=H;var ee=y.context,se=o.contextType;R=wo,typeof se=="object"&&se!==null&&(R=ln(se));var ce=o.getDerivedStateFromProps;se=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",B=s.pendingProps!==B,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(B||ee!==R)&&ix(s,y,c,R),rs=!1;var ne=s.memoizedState;y.state=ne,Jl(s,c,y,p),Zl(),ee=s.memoizedState,B||ne!==ee||rs?(typeof ce=="function"&&(Zf(s,o,ce,c),ee=s.memoizedState),(H=rs||rx(s,o,H,c,ne,ee,R))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ee),y.props=c,y.state=ee,y.context=R,c=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,kf(r,s),R=s.memoizedProps,se=Da(o,R),y.props=se,ce=s.pendingProps,ne=y.context,ee=o.contextType,H=wo,typeof ee=="object"&&ee!==null&&(H=ln(ee)),B=o.getDerivedStateFromProps,(ee=typeof B=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==ce||ne!==H)&&ix(s,y,c,H),rs=!1,ne=s.memoizedState,y.state=ne,Jl(s,c,y,p),Zl();var re=s.memoizedState;R!==ce||ne!==re||rs||r!==null&&r.dependencies!==null&&Hu(r.dependencies)?(typeof B=="function"&&(Zf(s,o,B,c),re=s.memoizedState),(se=rs||rx(s,o,se,c,ne,re,H)||r!==null&&r.dependencies!==null&&Hu(r.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,re,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,re,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=re),y.props=c,y.state=re,y.context=H,c=se):(typeof y.componentDidUpdate!="function"||R===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,ch(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Po(s,r.child,null,p),s.child=Po(s,null,o,p)):Jt(r,s,o,p),s.memoizedState=y.state,r=s.child):r=Ci(r,s,p),r}function vx(r,s,o,c){return Hl(),s.flags|=256,Jt(r,s,o,c),s.child}var np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rp(r){return{baseLanes:r,cachePool:a1()}}function ip(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=rr),r}function bx(r,s,o){var c=s.pendingProps,p=!1,y=(s.flags&128)!==0,R;if((R=y)||(R=r!==null&&r.memoizedState===null?!1:(Vt.current&2)!==0),R&&(p=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ye){if(p?os(s):ls(),Ye){var B=yt,H;if(H=B){e:{for(H=B,B=qr;H.nodeType!==8;){if(!B){B=null;break e}if(H=gr(H.nextSibling),H===null){B=null;break e}}B=H}B!==null?(s.memoizedState={dehydrated:B,treeContext:_a!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},H=Bn(18,null,null,0),H.stateNode=B,H.return=s,s.child=H,bn=s,yt=null,H=!0):H=!1}H||Aa(s)}if(B=s.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return Up(B)?s.lanes=32:s.lanes=536870912,null;Si(s)}return B=c.children,c=c.fallback,p?(ls(),p=s.mode,B=uh({mode:"hidden",children:B},p),c=ba(c,p,o,null),B.return=s,c.return=s,B.sibling=c,s.child=B,p=s.child,p.memoizedState=rp(o),p.childLanes=ip(r,R,o),s.memoizedState=np,c):(os(s),sp(s,B))}if(H=r.memoizedState,H!==null&&(B=H.dehydrated,B!==null)){if(y)s.flags&256?(os(s),s.flags&=-257,s=ap(r,s,o)):s.memoizedState!==null?(ls(),s.child=r.child,s.flags|=128,s=null):(ls(),p=c.fallback,B=s.mode,c=uh({mode:"visible",children:c.children},B),p=ba(p,B,o,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Po(s,r.child,null,o),c=s.child,c.memoizedState=rp(o),c.childLanes=ip(r,R,o),s.memoizedState=np,s=p);else if(os(s),Up(B)){if(R=B.nextSibling&&B.nextSibling.dataset,R)var ee=R.dgst;R=ee,c=Error(i(419)),c.stack="",c.digest=R,$l({value:c,source:null,stack:null}),s=ap(r,s,o)}else if($t||Gl(r,s,o,!1),R=(o&r.childLanes)!==0,$t||R){if(R=ut,R!==null&&(c=o&-o,c=(c&42)!==0?1:hr(c),c=(c&(R.suspendedLanes|o))!==0?0:c,c!==0&&c!==H.retryLane))throw H.retryLane=c,Eo(r,c),Un(R,r,c),hx;B.data==="$?"||Ap(),s=ap(r,s,o)}else B.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,yt=gr(B.nextSibling),bn=s,Ye=!0,wa=null,qr=!1,r!==null&&(er[tr++]=_i,er[tr++]=Ei,er[tr++]=_a,_i=r.id,Ei=r.overflow,_a=s),s=sp(s,c.children),s.flags|=4096);return s}return p?(ls(),p=c.fallback,B=s.mode,H=r.child,ee=H.sibling,c=bi(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,ee!==null?p=bi(ee,p):(p=ba(p,B,o,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,B=r.child.memoizedState,B===null?B=rp(o):(H=B.cachePool,H!==null?(ee=Lt._currentValue,H=H.parent!==ee?{parent:ee,pool:ee}:H):H=a1(),B={baseLanes:B.baseLanes|o,cachePool:H}),p.memoizedState=B,p.childLanes=ip(r,R,o),s.memoizedState=np,c):(os(s),o=r.child,r=o.sibling,o=bi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(R=s.deletions,R===null?(s.deletions=[r],s.flags|=16):R.push(r)),s.child=o,s.memoizedState=null,o)}function sp(r,s){return s=uh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function uh(r,s){return r=Bn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function ap(r,s,o){return Po(s,r.child,null,o),r=sp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function _x(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Af(r.return,s,o)}function op(r,s,o,c,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=p)}function Ex(r,s,o){var c=s.pendingProps,p=c.revealOrder,y=c.tail;if(Jt(r,s,c.children,o),c=Vt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_x(r,o,s);else if(r.tag===19)_x(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(Q(Vt,c),p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&ah(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),op(s,!1,p,o,y);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&ah(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}op(s,!0,o,null,y);break;case"together":op(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ci(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),fs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Gl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=bi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=bi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function lp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Hu(r)))}function FA(r,s,o){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),ns(s,Lt,r.memoizedState.cache),Hl();break;case 27:case 5:pn(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:ns(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?bx(r,s,o):(os(s),r=Ci(r,s,o),r!==null?r.sibling:null);os(s);break;case 19:var p=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Gl(r,s,o,!1),c=(o&s.childLanes)!==0),p){if(c)return Ex(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Q(Vt,Vt.current),c)break;return null;case 22:case 23:return s.lanes=0,mx(r,s,o);case 24:ns(s,Lt,r.memoizedState.cache)}return Ci(r,s,o)}function wx(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)$t=!0;else{if(!lp(r,o)&&(s.flags&128)===0)return $t=!1,FA(r,s,o);$t=(r.flags&131072)!==0}else $t=!1,Ye&&(s.flags&1048576)!==0&&Jy(s,qu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")yf(c)?(r=Da(c,r),s.tag=1,s=xx(null,s,c,r,o)):(s.tag=0,s=tp(null,s,c,r,o));else{if(c!=null){if(p=c.$$typeof,p===V){s.tag=11,s=dx(null,s,c,r,o);break e}else if(p===I){s.tag=14,s=fx(null,s,c,r,o);break e}}throw s=he(c)||c,Error(i(306,s,""))}}return s;case 0:return tp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,p=Da(c,s.pendingProps),xx(r,s,c,p,o);case 3:e:{if(ve(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;p=y.element,kf(r,s),Jl(s,c,null,o);var R=s.memoizedState;if(c=R.cache,ns(s,Lt,c),c!==y.cache&&Tf(s,[Lt],o,!0),Zl(),c=R.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=vx(r,s,c,o);break e}else if(c!==p){p=Zn(Error(i(424)),s),$l(p),s=vx(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(yt=gr(r.firstChild),bn=s,Ye=!0,wa=null,qr=!0,o=tx(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Hl(),c===p){s=Ci(r,s,o);break e}Jt(r,s,c,o)}s=s.child}return s;case 26:return ch(r,s),r===null?(o=Cv(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ye||(o=s.type,r=s.pendingProps,c=Ah(me.current).createElement(o),c[gt]=s,c[qe]=r,tn(c,o,r),_t(c),s.stateNode=c):s.memoizedState=Cv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return pn(s),r===null&&Ye&&(c=s.stateNode=Av(s.type,s.pendingProps,me.current),bn=s,qr=!0,p=yt,ys(s.type)?(zp=p,yt=gr(c.firstChild)):yt=p),Jt(r,s,s.pendingProps.children,o),ch(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ye&&((p=c=yt)&&(c=d3(c,s.type,s.pendingProps,qr),c!==null?(s.stateNode=c,bn=s,yt=gr(c.firstChild),qr=!1,p=!0):p=!1),p||Aa(s)),pn(s),p=s.type,y=s.pendingProps,R=r!==null?r.memoizedProps:null,c=y.children,Fp(p,y)?c=null:R!==null&&Fp(p,R)&&(s.flags|=32),s.memoizedState!==null&&(p=jf(r,s,IA,null,null,o),_c._currentValue=p),ch(r,s),Jt(r,s,c,o),s.child;case 6:return r===null&&Ye&&((r=o=yt)&&(o=f3(o,s.pendingProps,qr),o!==null?(s.stateNode=o,bn=s,yt=null,r=!0):r=!1),r||Aa(s)),null;case 13:return bx(r,s,o);case 4:return ve(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Po(s,null,c,o):Jt(r,s,c,o),s.child;case 11:return dx(r,s,s.type,s.pendingProps,o);case 7:return Jt(r,s,s.pendingProps,o),s.child;case 8:return Jt(r,s,s.pendingProps.children,o),s.child;case 12:return Jt(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ns(s,s.type,c.value),Jt(r,s,c.children,o),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Sa(s),p=ln(p),c=c(p),s.flags|=1,Jt(r,s,c,o),s.child;case 14:return fx(r,s,s.type,s.pendingProps,o);case 15:return px(r,s,s.type,s.pendingProps,o);case 19:return Ex(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=uh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=bi(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return mx(r,s,o);case 24:return Sa(s),c=ln(Lt),r===null?(p=Rf(),p===null&&(p=ut,y=Sf(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:c,cache:p},If(s),ns(s,Lt,p)):((r.lanes&o)!==0&&(kf(r,s),Jl(s,null,null,o),Zl()),p=r.memoizedState,y=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ns(s,Lt,c)):(c=y.cache,ns(s,Lt,c),c!==p.cache&&Tf(s,[Lt],o,!0))),Jt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ri(r){r.flags|=4}function Ax(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Nv(s)){if(s=nr.current,s!==null&&((Ge&4194048)===Ge?Hr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||s!==Hr))throw Yl=Df,o1;r.flags|=8192}}function hh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Qi():536870912,r.lanes|=s,jo|=s)}function ac(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function pt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function LA(r,s,o){var c=s.pendingProps;switch(_f(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ai(Lt),an(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ql(s)?Ri(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,n1())),pt(s),null;case 26:return o=s.memoizedState,r===null?(Ri(s),o!==null?(pt(s),Ax(s,o)):(pt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ri(s),pt(s),Ax(s,o)):(pt(s),s.flags&=-16777217):(r.memoizedProps!==c&&Ri(s),pt(s),s.flags&=-16777217),null;case 27:kn(s),o=me.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ri(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return pt(s),null}r=te.current,ql(s)?e1(s):(r=Av(p,c,o),s.stateNode=r,Ri(s))}return pt(s),null;case 5:if(kn(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ri(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return pt(s),null}if(r=te.current,ql(s))e1(s);else{switch(p=Ah(me.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}r[gt]=s,r[qe]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(tn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ri(s)}}return pt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Ri(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=me.current,ql(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,p=bn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[gt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||yv(r.nodeValue,o)),r||Aa(s)}else r=Ah(r).createTextNode(c),r[gt]=s,s.stateNode=r}return pt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=ql(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[gt]=s}else Hl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),p=!1}else p=n1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Si(s),s):(Si(s),null)}if(Si(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),hh(s,s.updateQueue),pt(s),null;case 4:return an(),r===null&&Pp(s.stateNode.containerInfo),pt(s),null;case 10:return Ai(s.type),pt(s),null;case 19:if(X(Vt),p=s.memoizedState,p===null)return pt(s),null;if(c=(s.flags&128)!==0,y=p.rendering,y===null)if(c)ac(p,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=ah(r),y!==null){for(s.flags|=128,ac(p,!1),r=y.updateQueue,s.updateQueue=r,hh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Zy(o,r),o=o.sibling;return Q(Vt,Vt.current&1|2),s.child}r=r.sibling}p.tail!==null&&Yt()>ph&&(s.flags|=128,c=!0,ac(p,!1),s.lanes=4194304)}else{if(!c)if(r=ah(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,hh(s,r),ac(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ye)return pt(s),null}else 2*Yt()-p.renderingStartTime>ph&&o!==536870912&&(s.flags|=128,c=!0,ac(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(r=p.last,r!==null?r.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Yt(),s.sibling=null,r=Vt.current,Q(Vt,c?r&1|2:r&1),s):(pt(s),null);case 22:case 23:return Si(s),Mf(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),o=s.updateQueue,o!==null&&hh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&X(Ca),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ai(Lt),pt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function VA(r,s){switch(_f(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ai(Lt),an(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return kn(s),null;case 13:if(Si(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Hl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return X(Vt),null;case 4:return an(),null;case 10:return Ai(s.type),null;case 22:case 23:return Si(s),Mf(),r!==null&&X(Ca),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ai(Lt),null;case 25:return null;default:return null}}function Tx(r,s){switch(_f(s),s.tag){case 3:Ai(Lt),an();break;case 26:case 27:case 5:kn(s);break;case 4:an();break;case 13:Si(s);break;case 19:X(Vt);break;case 10:Ai(s.type);break;case 22:case 23:Si(s),Mf(),r!==null&&X(Ca);break;case 24:Ai(Lt)}}function oc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&r)===r){c=void 0;var y=o.create,R=o.inst;c=y(),R.destroy=c}o=o.next}while(o!==p)}}catch(B){lt(s,s.return,B)}}function cs(r,s,o){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var R=c.inst,B=R.destroy;if(B!==void 0){R.destroy=void 0,p=s;var H=o,ee=B;try{ee()}catch(se){lt(p,H,se)}}}c=c.next}while(c!==y)}}catch(se){lt(s,s.return,se)}}function Sx(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{f1(s,o)}catch(c){lt(r,r.return,c)}}}function Cx(r,s,o){o.props=Da(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){lt(r,s,c)}}function lc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(p){lt(r,s,p)}}function $r(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){lt(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){lt(r,s,p)}else o.current=null}function Rx(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){lt(r,r.return,p)}}function cp(r,s,o){try{var c=r.stateNode;o3(c,r.type,o,s),c[qe]=s}catch(p){lt(r,r.return,p)}}function Dx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ys(r.type)||r.tag===4}function up(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Dx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ys(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hp(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=wh));else if(c!==4&&(c===27&&ys(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(hp(r,s,o),r=r.sibling;r!==null;)hp(r,s,o),r=r.sibling}function dh(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&ys(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(dh(r,s,o),r=r.sibling;r!==null;)dh(r,s,o),r=r.sibling}function Ix(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);tn(s,c,o),s[gt]=r,s[qe]=o}catch(y){lt(r,r.return,y)}}var Di=!1,wt=!1,dp=!1,kx=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function UA(r,s){if(r=r.containerInfo,Bp=Ih,r=zy(r),uf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var R=0,B=-1,H=-1,ee=0,se=0,ce=r,ne=null;t:for(;;){for(var re;ce!==o||p!==0&&ce.nodeType!==3||(B=R+p),ce!==y||c!==0&&ce.nodeType!==3||(H=R+c),ce.nodeType===3&&(R+=ce.nodeValue.length),(re=ce.firstChild)!==null;)ne=ce,ce=re;for(;;){if(ce===r)break t;if(ne===o&&++ee===p&&(B=R),ne===y&&++se===c&&(H=R),(re=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=re}o=B===-1||H===-1?null:{start:B,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(jp={focusedElem:r,selectionRange:o},Ih=!1,Gt=s;Gt!==null;)if(s=Gt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Gt=r;else for(;Gt!==null;){switch(s=Gt,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var De=Da(o.type,p,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(De,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Te){lt(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Vp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Vp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Gt=r;break}Gt=s.return}}function Nx(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:us(r,o),c&4&&oc(5,o);break;case 1:if(us(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(R){lt(o,o.return,R)}else{var p=Da(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(R){lt(o,o.return,R)}}c&64&&Sx(o),c&512&&lc(o,o.return);break;case 3:if(us(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{f1(r,s)}catch(R){lt(o,o.return,R)}}break;case 27:s===null&&c&4&&Ix(o);case 26:case 5:us(r,o),s===null&&c&4&&Rx(o),c&512&&lc(o,o.return);break;case 12:us(r,o);break;case 13:us(r,o),c&4&&Mx(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=YA.bind(null,o),p3(r,o))));break;case 22:if(c=o.memoizedState!==null||Di,!c){s=s!==null&&s.memoizedState!==null||wt,p=Di;var y=wt;Di=c,(wt=s)&&!y?hs(r,o,(o.subtreeFlags&8772)!==0):us(r,o),Di=p,wt=y}break;case 30:break;default:us(r,o)}}function Px(r){var s=r.alternate;s!==null&&(r.alternate=null,Px(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Zi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var dt=null,Tn=!1;function Ii(r,s,o){for(o=o.child;o!==null;)Ox(r,s,o),o=o.sibling}function Ox(r,s,o){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(et,o)}catch{}switch(o.tag){case 26:wt||$r(o,s),Ii(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||$r(o,s);var c=dt,p=Tn;ys(o.type)&&(dt=o.stateNode,Tn=!1),Ii(r,s,o),yc(o.stateNode),dt=c,Tn=p;break;case 5:wt||$r(o,s);case 6:if(c=dt,p=Tn,dt=null,Ii(r,s,o),dt=c,Tn=p,dt!==null)if(Tn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(y){lt(o,s,y)}else try{dt.removeChild(o.stateNode)}catch(y){lt(o,s,y)}break;case 18:dt!==null&&(Tn?(r=dt,Ev(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Tc(r)):Ev(dt,o.stateNode));break;case 4:c=dt,p=Tn,dt=o.stateNode.containerInfo,Tn=!0,Ii(r,s,o),dt=c,Tn=p;break;case 0:case 11:case 14:case 15:wt||cs(2,o,s),wt||cs(4,o,s),Ii(r,s,o);break;case 1:wt||($r(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Cx(o,s,c)),Ii(r,s,o);break;case 21:Ii(r,s,o);break;case 22:wt=(c=wt)||o.memoizedState!==null,Ii(r,s,o),wt=c;break;default:Ii(r,s,o)}}function Mx(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Tc(r)}catch(o){lt(s,s.return,o)}}function zA(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new kx),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new kx),s;default:throw Error(i(435,r.tag))}}function fp(r,s){var o=zA(r);s.forEach(function(c){var p=XA.bind(null,r,c);o.has(c)||(o.add(c),c.then(p,p))})}function jn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],y=r,R=s,B=R;e:for(;B!==null;){switch(B.tag){case 27:if(ys(B.type)){dt=B.stateNode,Tn=!1;break e}break;case 5:dt=B.stateNode,Tn=!1;break e;case 3:case 4:dt=B.stateNode.containerInfo,Tn=!0;break e}B=B.return}if(dt===null)throw Error(i(160));Ox(y,R,p),dt=null,Tn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Bx(s,r),s=s.sibling}var mr=null;function Bx(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:jn(s,r),Fn(r),c&4&&(cs(3,r,r.return),oc(3,r),cs(5,r,r.return));break;case 1:jn(s,r),Fn(r),c&512&&(wt||o===null||$r(o,o.return)),c&64&&Di&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=mr;if(jn(s,r),Fn(r),c&512&&(wt||o===null||$r(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ia]||y[gt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),tn(y,c,o),y[gt]=r,_t(y),c=y;break e;case"link":var R=Iv("link","href",p).get(c+(o.href||""));if(R){for(var B=0;B<R.length;B++)if(y=R[B],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){R.splice(B,1);break t}}y=p.createElement(c),tn(y,c,o),p.head.appendChild(y);break;case"meta":if(R=Iv("meta","content",p).get(c+(o.content||""))){for(B=0;B<R.length;B++)if(y=R[B],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){R.splice(B,1);break t}}y=p.createElement(c),tn(y,c,o),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[gt]=r,_t(y),c=y}r.stateNode=c}else kv(p,r.type,r.stateNode);else r.stateNode=Dv(p,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?kv(p,r.type,r.stateNode):Dv(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&cp(r,r.memoizedProps,o.memoizedProps)}break;case 27:jn(s,r),Fn(r),c&512&&(wt||o===null||$r(o,o.return)),o!==null&&c&4&&cp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(jn(s,r),Fn(r),c&512&&(wt||o===null||$r(o,o.return)),r.flags&32){p=r.stateNode;try{Qn(p,"")}catch(re){lt(r,r.return,re)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,cp(r,p,o!==null?o.memoizedProps:p)),c&1024&&(dp=!0);break;case 6:if(jn(s,r),Fn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(re){lt(r,r.return,re)}}break;case 3:if(Ch=null,p=mr,mr=Th(s.containerInfo),jn(s,r),mr=p,Fn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Tc(s.containerInfo)}catch(re){lt(r,r.return,re)}dp&&(dp=!1,jx(r));break;case 4:c=mr,mr=Th(r.stateNode.containerInfo),jn(s,r),Fn(r),mr=c;break;case 12:jn(s,r),Fn(r);break;case 13:jn(s,r),Fn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vp=Yt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,fp(r,c)));break;case 22:p=r.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,ee=Di,se=wt;if(Di=ee||p,wt=se||H,jn(s,r),wt=se,Di=ee,Fn(r),c&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||H||Di||wt||Ia(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){H=o=s;try{if(y=H.stateNode,p)R=y.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{B=H.stateNode;var ce=H.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;B.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){lt(H,H.return,re)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch(re){lt(H,H.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,fp(r,o))));break;case 19:jn(s,r),Fn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,fp(r,c)));break;case 30:break;case 21:break;default:jn(s,r),Fn(r)}}function Fn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(Dx(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=up(r);dh(r,y,p);break;case 5:var R=o.stateNode;o.flags&32&&(Qn(R,""),o.flags&=-33);var B=up(r);dh(r,B,R);break;case 3:case 4:var H=o.stateNode.containerInfo,ee=up(r);hp(r,ee,H);break;default:throw Error(i(161))}}catch(se){lt(r,r.return,se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function jx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;jx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function us(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Nx(r,s.alternate,s),s=s.sibling}function Ia(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:cs(4,s,s.return),Ia(s);break;case 1:$r(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Cx(s,s.return,o),Ia(s);break;case 27:yc(s.stateNode);case 26:case 5:$r(s,s.return),Ia(s);break;case 22:s.memoizedState===null&&Ia(s);break;case 30:Ia(s);break;default:Ia(s)}r=r.sibling}}function hs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=r,y=s,R=y.flags;switch(y.tag){case 0:case 11:case 15:hs(p,y,o),oc(4,y);break;case 1:if(hs(p,y,o),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){lt(c,c.return,ee)}if(c=y,p=c.updateQueue,p!==null){var B=c.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)d1(H[p],B)}catch(ee){lt(c,c.return,ee)}}o&&R&64&&Sx(y),lc(y,y.return);break;case 27:Ix(y);case 26:case 5:hs(p,y,o),o&&c===null&&R&4&&Rx(y),lc(y,y.return);break;case 12:hs(p,y,o);break;case 13:hs(p,y,o),o&&R&4&&Mx(p,y);break;case 22:y.memoizedState===null&&hs(p,y,o),lc(y,y.return);break;case 30:break;default:hs(p,y,o)}s=s.sibling}}function pp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Kl(o))}function mp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r))}function Gr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Fx(r,s,o,c),s=s.sibling}function Fx(r,s,o,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Gr(r,s,o,c),p&2048&&oc(9,s);break;case 1:Gr(r,s,o,c);break;case 3:Gr(r,s,o,c),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r)));break;case 12:if(p&2048){Gr(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,R=y.id,B=y.onPostCommit;typeof B=="function"&&B(R,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){lt(s,s.return,H)}}else Gr(r,s,o,c);break;case 13:Gr(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,R=s.alternate,s.memoizedState!==null?y._visibility&2?Gr(r,s,o,c):cc(r,s):y._visibility&2?Gr(r,s,o,c):(y._visibility|=2,Oo(r,s,o,c,(s.subtreeFlags&10256)!==0)),p&2048&&pp(R,s);break;case 24:Gr(r,s,o,c),p&2048&&mp(s.alternate,s);break;default:Gr(r,s,o,c)}}function Oo(r,s,o,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,R=s,B=o,H=c,ee=R.flags;switch(R.tag){case 0:case 11:case 15:Oo(y,R,B,H,p),oc(8,R);break;case 23:break;case 22:var se=R.stateNode;R.memoizedState!==null?se._visibility&2?Oo(y,R,B,H,p):cc(y,R):(se._visibility|=2,Oo(y,R,B,H,p)),p&&ee&2048&&pp(R.alternate,R);break;case 24:Oo(y,R,B,H,p),p&&ee&2048&&mp(R.alternate,R);break;default:Oo(y,R,B,H,p)}s=s.sibling}}function cc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,p=c.flags;switch(c.tag){case 22:cc(o,c),p&2048&&pp(c.alternate,c);break;case 24:cc(o,c),p&2048&&mp(c.alternate,c);break;default:cc(o,c)}s=s.sibling}}var uc=8192;function Mo(r){if(r.subtreeFlags&uc)for(r=r.child;r!==null;)Lx(r),r=r.sibling}function Lx(r){switch(r.tag){case 26:Mo(r),r.flags&uc&&r.memoizedState!==null&&C3(mr,r.memoizedState,r.memoizedProps);break;case 5:Mo(r);break;case 3:case 4:var s=mr;mr=Th(r.stateNode.containerInfo),Mo(r),mr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=uc,uc=16777216,Mo(r),uc=s):Mo(r));break;default:Mo(r)}}function Vx(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function hc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Gt=c,zx(c,r)}Vx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ux(r),r=r.sibling}function Ux(r){switch(r.tag){case 0:case 11:case 15:hc(r),r.flags&2048&&cs(9,r,r.return);break;case 3:hc(r);break;case 12:hc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,fh(r)):hc(r);break;default:hc(r)}}function fh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Gt=c,zx(c,r)}Vx(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:cs(8,s,s.return),fh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,fh(s));break;default:fh(s)}r=r.sibling}}function zx(r,s){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:cs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Kl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Gt=c;else e:for(o=r;Gt!==null;){c=Gt;var p=c.sibling,y=c.return;if(Px(c),c===o){Gt=null;break e}if(p!==null){p.return=y,Gt=p;break e}Gt=y}}}var qA={getCacheForType:function(r){var s=ln(Lt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},HA=typeof WeakMap=="function"?WeakMap:Map,tt=0,ut=null,Me=null,Ge=0,nt=0,Ln=null,ds=!1,Bo=!1,gp=!1,ki=0,xt=0,fs=0,ka=0,yp=0,rr=0,jo=0,dc=null,Sn=null,xp=!1,vp=0,ph=1/0,mh=null,ps=null,en=0,ms=null,Fo=null,Lo=0,bp=0,_p=null,qx=null,fc=0,Ep=null;function Vn(){if((tt&2)!==0&&Ge!==0)return Ge&-Ge;if(Y.T!==null){var r=So;return r!==0?r:Dp()}return Nr()}function Hx(){rr===0&&(rr=(Ge&536870912)===0||Ye?ea():536870912);var r=nr.current;return r!==null&&(r.flags|=32),rr}function Un(r,s,o){(r===ut&&(nt===2||nt===9)||r.cancelPendingCommit!==null)&&(Vo(r,0),gs(r,Ge,rr,!1)),Gn(r,o),((tt&2)===0||r!==ut)&&(r===ut&&((tt&2)===0&&(ka|=o),xt===4&&gs(r,Ge,rr,!1)),Kr(r))}function $x(r,s,o){if((tt&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ci(r,s),p=c?KA(r,s):Tp(r,s,!0),y=c;do{if(p===0){Bo&&!c&&gs(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!$A(o)){p=Tp(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var B=r;p=dc;var H=B.current.memoizedState.isDehydrated;if(H&&(Vo(B,R).flags|=256),R=Tp(B,R,!1),R!==2){if(gp&&!H){B.errorRecoveryDisabledLanes|=y,ka|=y,p=4;break e}y=Sn,Sn=p,y!==null&&(Sn===null?Sn=y:Sn.push.apply(Sn,y))}p=R}if(y=!1,p!==2)continue}}if(p===1){Vo(r,0),gs(r,s,0,!0);break}e:{switch(c=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:gs(c,s,rr,!ds);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=vp+300-Yt(),10<p)){if(gs(c,s,rr,!ds),Gi(c,0,!0)!==0)break e;c.timeoutHandle=bv(Gx.bind(null,c,o,Sn,mh,xp,s,rr,ka,jo,ds,y,2,-0,0),p);break e}Gx(c,o,Sn,mh,xp,s,rr,ka,jo,ds,y,0,-0,0)}}break}while(!0);Kr(r)}function Gx(r,s,o,c,p,y,R,B,H,ee,se,ce,ne,re){if(r.timeoutHandle=-1,ce=s.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(bc={stylesheets:null,count:0,unsuspend:S3},Lx(s),ce=R3(),ce!==null)){r.cancelPendingCommit=ce(Jx.bind(null,r,s,y,o,c,p,R,B,H,se,1,ne,re)),gs(r,y,R,!ee);return}Jx(r,s,y,o,c,p,R,B,H)}function $A(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],y=p.getSnapshot;p=p.value;try{if(!Mn(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gs(r,s,o,c){s&=~yp,s&=~ka,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var p=s;0<p;){var y=31-Bt(p),R=1<<y;c[y]=-1,p&=~R}o!==0&&Kn(r,o,s)}function gh(){return(tt&6)===0?(pc(0),!1):!0}function wp(){if(Me!==null){if(nt===0)var r=Me.return;else r=Me,wi=Ta=null,Vf(r),No=null,ic=0,r=Me;for(;r!==null;)Tx(r.alternate,r),r=r.return;Me=null}}function Vo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,c3(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),wp(),ut=r,Me=o=bi(r.current,null),Ge=s,nt=0,Ln=null,ds=!1,Bo=ci(r,s),gp=!1,jo=rr=yp=ka=fs=xt=0,Sn=dc=null,xp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var p=31-Bt(c),y=1<<p;s|=r[p],c&=~y}return ki=s,Fu(),o}function Kx(r,s){Pe=null,Y.H=rh,s===Wl||s===Ku?(s=u1(),nt=3):s===o1?(s=u1(),nt=4):nt=s===hx?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Me===null&&(xt=1,lh(r,Zn(s,r.current)))}function Qx(){var r=Y.H;return Y.H=rh,r===null?rh:r}function Wx(){var r=Y.A;return Y.A=qA,r}function Ap(){xt=4,ds||(Ge&4194048)!==Ge&&nr.current!==null||(Bo=!0),(fs&134217727)===0&&(ka&134217727)===0||ut===null||gs(ut,Ge,rr,!1)}function Tp(r,s,o){var c=tt;tt|=2;var p=Qx(),y=Wx();(ut!==r||Ge!==s)&&(mh=null,Vo(r,s)),s=!1;var R=xt;e:do try{if(nt!==0&&Me!==null){var B=Me,H=Ln;switch(nt){case 8:wp(),R=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(s=!0);var ee=nt;if(nt=0,Ln=null,Uo(r,B,H,ee),o&&Bo){R=0;break e}break;default:ee=nt,nt=0,Ln=null,Uo(r,B,H,ee)}}GA(),R=xt;break}catch(se){Kx(r,se)}while(!0);return s&&r.shellSuspendCounter++,wi=Ta=null,tt=c,Y.H=p,Y.A=y,Me===null&&(ut=null,Ge=0,Fu()),R}function GA(){for(;Me!==null;)Yx(Me)}function KA(r,s){var o=tt;tt|=2;var c=Qx(),p=Wx();ut!==r||Ge!==s?(mh=null,ph=Yt()+500,Vo(r,s)):Bo=ci(r,s);e:do try{if(nt!==0&&Me!==null){s=Me;var y=Ln;t:switch(nt){case 1:nt=0,Ln=null,Uo(r,s,y,1);break;case 2:case 9:if(l1(y)){nt=0,Ln=null,Xx(s);break}s=function(){nt!==2&&nt!==9||ut!==r||(nt=7),Kr(r)},y.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:l1(y)?(nt=0,Ln=null,Xx(s)):(nt=0,Ln=null,Uo(r,s,y,7));break;case 5:var R=null;switch(Me.tag){case 26:R=Me.memoizedState;case 5:case 27:var B=Me;if(!R||Nv(R)){nt=0,Ln=null;var H=B.sibling;if(H!==null)Me=H;else{var ee=B.return;ee!==null?(Me=ee,yh(ee)):Me=null}break t}}nt=0,Ln=null,Uo(r,s,y,5);break;case 6:nt=0,Ln=null,Uo(r,s,y,6);break;case 8:wp(),xt=6;break e;default:throw Error(i(462))}}QA();break}catch(se){Kx(r,se)}while(!0);return wi=Ta=null,Y.H=c,Y.A=p,tt=o,Me!==null?0:(ut=null,Ge=0,Fu(),xt)}function QA(){for(;Me!==null&&!Cr();)Yx(Me)}function Yx(r){var s=wx(r.alternate,r,ki);r.memoizedProps=r.pendingProps,s===null?yh(r):Me=s}function Xx(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=yx(o,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=yx(o,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:Vf(s);default:Tx(o,s),s=Me=Zy(s,ki),s=wx(o,s,ki)}r.memoizedProps=r.pendingProps,s===null?yh(r):Me=s}function Uo(r,s,o,c){wi=Ta=null,Vf(s),No=null,ic=0;var p=s.return;try{if(jA(r,p,s,o,Ge)){xt=1,lh(r,Zn(o,r.current)),Me=null;return}}catch(y){if(p!==null)throw Me=p,y;xt=1,lh(r,Zn(o,r.current)),Me=null;return}s.flags&32768?(Ye||c===1?r=!0:Bo||(Ge&536870912)!==0?r=!1:(ds=r=!0,(c===2||c===9||c===3||c===6)&&(c=nr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Zx(s,r)):yh(s)}function yh(r){var s=r;do{if((s.flags&32768)!==0){Zx(s,ds);return}r=s.return;var o=LA(s.alternate,s,ki);if(o!==null){Me=o;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=r}while(s!==null);xt===0&&(xt=5)}function Zx(r,s){do{var o=VA(r.alternate,r);if(o!==null){o.flags&=32767,Me=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Me=r;return}Me=r=o}while(r!==null);xt=6,Me=null}function Jx(r,s,o,c,p,y,R,B,H){r.cancelPendingCommit=null;do xh();while(en!==0);if((tt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=mf,ta(r,o,y,R,B,H),r===ut&&(Me=ut=null,Ge=0),Fo=s,ms=r,Lo=o,bp=y,_p=p,qx=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,ZA(Mt,function(){return iv(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,p=le.p,le.p=2,R=tt,tt|=4;try{UA(r,s,o)}finally{tt=R,le.p=p,Y.T=c}}en=1,ev(),tv(),nv()}}function ev(){if(en===1){en=0;var r=ms,s=Fo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=le.p;le.p=2;var p=tt;tt|=4;try{Bx(s,r);var y=jp,R=zy(r.containerInfo),B=y.focusedElem,H=y.selectionRange;if(R!==B&&B&&B.ownerDocument&&Uy(B.ownerDocument.documentElement,B)){if(H!==null&&uf(B)){var ee=H.start,se=H.end;if(se===void 0&&(se=ee),"selectionStart"in B)B.selectionStart=ee,B.selectionEnd=Math.min(se,B.value.length);else{var ce=B.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),De=B.textContent.length,Te=Math.min(H.start,De),ot=H.end===void 0?Te:Math.min(H.end,De);!re.extend&&Te>ot&&(R=ot,ot=Te,Te=R);var W=Vy(B,Te),K=Vy(B,ot);if(W&&K&&(re.rangeCount!==1||re.anchorNode!==W.node||re.anchorOffset!==W.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var J=ce.createRange();J.setStart(W.node,W.offset),re.removeAllRanges(),Te>ot?(re.addRange(J),re.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),re.addRange(J))}}}}for(ce=[],re=B;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<ce.length;B++){var ae=ce[B];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Ih=!!Bp,jp=Bp=null}finally{tt=p,le.p=c,Y.T=o}}r.current=s,en=2}}function tv(){if(en===2){en=0;var r=ms,s=Fo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=le.p;le.p=2;var p=tt;tt|=4;try{Nx(r,s.alternate,s)}finally{tt=p,le.p=c,Y.T=o}}en=3}}function nv(){if(en===4||en===3){en=0,Rr();var r=ms,s=Fo,o=Lo,c=qx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?en=5:(en=0,Fo=ms=null,rv(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(ps=null),Wi(o),s=s.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(et,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Y.T,p=le.p,le.p=2,Y.T=null;try{for(var y=r.onRecoverableError,R=0;R<c.length;R++){var B=c[R];y(B.value,{componentStack:B.stack})}}finally{Y.T=s,le.p=p}}(Lo&3)!==0&&xh(),Kr(r),p=r.pendingLanes,(o&4194090)!==0&&(p&42)!==0?r===Ep?fc++:(fc=0,Ep=r):fc=0,pc(0)}}function rv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Kl(s)))}function xh(r){return ev(),tv(),nv(),iv()}function iv(){if(en!==5)return!1;var r=ms,s=bp;bp=0;var o=Wi(Lo),c=Y.T,p=le.p;try{le.p=32>o?32:o,Y.T=null,o=_p,_p=null;var y=ms,R=Lo;if(en=0,Fo=ms=null,Lo=0,(tt&6)!==0)throw Error(i(331));var B=tt;if(tt|=4,Ux(y.current),Fx(y,y.current,R,o),tt=B,pc(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(et,y)}catch{}return!0}finally{le.p=p,Y.T=c,rv(r,s)}}function sv(r,s,o){s=Zn(o,s),s=ep(r.stateNode,s,2),r=ss(r,s,2),r!==null&&(Gn(r,2),Kr(r))}function lt(r,s,o){if(r.tag===3)sv(r,r,o);else for(;s!==null;){if(s.tag===3){sv(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ps===null||!ps.has(c))){r=Zn(o,r),o=cx(2),c=ss(s,o,2),c!==null&&(ux(o,c,s,r),Gn(c,2),Kr(c));break}}s=s.return}}function Sp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new HA;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(o)||(gp=!0,p.add(o),r=WA.bind(null,r,s,o),s.then(r,r))}function WA(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ut===r&&(Ge&o)===o&&(xt===4||xt===3&&(Ge&62914560)===Ge&&300>Yt()-vp?(tt&2)===0&&Vo(r,0):yp|=o,jo===Ge&&(jo=0)),Kr(r)}function av(r,s){s===0&&(s=Qi()),r=Eo(r,s),r!==null&&(Gn(r,s),Kr(r))}function YA(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),av(r,o)}function XA(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),av(r,o)}function ZA(r,s){return Ot(r,s)}var vh=null,zo=null,Cp=!1,bh=!1,Rp=!1,Na=0;function Kr(r){r!==zo&&r.next===null&&(zo===null?vh=zo=r:zo=zo.next=r),bh=!0,Cp||(Cp=!0,e3())}function pc(r,s){if(!Rp&&bh){Rp=!0;do for(var o=!1,c=vh;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var R=c.suspendedLanes,B=c.pingedLanes;y=(1<<31-Bt(42|r)+1)-1,y&=p&~(R&~B),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,uv(c,y))}else y=Ge,y=Gi(c,c===ut?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||ci(c,y)||(o=!0,uv(c,y));c=c.next}while(o);Rp=!1}}function JA(){ov()}function ov(){bh=Cp=!1;var r=0;Na!==0&&(l3()&&(r=Na),Na=0);for(var s=Yt(),o=null,c=vh;c!==null;){var p=c.next,y=lv(c,s);y===0?(c.next=null,o===null?vh=p:o.next=p,p===null&&(zo=o)):(o=c,(r!==0||(y&3)!==0)&&(bh=!0)),c=p}pc(r)}function lv(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var R=31-Bt(y),B=1<<R,H=p[R];H===-1?((B&o)===0||(B&c)!==0)&&(p[R]=Ki(B,s)):H<=s&&(r.expiredLanes|=B),y&=~B}if(s=ut,o=Ge,o=Gi(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(nt===2||nt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&vt(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ci(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&vt(c),Wi(o)){case 2:case 8:o=$n;break;case 32:o=Mt;break;case 268435456:o=mn;break;default:o=Mt}return c=cv.bind(null,r),o=Ot(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&vt(c),r.callbackPriority=2,r.callbackNode=null,2}function cv(r,s){if(en!==0&&en!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(xh()&&r.callbackNode!==o)return null;var c=Ge;return c=Gi(r,r===ut?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:($x(r,c,s),lv(r,Yt()),r.callbackNode!=null&&r.callbackNode===o?cv.bind(null,r):null)}function uv(r,s){if(xh())return null;$x(r,s,!0)}function e3(){u3(function(){(tt&6)!==0?Ot(oi,JA):ov()})}function Dp(){return Na===0&&(Na=ea()),Na}function hv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:co(""+r)}function dv(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function t3(r,s,o,c,p){if(s==="submit"&&o&&o.stateNode===p){var y=hv((p[qe]||null).action),R=c.submitter;R&&(s=(s=R[qe]||null)?hv(s.formAction):R.getAttribute("formAction"),s!==null&&(y=s,R=null));var B=new uo("action","action",null,c,p);r.push({event:B,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Na!==0){var H=R?dv(p,R):new FormData(p);Wf(o,{pending:!0,data:H,method:p.method,action:y},null,H)}}else typeof y=="function"&&(B.preventDefault(),H=R?dv(p,R):new FormData(p),Wf(o,{pending:!0,data:H,method:p.method,action:y},y,H))},currentTarget:p}]})}}for(var Ip=0;Ip<pf.length;Ip++){var kp=pf[Ip],n3=kp.toLowerCase(),r3=kp[0].toUpperCase()+kp.slice(1);pr(n3,"on"+r3)}pr($y,"onAnimationEnd"),pr(Gy,"onAnimationIteration"),pr(Ky,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(bA,"onTransitionRun"),pr(_A,"onTransitionStart"),pr(EA,"onTransitionCancel"),pr(Qy,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function fv(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],p=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var R=c.length-1;0<=R;R--){var B=c[R],H=B.instance,ee=B.currentTarget;if(B=B.listener,H!==y&&p.isPropagationStopped())break e;y=B,p.currentTarget=ee;try{y(p)}catch(se){oh(se)}p.currentTarget=null,y=H}else for(R=0;R<c.length;R++){if(B=c[R],H=B.instance,ee=B.currentTarget,B=B.listener,H!==y&&p.isPropagationStopped())break e;y=B,p.currentTarget=ee;try{y(p)}catch(se){oh(se)}p.currentTarget=null,y=H}}}}function Be(r,s){var o=s[Yi];o===void 0&&(o=s[Yi]=new Set);var c=r+"__bubble";o.has(c)||(pv(s,r,2,!1),o.add(c))}function Np(r,s,o){var c=0;s&&(c|=4),pv(o,r,c,s)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Pp(r){if(!r[_h]){r[_h]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(i3.has(o)||Np(o,!1,r),Np(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[_h]||(s[_h]=!0,Np("selectionchange",!1,s))}}function pv(r,s,o,c){switch(Fv(s)){case 2:var p=k3;break;case 8:p=N3;break;default:p=Kp}o=p.bind(null,s,o,r),p=void 0,!Yn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function Op(r,s,o,c,p){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var B=c.stateNode.containerInfo;if(B===p)break;if(R===4)for(R=c.return;R!==null;){var H=R.tag;if((H===3||H===4)&&R.stateNode.containerInfo===p)return;R=R.return}for(;B!==null;){if(R=ui(B),R===null)return;if(H=R.tag,H===5||H===6||H===26||H===27){c=y=R;continue e}B=B.parentNode}}c=c.return}wu(function(){var ee=y,se=Wn(o),ce=[];e:{var ne=Wy.get(r);if(ne!==void 0){var re=uo,De=r;switch(r){case"keypress":if(Fr(o)===0)break e;case"keydown":case"keyup":re=yo;break;case"focusin":De="focus",re=po;break;case"focusout":De="blur",re=po;break;case"beforeblur":case"afterblur":re=po;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=ku;break;case $y:case Gy:case Ky:re=mo;break;case Qy:re=Pu;break;case"scroll":case"scrollend":re=Au;break;case"wheel":re=xo;break;case"copy":case"cut":case"paste":re=go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Ll;break;case"toggle":case"beforetoggle":re=Mu}var Te=(s&4)!==0,ot=!Te&&(r==="scroll"||r==="scrollend"),W=Te?ne!==null?ne+"Capture":null:ne;Te=[];for(var K=ee,J;K!==null;){var ae=K;if(J=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||J===null||W===null||(ae=ha(K,W),ae!=null&&Te.push(gc(K,ae,J))),ot)break;K=K.return}0<Te.length&&(ne=new re(ne,De,null,o,se),ce.push({event:ne,listeners:Te}))}}if((s&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",ne&&o!==pi&&(De=o.relatedTarget||o.fromElement)&&(ui(De)||De[bt]))break e;if((re||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(De=o.relatedTarget||o.toElement,re=ee,De=De?ui(De):null,De!==null&&(ot=l(De),Te=De.tag,De!==ot||Te!==5&&Te!==27&&Te!==6)&&(De=null)):(re=null,De=ee),re!==De)){if(Te=Xn,ae="onMouseLeave",W="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(Te=Ll,ae="onPointerLeave",W="onPointerEnter",K="pointer"),ot=re==null?ne:Or(re),J=De==null?ne:Or(De),ne=new Te(ae,K+"leave",re,o,se),ne.target=ot,ne.relatedTarget=J,ae=null,ui(se)===ee&&(Te=new Te(W,K+"enter",De,o,se),Te.target=J,Te.relatedTarget=ot,ae=Te),ot=ae,re&&De)t:{for(Te=re,W=De,K=0,J=Te;J;J=qo(J))K++;for(J=0,ae=W;ae;ae=qo(ae))J++;for(;0<K-J;)Te=qo(Te),K--;for(;0<J-K;)W=qo(W),J--;for(;K--;){if(Te===W||W!==null&&Te===W.alternate)break t;Te=qo(Te),W=qo(W)}Te=null}else Te=null;re!==null&&mv(ce,ne,re,Te,!1),De!==null&&ot!==null&&mv(ce,ot,De,Te,!0)}}e:{if(ne=ee?Or(ee):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var be=Oy;else if(Ft(ne))if(My)be=yA;else{be=mA;var Oe=pA}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Nl(ee.elementType)&&(be=Oy):be=gA;if(be&&(be=be(r,ee))){vi(ce,be,o,se);break e}Oe&&Oe(r,ne,ee),r==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&es(ne,"number",ne.value)}switch(Oe=ee?Or(ee):window,r){case"focusin":(Ft(Oe)||Oe.contentEditable==="true")&&(vo=Oe,hf=ee,zl=null);break;case"focusout":zl=hf=vo=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,qy(ce,o,se);break;case"selectionchange":if(vA)break;case"keydown":case"keyup":qy(ce,o,se)}var we;if(Ur)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else He?ie(r,o)&&(Se="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(A&&o.locale!=="ko"&&(He||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&He&&(we=Ol()):(jr=se,ts="value"in jr?jr.value:jr.textContent,He=!0)),Oe=Eh(ee,Se),0<Oe.length&&(Se=new jl(Se,r,null,o,se),ce.push({event:Se,listeners:Oe}),we?Se.data=we:(we=pe(o),we!==null&&(Se.data=we)))),(we=b?jt(r,o):$e(r,o))&&(Se=Eh(ee,"onBeforeInput"),0<Se.length&&(Oe=new jl("onBeforeInput","beforeinput",null,o,se),ce.push({event:Oe,listeners:Se}),Oe.data=we)),t3(ce,r,ee,o,se)}fv(ce,s)})}function gc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Eh(r,s){for(var o=s+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ha(r,o),p!=null&&c.unshift(gc(r,p,y)),p=ha(r,s),p!=null&&c.push(gc(r,p,y))),r.tag===3)return c;r=r.return}return[]}function qo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function mv(r,s,o,c,p){for(var y=s._reactName,R=[];o!==null&&o!==c;){var B=o,H=B.alternate,ee=B.stateNode;if(B=B.tag,H!==null&&H===c)break;B!==5&&B!==26&&B!==27||ee===null||(H=ee,p?(ee=ha(o,y),ee!=null&&R.unshift(gc(o,ee,H))):p||(ee=ha(o,y),ee!=null&&R.push(gc(o,ee,H)))),o=o.return}R.length!==0&&r.push({event:s,listeners:R})}var s3=/\r\n?/g,a3=/\u0000|\uFFFD/g;function gv(r){return(typeof r=="string"?r:""+r).replace(s3,`
`).replace(a3,"")}function yv(r,s){return s=gv(s),gv(r)===s}function wh(){}function at(r,s,o,c,p,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Qn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Qn(r,""+c);break;case"className":Mr(r,"class",c);break;case"tabIndex":Mr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(r,o,c);break;case"style":kl(r,c,y);break;case"data":if(s!=="object"){Mr(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=co(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&at(r,s,"name",p.name,p,null),at(r,s,"formEncType",p.formEncType,p,null),at(r,s,"formMethod",p.formMethod,p,null),at(r,s,"formTarget",p.formTarget,p,null)):(at(r,s,"encType",p.encType,p,null),at(r,s,"method",p.method,p,null),at(r,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=co(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=wh);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=co(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Be("beforetoggle",r),Be("toggle",r),Ji(r,"popover",c);break;case"xlinkActuate":Xt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ji(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rf.get(o)||o,Ji(r,o,c))}}function Mp(r,s,o,c,p,y){switch(o){case"style":kl(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Qn(r,c):(typeof c=="number"||typeof c=="bigint")&&Qn(r,""+c);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"onClick":c!=null&&(r.onclick=wh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!io.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=r[qe]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,p);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Ji(r,o,c)}}}function tn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var c=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var R=o[y];if(R!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(r,s,y,R,o,null)}}p&&at(r,s,"srcSet",o.srcSet,o,null),c&&at(r,s,"src",o.src,o,null);return;case"input":Be("invalid",r);var B=y=R=p=null,H=null,ee=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":p=se;break;case"type":R=se;break;case"checked":H=se;break;case"defaultChecked":ee=se;break;case"value":y=se;break;case"defaultValue":B=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:at(r,s,c,se,o,null)}}la(r,y,B,H,ee,R,p,!1),lo(r);return;case"select":Be("invalid",r),c=R=y=null;for(p in o)if(o.hasOwnProperty(p)&&(B=o[p],B!=null))switch(p){case"value":y=B;break;case"defaultValue":R=B;break;case"multiple":c=B;default:at(r,s,p,B,o,null)}s=y,o=R,r.multiple=!!c,s!=null?fi(r,!!c,s,!1):o!=null&&fi(r,!!c,o,!0);return;case"textarea":Be("invalid",r),y=p=c=null;for(R in o)if(o.hasOwnProperty(R)&&(B=o[R],B!=null))switch(R){case"value":c=B;break;case"defaultValue":p=B;break;case"children":y=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:at(r,s,R,B,o,null)}ca(r,c,p,y),lo(r);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(r,s,H,c,o,null)}return;case"dialog":Be("beforetoggle",r),Be("toggle",r),Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(c=0;c<mc.length;c++)Be(mc[c],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(c=o[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(r,s,ee,c,o,null)}return;default:if(Nl(s)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&Mp(r,s,se,c,o,void 0));return}}for(B in o)o.hasOwnProperty(B)&&(c=o[B],c!=null&&at(r,s,B,c,o,null))}function o3(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,R=null,B=null,H=null,ee=null,se=null;for(re in o){var ce=o[re];if(o.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=ce;default:c.hasOwnProperty(re)||at(r,s,re,null,c,ce)}}for(var ne in c){var re=c[ne];if(ce=o[ne],c.hasOwnProperty(ne)&&(re!=null||ce!=null))switch(ne){case"type":y=re;break;case"name":p=re;break;case"checked":ee=re;break;case"defaultChecked":se=re;break;case"value":R=re;break;case"defaultValue":B=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==ce&&at(r,s,ne,re,c,ce)}}On(r,R,B,H,ee,se,y,p);return;case"select":re=R=B=ne=null;for(y in o)if(H=o[y],o.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":re=H;default:c.hasOwnProperty(y)||at(r,s,y,null,c,H)}for(p in c)if(y=c[p],H=o[p],c.hasOwnProperty(p)&&(y!=null||H!=null))switch(p){case"value":ne=y;break;case"defaultValue":B=y;break;case"multiple":R=y;default:y!==H&&at(r,s,p,y,c,H)}s=B,o=R,c=re,ne!=null?fi(r,!!o,ne,!1):!!c!=!!o&&(s!=null?fi(r,!!o,s,!0):fi(r,!!o,o?[]:"",!1));return;case"textarea":re=ne=null;for(B in o)if(p=o[B],o.hasOwnProperty(B)&&p!=null&&!c.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:at(r,s,B,null,c,p)}for(R in c)if(p=c[R],y=o[R],c.hasOwnProperty(R)&&(p!=null||y!=null))switch(R){case"value":ne=p;break;case"defaultValue":re=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&at(r,s,R,p,c,y)}it(r,ne,re);return;case"option":for(var De in o)if(ne=o[De],o.hasOwnProperty(De)&&ne!=null&&!c.hasOwnProperty(De))switch(De){case"selected":r.selected=!1;break;default:at(r,s,De,null,c,ne)}for(H in c)if(ne=c[H],re=o[H],c.hasOwnProperty(H)&&ne!==re&&(ne!=null||re!=null))switch(H){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:at(r,s,H,ne,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)ne=o[Te],o.hasOwnProperty(Te)&&ne!=null&&!c.hasOwnProperty(Te)&&at(r,s,Te,null,c,ne);for(ee in c)if(ne=c[ee],re=o[ee],c.hasOwnProperty(ee)&&ne!==re&&(ne!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:at(r,s,ee,ne,c,re)}return;default:if(Nl(s)){for(var ot in o)ne=o[ot],o.hasOwnProperty(ot)&&ne!==void 0&&!c.hasOwnProperty(ot)&&Mp(r,s,ot,void 0,c,ne);for(se in c)ne=c[se],re=o[se],!c.hasOwnProperty(se)||ne===re||ne===void 0&&re===void 0||Mp(r,s,se,ne,c,re);return}}for(var W in o)ne=o[W],o.hasOwnProperty(W)&&ne!=null&&!c.hasOwnProperty(W)&&at(r,s,W,null,c,ne);for(ce in c)ne=c[ce],re=o[ce],!c.hasOwnProperty(ce)||ne===re||ne==null&&re==null||at(r,s,ce,ne,c,re)}var Bp=null,jp=null;function Ah(r){return r.nodeType===9?r:r.ownerDocument}function xv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vv(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Fp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Lp=null;function l3(){var r=window.event;return r&&r.type==="popstate"?r===Lp?!1:(Lp=r,!0):(Lp=null,!1)}var bv=typeof setTimeout=="function"?setTimeout:void 0,c3=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,u3=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(r){return _v.resolve(null).then(r).catch(h3)}:bv;function h3(r){setTimeout(function(){throw r})}function ys(r){return r==="head"}function Ev(r,s){var o=s,c=0,p=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var R=r.ownerDocument;if(o&1&&yc(R.documentElement),o&2&&yc(R.body),o&4)for(o=R.head,yc(o),R=o.firstChild;R;){var B=R.nextSibling,H=R.nodeName;R[ia]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&R.rel.toLowerCase()==="stylesheet"||o.removeChild(R),R=B}}if(p===0){r.removeChild(y),Tc(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Tc(s)}function Vp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vp(o),Zi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function d3(r,s,o,c){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[ia])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=gr(r.nextSibling),r===null)break}return null}function f3(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=gr(r.nextSibling),r===null))return null;return r}function Up(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function p3(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function gr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var zp=null;function wv(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Av(r,s,o){switch(s=Ah(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function yc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Zi(r)}var ir=new Map,Tv=new Set;function Th(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ni=le.d;le.d={f:m3,r:g3,D:y3,C:x3,L:v3,m:b3,X:E3,S:_3,M:w3};function m3(){var r=Ni.f(),s=gh();return r||s}function g3(r){var s=Pr(r);s!==null&&s.tag===5&&s.type==="form"?$1(s):Ni.r(r)}var Ho=typeof document>"u"?null:document;function Sv(r,s,o){var c=Ho;if(c&&typeof s=="string"&&s){var p=St(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Tv.has(p)||(Tv.add(p),r={rel:r,crossOrigin:o,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),tn(s,"link",r),_t(s),c.head.appendChild(s)))}}function y3(r){Ni.D(r),Sv("dns-prefetch",r,null)}function x3(r,s){Ni.C(r,s),Sv("preconnect",r,s)}function v3(r,s,o){Ni.L(r,s,o);var c=Ho;if(c&&r&&s){var p='link[rel="preload"][as="'+St(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+St(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+St(o.imageSizes)+'"]')):p+='[href="'+St(r)+'"]';var y=p;switch(s){case"style":y=$o(r);break;case"script":y=Go(r)}ir.has(y)||(r=x({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ir.set(y,r),c.querySelector(p)!==null||s==="style"&&c.querySelector(xc(y))||s==="script"&&c.querySelector(vc(y))||(s=c.createElement("link"),tn(s,"link",r),_t(s),c.head.appendChild(s)))}}function b3(r,s){Ni.m(r,s);var o=Ho;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+St(c)+'"][href="'+St(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Go(r)}if(!ir.has(y)&&(r=x({rel:"modulepreload",href:r},s),ir.set(y,r),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(vc(y)))return}c=o.createElement("link"),tn(c,"link",r),_t(c),o.head.appendChild(c)}}}function _3(r,s,o){Ni.S(r,s,o);var c=Ho;if(c&&r){var p=yn(c).hoistableStyles,y=$o(r);s=s||"default";var R=p.get(y);if(!R){var B={loading:0,preload:null};if(R=c.querySelector(xc(y)))B.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ir.get(y))&&qp(r,o);var H=R=c.createElement("link");_t(H),tn(H,"link",r),H._p=new Promise(function(ee,se){H.onload=ee,H.onerror=se}),H.addEventListener("load",function(){B.loading|=1}),H.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Sh(R,s,c)}R={type:"stylesheet",instance:R,count:1,state:B},p.set(y,R)}}}function E3(r,s){Ni.X(r,s);var o=Ho;if(o&&r){var c=yn(o).hoistableScripts,p=Go(r),y=c.get(p);y||(y=o.querySelector(vc(p)),y||(r=x({src:r,async:!0},s),(s=ir.get(p))&&Hp(r,s),y=o.createElement("script"),_t(y),tn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function w3(r,s){Ni.M(r,s);var o=Ho;if(o&&r){var c=yn(o).hoistableScripts,p=Go(r),y=c.get(p);y||(y=o.querySelector(vc(p)),y||(r=x({src:r,async:!0,type:"module"},s),(s=ir.get(p))&&Hp(r,s),y=o.createElement("script"),_t(y),tn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function Cv(r,s,o,c){var p=(p=me.current)?Th(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=$o(o.href),o=yn(p).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=$o(o.href);var y=yn(p).hoistableStyles,R=y.get(r);if(R||(p=p.ownerDocument||p,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,R),(y=p.querySelector(xc(r)))&&!y._p&&(R.instance=y,R.state.loading=5),ir.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ir.set(r,o),y||A3(p,r,o,R.state))),s&&c===null)throw Error(i(528,""));return R}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Go(o),o=yn(p).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function $o(r){return'href="'+St(r)+'"'}function xc(r){return'link[rel="stylesheet"]['+r+"]"}function Rv(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function A3(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),tn(s,"link",o),_t(s),r.head.appendChild(s))}function Go(r){return'[src="'+St(r)+'"]'}function vc(r){return"script[async]"+r}function Dv(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+St(o.href)+'"]');if(c)return s.instance=c,_t(c),c;var p=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),_t(c),tn(c,"style",p),Sh(c,o.precedence,r),s.instance=c;case"stylesheet":p=$o(o.href);var y=r.querySelector(xc(p));if(y)return s.state.loading|=4,s.instance=y,_t(y),y;c=Rv(o),(p=ir.get(p))&&qp(c,p),y=(r.ownerDocument||r).createElement("link"),_t(y);var R=y;return R._p=new Promise(function(B,H){R.onload=B,R.onerror=H}),tn(y,"link",c),s.state.loading|=4,Sh(y,o.precedence,r),s.instance=y;case"script":return y=Go(o.src),(p=r.querySelector(vc(y)))?(s.instance=p,_t(p),p):(c=o,(p=ir.get(y))&&(c=x({},o),Hp(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),_t(p),tn(p,"link",c),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Sh(c,o.precedence,r));return s.instance}function Sh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,R=0;R<c.length;R++){var B=c[R];if(B.dataset.precedence===s)y=B;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function qp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Hp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Ch=null;function Iv(r,s,o){if(Ch===null){var c=new Map,p=Ch=new Map;p.set(o,c)}else p=Ch,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var y=o[p];if(!(y[ia]||y[gt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(s)||"";R=r+R;var B=c.get(R);B?B.push(y):c.set(R,[y])}}return c}function kv(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function T3(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Nv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var bc=null;function S3(){}function C3(r,s,o){if(bc===null)throw Error(i(475));var c=bc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=$o(o.href),y=r.querySelector(xc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Rh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,_t(y);return}y=r.ownerDocument||r,o=Rv(o),(p=ir.get(p))&&qp(o,p),y=y.createElement("link"),_t(y);var R=y;R._p=new Promise(function(B,H){R.onload=B,R.onerror=H}),tn(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Rh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function R3(){if(bc===null)throw Error(i(475));var r=bc;return r.stylesheets&&r.count===0&&$p(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&$p(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Rh(){if(this.count--,this.count===0){if(this.stylesheets)$p(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Dh=null;function $p(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Dh=new Map,s.forEach(D3,r),Dh=null,Rh.call(r))}function D3(r,s){if(!(s.state.loading&4)){var o=Dh.get(r);if(o)var c=o.get(null);else{o=new Map,Dh.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var R=p[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(o.set(R.dataset.precedence,R),c=R)}c&&o.set(null,c)}p=s.instance,R=p.getAttribute("data-precedence"),y=o.get(R)||c,y===c&&o.set(null,p),o.set(R,p),this.count++,c=Rh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var _c={$$typeof:C,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function I3(r,s,o,c,p,y,R,B){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function Pv(r,s,o,c,p,y,R,B,H,ee,se,ce){return r=new I3(r,s,o,R,B,H,ee,ce),s=1,y===!0&&(s|=24),y=Bn(3,null,null,s),r.current=y,y.stateNode=r,s=Sf(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},If(y),r}function Ov(r){return r?(r=wo,r):wo}function Mv(r,s,o,c,p,y){p=Ov(p),c.context===null?c.context=p:c.pendingContext=p,c=is(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ss(r,c,s),o!==null&&(Un(o,r,s),Xl(o,r,s))}function Bv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Gp(r,s){Bv(r,s),(r=r.alternate)&&Bv(r,s)}function jv(r){if(r.tag===13){var s=Eo(r,67108864);s!==null&&Un(s,r,67108864),Gp(r,67108864)}}var Ih=!0;function k3(r,s,o,c){var p=Y.T;Y.T=null;var y=le.p;try{le.p=2,Kp(r,s,o,c)}finally{le.p=y,Y.T=p}}function N3(r,s,o,c){var p=Y.T;Y.T=null;var y=le.p;try{le.p=8,Kp(r,s,o,c)}finally{le.p=y,Y.T=p}}function Kp(r,s,o,c){if(Ih){var p=Qp(c);if(p===null)Op(r,s,c,kh,o),Lv(r,c);else if(O3(p,r,s,o,c))c.stopPropagation();else if(Lv(r,c),s&4&&-1<P3.indexOf(r)){for(;p!==null;){var y=Pr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=wn(y.pendingLanes);if(R!==0){var B=y;for(B.pendingLanes|=2,B.entangledLanes|=2;R;){var H=1<<31-Bt(R);B.entanglements[1]|=H,R&=~H}Kr(y),(tt&6)===0&&(ph=Yt()+500,pc(0))}}break;case 13:B=Eo(y,2),B!==null&&Un(B,y,2),gh(),Gp(y,2)}if(y=Qp(c),y===null&&Op(r,s,c,kh,o),y===p)break;p=y}p!==null&&c.stopPropagation()}else Op(r,s,c,null,o)}}function Qp(r){return r=Wn(r),Wp(r)}var kh=null;function Wp(r){if(kh=null,r=ui(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return kh=r,null}function Fv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case oi:return 2;case $n:return 8;case Mt:case on:return 32;case mn:return 268435456;default:return 32}default:return 32}}var Yp=!1,xs=null,vs=null,bs=null,Ec=new Map,wc=new Map,_s=[],P3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lv(r,s){switch(r){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Ec.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(s.pointerId)}}function Ac(r,s,o,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Pr(s),s!==null&&jv(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function O3(r,s,o,c,p){switch(s){case"focusin":return xs=Ac(xs,r,s,o,c,p),!0;case"dragenter":return vs=Ac(vs,r,s,o,c,p),!0;case"mouseover":return bs=Ac(bs,r,s,o,c,p),!0;case"pointerover":var y=p.pointerId;return Ec.set(y,Ac(Ec.get(y)||null,r,s,o,c,p)),!0;case"gotpointercapture":return y=p.pointerId,wc.set(y,Ac(wc.get(y)||null,r,s,o,c,p)),!0}return!1}function Vv(r){var s=ui(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,ra(r.priority,function(){if(o.tag===13){var c=Vn();c=hr(c);var p=Eo(o,c);p!==null&&Un(p,o,c),Gp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Nh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Qp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);pi=c,o.target.dispatchEvent(c),pi=null}else return s=Pr(o),s!==null&&jv(s),r.blockedOn=o,!1;s.shift()}return!0}function Uv(r,s,o){Nh(r)&&o.delete(s)}function M3(){Yp=!1,xs!==null&&Nh(xs)&&(xs=null),vs!==null&&Nh(vs)&&(vs=null),bs!==null&&Nh(bs)&&(bs=null),Ec.forEach(Uv),wc.forEach(Uv)}function Ph(r,s){r.blockedOn===s&&(r.blockedOn=null,Yp||(Yp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,M3)))}var Oh=null;function zv(r){Oh!==r&&(Oh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Oh===r&&(Oh=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],p=r[s+2];if(typeof c!="function"){if(Wp(c||o)===null)continue;break}var y=Pr(o);y!==null&&(r.splice(s,3),s-=3,Wf(y,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Tc(r){function s(H){return Ph(H,r)}xs!==null&&Ph(xs,r),vs!==null&&Ph(vs,r),bs!==null&&Ph(bs,r),Ec.forEach(s),wc.forEach(s);for(var o=0;o<_s.length;o++){var c=_s[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<_s.length&&(o=_s[0],o.blockedOn===null);)Vv(o),o.blockedOn===null&&_s.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],R=p[qe]||null;if(typeof y=="function")R||zv(o);else if(R){var B=null;if(y&&y.hasAttribute("formAction")){if(p=y,R=y[qe]||null)B=R.formAction;else if(Wp(p)!==null)continue}else B=R.action;typeof B=="function"?o[c+1]=B:(o.splice(c,3),c-=3),zv(o)}}}function Xp(r){this._internalRoot=r}Mh.prototype.render=Xp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Vn();Mv(o,c,r,s,null,null)},Mh.prototype.unmount=Xp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Mv(r.current,2,null,r,null,null),gh(),s[bt]=null}};function Mh(r){this._internalRoot=r}Mh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Nr();r={blockedOn:null,target:r,priority:s};for(var o=0;o<_s.length&&s!==0&&s<_s[o].priority;o++);_s.splice(o,0,r),o===0&&Vv(r)}};var qv=e.version;if(qv!=="19.1.1")throw Error(i(527,qv,"19.1.1"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var B3={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{et=Bh.inject(B3),Ve=Bh}catch{}}return Cc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",p=sx,y=ax,R=ox,B=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(B=s.unstable_transitionCallbacks)),s=Pv(r,1,!1,null,null,o,c,p,y,R,B,null),r[bt]=s.current,Pp(r),new Xp(s)},Cc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,p="",y=sx,R=ax,B=ox,H=null,ee=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(R=o.onCaughtError),o.onRecoverableError!==void 0&&(B=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks),o.formState!==void 0&&(ee=o.formState)),s=Pv(r,1,!0,s,o??null,c,p,y,R,B,H,ee),s.context=Ov(null),o=s.current,c=Vn(),c=hr(c),p=is(c),p.callback=null,ss(o,p,c),o=c,s.current.lanes=o,Gn(s,o),Kr(s),r[bt]=s.current,Pp(r),new Mh(s)},Cc.version="19.1.1",Cc}var Jv;function K3(){if(Jv)return tm.exports;Jv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tm.exports=G3(),tm.exports}var Q3=K3();const qc={_origin:"https://api.emailjs.com"},W3=(t,e="https://api.emailjs.com")=>{qc._userID=t,qc._origin=e},lE=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class e2{constructor(e){this.status=e.status,this.text=e.responseText}}const cE=(t,e,n={})=>new Promise((i,a)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:u})=>{const d=new e2(u);d.status===200||d.text==="OK"?i(d):a(d)}),l.addEventListener("error",({target:u})=>{a(new e2(u))}),l.open("POST",qc._origin+t,!0),Object.keys(n).forEach(u=>{l.setRequestHeader(u,n[u])}),l.send(e)}),Y3=(t,e,n,i)=>{const a=i||qc._userID;return lE(a,t,e),cE("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},X3=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Z3=(t,e,n,i)=>{const a=i||qc._userID,l=X3(n);lE(a,t,e);const u=new FormData(l);return u.append("lib_version","3.2.0"),u.append("service_id",t),u.append("template_id",e),u.append("user_id",a),cE("/api/v1.0/email/send-form",u)},Cm={init:W3,send:Y3,sendForm:Z3};/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t2="popstate";function J3(t={}){function e(i,a){let{pathname:l,search:u,hash:d}=i.location;return Rm("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Hc(a)}return tT(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eT(){return Math.random().toString(36).substring(2,10)}function n2(t,e){return{usr:t.state,key:t.key,idx:e}}function Rm(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?dl(e):e,state:n,key:e&&e.key||i||eT()}}function Hc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function tT(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,d="POP",m=null,f=x();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function x(){return(u.state||{idx:null}).idx}function _(){d="POP";let N=x(),L=N==null?null:N-f;f=N,m&&m({action:d,location:M.location,delta:L})}function v(N,L){d="PUSH";let w=Rm(M.location,N,L);f=x()+1;let C=n2(w,f),V=M.createHref(w);try{u.pushState(C,"",V)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(V)}l&&m&&m({action:d,location:M.location,delta:1})}function D(N,L){d="REPLACE";let w=Rm(M.location,N,L);f=x();let C=n2(w,f),V=M.createHref(w);u.replaceState(C,"",V),l&&m&&m({action:d,location:M.location,delta:0})}function k(N){return nT(N)}let M={get action(){return d},get location(){return t(a,u)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(t2,_),m=N,()=>{a.removeEventListener(t2,_),m=null}},createHref(N){return e(a,N)},createURL:k,encodeLocation(N){let L=k(N);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:D,go(N){return u.go(N)}};return M}function nT(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Hc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function uE(t,e,n="/"){return rT(t,e,n,!1)}function rT(t,e,n,i){let a=typeof e=="string"?dl(e):e,l=Li(a.pathname||"/",n);if(l==null)return null;let u=hE(t);iT(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let f=mT(l);d=fT(u[m],f,i)}return d}function hE(t,e=[],n=[],i=""){let a=(l,u,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let f=ji([i,m.relativePath]),x=n.concat(m);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),hE(l.children,e,x,f)),!(l.path==null&&!l.index)&&e.push({path:f,score:hT(f,l.index),routesMeta:x})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of dE(l.path))a(l,u,d)}),e}function dE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=dE(i.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function iT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var sT=/^:[\w-]+$/,aT=3,oT=2,lT=1,cT=10,uT=-2,r2=t=>t==="*";function hT(t,e){let n=t.split("/"),i=n.length;return n.some(r2)&&(i+=uT),e&&(i+=oT),n.filter(a=>!r2(a)).reduce((a,l)=>a+(sT.test(l)?aT:l===""?lT:cT),i)}function dT(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function fT(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let d=0;d<i.length;++d){let m=i[d],f=d===i.length-1,x=l==="/"?e:e.slice(l.length)||"/",_=qd({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},x),v=m.route;if(!_&&f&&n&&!i[i.length-1].route.index&&(_=qd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:ji([l,_.pathname]),pathnameBase:vT(ji([l,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(l=ji([l,_.pathnameBase]))}return u}function qd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=pT(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((f,{paramName:x,isOptional:_},v)=>{if(x==="*"){let k=d[v]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const D=d[v];return _&&!D?f[x]=void 0:f[x]=(D||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:u,pattern:t}}function pT(t,e=!1,n=!0){br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function mT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function gT(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?dl(t):t;return{pathname:n?n.startsWith("/")?n:yT(n,e):e,search:bT(i),hash:_T(a)}}function yT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sm(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yg(t){let e=xT(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function xg(t,e,n,i=!1){let a;typeof t=="string"?a=dl(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),sm("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),sm("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),sm("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;a.pathname=v.join("/")}d=_>=0?e[_]:"/"}let m=gT(a,d),f=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(f||x)&&(m.pathname+="/"),m}var ji=t=>t.join("/").replace(/\/\/+/g,"/"),vT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_T=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ET(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var fE=["POST","PUT","PATCH","DELETE"];new Set(fE);var wT=["GET",...fE];new Set(wT);var fl=$.createContext(null);fl.displayName="DataRouter";var x0=$.createContext(null);x0.displayName="DataRouterState";$.createContext(!1);var pE=$.createContext({isTransitioning:!1});pE.displayName="ViewTransition";var AT=$.createContext(new Map);AT.displayName="Fetchers";var TT=$.createContext(null);TT.displayName="Await";var Ar=$.createContext(null);Ar.displayName="Navigation";var ru=$.createContext(null);ru.displayName="Location";var Tr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var vg=$.createContext(null);vg.displayName="RouteError";function ST(t,{relative:e}={}){ft(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=$.useContext(Ar),{hash:a,pathname:l,search:u}=iu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ji([n,l])),i.createHref({pathname:d,search:u,hash:a})}function pl(){return $.useContext(ru)!=null}function Sr(){return ft(pl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(ru).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gE(t){$.useContext(Ar).static||$.useLayoutEffect(t)}function ml(){let{isDataRoute:t}=$.useContext(Tr);return t?VT():CT()}function CT(){ft(pl(),"useNavigate() may be used only in the context of a <Router> component.");let t=$.useContext(fl),{basename:e,navigator:n}=$.useContext(Ar),{matches:i}=$.useContext(Tr),{pathname:a}=Sr(),l=JSON.stringify(yg(i)),u=$.useRef(!1);return gE(()=>{u.current=!0}),$.useCallback((m,f={})=>{if(br(u.current,mE),!u.current)return;if(typeof m=="number"){n.go(m);return}let x=xg(m,JSON.parse(l),a,f.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ji([e,x.pathname])),(f.replace?n.replace:n.push)(x,f.state,f)},[e,n,l,a,t])}$.createContext(null);function RT(){let{matches:t}=$.useContext(Tr),e=t[t.length-1];return e?e.params:{}}function iu(t,{relative:e}={}){let{matches:n}=$.useContext(Tr),{pathname:i}=Sr(),a=JSON.stringify(yg(n));return $.useMemo(()=>xg(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function DT(t,e){return yE(t,e)}function yE(t,e,n,i){ft(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=$.useContext(Ar),{matches:l}=$.useContext(Tr),u=l[l.length-1],d=u?u.params:{},m=u?u.pathname:"/",f=u?u.pathnameBase:"/",x=u&&u.route;{let L=x&&x.path||"";xE(m,!x||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Sr(),v;if(e){let L=typeof e=="string"?dl(e):e;ft(f==="/"||L.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${L.pathname}" was given in the \`location\` prop.`),v=L}else v=_;let D=v.pathname||"/",k=D;if(f!=="/"){let L=f.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(L.length).join("/")}let M=uE(t,{pathname:k});br(x||M!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),br(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=OT(M&&M.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:ji([f,a.encodeLocation?a.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?f:ji([f,a.encodeLocation?a.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,n,i);return e&&N?$.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function IT(){let t=LT(),e=ET(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:a},n):null,u)}var kT=$.createElement(IT,null),NT=class extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?$.createElement(Tr.Provider,{value:this.props.routeContext},$.createElement(vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PT({routeContext:t,match:e,children:n}){let i=$.useContext(fl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Tr.Provider,{value:t},n)}function OT(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let f=a[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=m),f.route.id){let{loaderData:x,errors:_}=n,v=f.route.loader&&!x.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||v){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,f,x)=>{let _,v=!1,D=null,k=null;n&&(_=l&&f.route.id?l[f.route.id]:void 0,D=f.route.errorElement||kT,u&&(d<0&&x===0?(xE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,k=null):d===x&&(v=!0,k=f.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,x+1)),N=()=>{let L;return _?L=D:v?L=k:f.route.Component?L=$.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=m,$.createElement(PT,{match:f,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:L})};return n&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?$.createElement(NT,{location:n.location,revalidation:n.revalidation,component:D,error:_,children:N(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):N()},null)}function bg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MT(t){let e=$.useContext(fl);return ft(e,bg(t)),e}function BT(t){let e=$.useContext(x0);return ft(e,bg(t)),e}function jT(t){let e=$.useContext(Tr);return ft(e,bg(t)),e}function _g(t){let e=jT(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FT(){return _g("useRouteId")}function LT(){let t=$.useContext(vg),e=BT("useRouteError"),n=_g("useRouteError");return t!==void 0?t:e.errors?.[n]}function VT(){let{router:t}=MT("useNavigate"),e=_g("useNavigate"),n=$.useRef(!1);return gE(()=>{n.current=!0}),$.useCallback(async(a,l={})=>{br(n.current,mE),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var i2={};function xE(t,e,n){!e&&!i2[t]&&(i2[t]=!0,br(!1,n))}$.memo(UT);function UT({routes:t,future:e,state:n}){return yE(t,void 0,n,e)}function Eg({to:t,replace:e,state:n,relative:i}){ft(pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=$.useContext(Ar);br(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=$.useContext(Tr),{pathname:u}=Sr(),d=ml(),m=xg(t,yg(l),u,i==="path"),f=JSON.stringify(m);return $.useEffect(()=>{d(JSON.parse(f),{replace:e,state:n,relative:i})},[d,f,i,e,n]),null}function _n(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zT({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){ft(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=dl(n));let{pathname:m="/",search:f="",hash:x="",state:_=null,key:v="default"}=n,D=$.useMemo(()=>{let k=Li(m,u);return k==null?null:{location:{pathname:k,search:f,hash:x,state:_,key:v},navigationType:i}},[u,m,f,x,_,v,i]);return br(D!=null,`<Router basename="${u}"> is not able to match the URL "${m}${f}${x}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:$.createElement(Ar.Provider,{value:d},$.createElement(ru.Provider,{children:e,value:D}))}function vE({children:t,location:e}){return DT(Dm(t),e)}function Dm(t,e=[]){let n=[];return $.Children.forEach(t,(i,a)=>{if(!$.isValidElement(i))return;let l=[...e,a];if(i.type===$.Fragment){n.push.apply(n,Dm(i.props.children,l));return}ft(i.type===_n,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Dm(i.props.children,l)),n.push(u)}),n}var Kh="get",Qh="application/x-www-form-urlencoded";function v0(t){return t!=null&&typeof t.tagName=="string"}function qT(t){return v0(t)&&t.tagName.toLowerCase()==="button"}function HT(t){return v0(t)&&t.tagName.toLowerCase()==="form"}function $T(t){return v0(t)&&t.tagName.toLowerCase()==="input"}function GT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KT(t,e){return t.button===0&&(!e||e==="_self")&&!GT(t)}var jh=null;function QT(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var WT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function am(t){return t!=null&&!WT.has(t)?(br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qh}"`),null):t}function YT(t,e){let n,i,a,l,u;if(HT(t)){let d=t.getAttribute("action");i=d?Li(d,e):null,n=t.getAttribute("method")||Kh,a=am(t.getAttribute("enctype"))||Qh,l=new FormData(t)}else if(qT(t)||$T(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?Li(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Kh,a=am(t.getAttribute("formenctype"))||am(d.getAttribute("enctype"))||Qh,l=new FormData(d,t),!QT()){let{name:f,type:x,value:_}=t;if(x==="image"){let v=f?`${f}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else f&&l.append(f,_)}}else{if(v0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,i=null,a=Qh,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XT(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Li(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function ZT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function e6(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await ZT(l,n);return u.links?u.links():[]}return[]}));return i6(i.flat(1).filter(JT).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function s2(t,e,n,i,a,l){let u=(m,f)=>n[f]?m.route.id!==n[f].route.id:!0,d=(m,f)=>n[f].pathname!==m.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,f)=>u(m,f)||d(m,f)):l==="data"?e.filter((m,f)=>{let x=i.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(u(m,f)||d(m,f))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function t6(t,e,{includeHydrateFallback:n}={}){return n6(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function n6(t){return[...new Set(t)]}function r6(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function i6(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(r6(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function bE(){let t=$.useContext(fl);return wg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function s6(){let t=$.useContext(x0);return wg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ag=$.createContext(void 0);Ag.displayName="FrameworkContext";function _E(){let t=$.useContext(Ag);return wg(t,"You must render this element inside a <HydratedRouter> element"),t}function a6(t,e){let n=$.useContext(Ag),[i,a]=$.useState(!1),[l,u]=$.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:f,onMouseLeave:x,onTouchStart:_}=e,v=$.useRef(null);$.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=L=>{L.forEach(w=>{u(w.isIntersecting)})},N=new IntersectionObserver(M,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[t]),$.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let D=()=>{a(!0)},k=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:Rc(d,D),onBlur:Rc(m,k),onMouseEnter:Rc(f,D),onMouseLeave:Rc(x,k),onTouchStart:Rc(_,D)}]:[!1,v,{}]}function Rc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function o6({page:t,...e}){let{router:n}=bE(),i=$.useMemo(()=>uE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?$.createElement(c6,{page:t,matches:i,...e}):null}function l6(t){let{manifest:e,routeModules:n}=_E(),[i,a]=$.useState([]);return $.useEffect(()=>{let l=!1;return e6(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function c6({page:t,matches:e,...n}){let i=Sr(),{manifest:a,routeModules:l}=_E(),{basename:u}=bE(),{loaderData:d,matches:m}=s6(),f=$.useMemo(()=>s2(t,e,m,a,i,"data"),[t,e,m,a,i]),x=$.useMemo(()=>s2(t,e,m,a,i,"assets"),[t,e,m,a,i]),_=$.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,M=!1;if(e.forEach(L=>{let w=a.routes[L.route.id];!w||!w.hasLoader||(!f.some(C=>C.route.id===L.route.id)&&L.route.id in d&&l[L.route.id]?.shouldRevalidate||w.hasClientLoader?M=!0:k.add(L.route.id))}),k.size===0)return[];let N=XT(t,u,"data");return M&&k.size>0&&N.searchParams.set("_routes",e.filter(L=>k.has(L.route.id)).map(L=>L.route.id).join(",")),[N.pathname+N.search]},[u,d,i,a,f,e,t,l]),v=$.useMemo(()=>t6(x,a),[x,a]),D=l6(x);return $.createElement($.Fragment,null,_.map(k=>$.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),v.map(k=>$.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),D.map(({key:k,link:M})=>$.createElement("link",{key:k,...M})))}function u6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var EE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EE&&(window.__reactRouterVersion="7.7.1")}catch{}function h6({basename:t,children:e,window:n}){let i=$.useRef();i.current==null&&(i.current=J3({window:n,v5Compat:!0}));let a=i.current,[l,u]=$.useState({action:a.action,location:a.location}),d=$.useCallback(m=>{$.startTransition(()=>u(m))},[u]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.createElement(zT,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var wE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=$.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:f,preventScrollReset:x,viewTransition:_,...v},D){let{basename:k}=$.useContext(Ar),M=typeof f=="string"&&wE.test(f),N,L=!1;if(typeof f=="string"&&M&&(N=f,EE))try{let E=new URL(window.location.href),T=f.startsWith("//")?new URL(E.protocol+f):new URL(f),P=Li(T.pathname,k);T.origin===E.origin&&P!=null?f=P+T.search+T.hash:L=!0}catch{br(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=ST(f,{relative:a}),[C,V,z]=a6(i,v),U=m6(f,{replace:u,state:d,target:m,preventScrollReset:x,relative:a,viewTransition:_});function I(E){e&&e(E),E.defaultPrevented||U(E)}let S=$.createElement("a",{...v,...z,href:N||w,onClick:L||l?e:I,ref:u6(D,V),target:m,"data-discover":!M&&n==="render"?"true":void 0});return C&&!M?$.createElement($.Fragment,null,S,$.createElement(o6,{page:w})):S});Hn.displayName="Link";var d6=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...f},x){let _=iu(u,{relative:f.relative}),v=Sr(),D=$.useContext(x0),{navigator:k,basename:M}=$.useContext(Ar),N=D!=null&&b6(_)&&d===!0,L=k.encodeLocation?k.encodeLocation(_).pathname:_.pathname,w=v.pathname,C=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(w=w.toLowerCase(),C=C?C.toLowerCase():null,L=L.toLowerCase()),C&&M&&(C=Li(C,M)||C);const V=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let z=w===L||!a&&w.startsWith(L)&&w.charAt(V)==="/",U=C!=null&&(C===L||!a&&C.startsWith(L)&&C.charAt(L.length)==="/"),I={isActive:z,isPending:U,isTransitioning:N},S=z?e:void 0,E;typeof i=="function"?E=i(I):E=[i,z?"active":null,U?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(I):l;return $.createElement(Hn,{...f,"aria-current":S,className:E,ref:x,style:T,to:u,viewTransition:d},typeof m=="function"?m(I):m)});d6.displayName="NavLink";var f6=$.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=Kh,action:d,onSubmit:m,relative:f,preventScrollReset:x,viewTransition:_,...v},D)=>{let k=x6(),M=v6(d,{relative:f}),N=u.toLowerCase()==="get"?"get":"post",L=typeof d=="string"&&wE.test(d),w=C=>{if(m&&m(C),C.defaultPrevented)return;C.preventDefault();let V=C.nativeEvent.submitter,z=V?.getAttribute("formmethod")||u;k(V||C.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:a,state:l,relative:f,preventScrollReset:x,viewTransition:_})};return $.createElement("form",{ref:D,method:N,action:M,onSubmit:i?m:w,...v,"data-discover":!L&&t==="render"?"true":void 0})});f6.displayName="Form";function p6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AE(t){let e=$.useContext(fl);return ft(e,p6(t)),e}function m6(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let d=ml(),m=Sr(),f=iu(t,{relative:l});return $.useCallback(x=>{if(KT(x,e)){x.preventDefault();let _=n!==void 0?n:Hc(m)===Hc(f);d(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,d,f,n,i,e,t,a,l,u])}var g6=0,y6=()=>`__${String(++g6)}__`;function x6(){let{router:t}=AE("useSubmit"),{basename:e}=$.useContext(Ar),n=FT();return $.useCallback(async(i,a={})=>{let{action:l,method:u,encType:d,formData:m,body:f}=YT(i,e);if(a.navigate===!1){let x=a.fetcherKey||y6();await t.fetch(x,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:f,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:f,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function v6(t,{relative:e}={}){let{basename:n}=$.useContext(Ar),i=$.useContext(Tr);ft(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...iu(t||".",{relative:e})},u=Sr();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(x=>x==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let x=d.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ji([n,l.pathname])),Hc(l)}function b6(t,{relative:e}={}){let n=$.useContext(pE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=AE("useViewTransitionState"),a=iu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Li(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Li(n.nextLocation.pathname,i)||n.nextLocation.pathname;return qd(a.pathname,u)!=null||qd(a.pathname,l)!=null}var gl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Va=typeof window>"u"||"Deno"in globalThis;function En(){}function _6(t,e){return typeof t=="function"?t(e):t}function Im(t){return typeof t=="number"&&t>=0&&t!==1/0}function TE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ks(t,e){return typeof t=="function"?t(e):t}function sr(t,e){return typeof t=="function"?t(e):t}function a2(t,e){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:u,stale:d}=t;if(u){if(i){if(e.queryHash!==Tg(u,e.options))return!1}else if(!$c(e.queryKey,u))return!1}if(n!=="all"){const m=e.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||l&&!l(e))}function o2(t,e){const{exact:n,status:i,predicate:a,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(Ua(e.options.mutationKey)!==Ua(l))return!1}else if(!$c(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function Tg(t,e){return(e?.queryKeyHashFn||Ua)(t)}function Ua(t){return JSON.stringify(t,(e,n)=>km(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function $c(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$c(t[n],e[n])):!1}function SE(t,e){if(t===e)return t;const n=l2(t)&&l2(e);if(n||km(t)&&km(e)){const i=n?t:Object.keys(t),a=i.length,l=n?e:Object.keys(e),u=l.length,d=n?[]:{},m=new Set(i);let f=0;for(let x=0;x<u;x++){const _=n?x:l[x];(!n&&m.has(_)||n)&&t[_]===void 0&&e[_]===void 0?(d[_]=void 0,f++):(d[_]=SE(t[_],e[_]),d[_]===t[_]&&t[_]!==void 0&&f++)}return a===u&&f===a?t:d}return e}function Hd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function l2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function km(t){if(!c2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!c2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function c2(t){return Object.prototype.toString.call(t)==="[object Object]"}function E6(t){return new Promise(e=>{setTimeout(e,t)})}function Nm(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?SE(t,e):e}function w6(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function A6(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Sg=Symbol();function CE(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Sg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function RE(t,e){return typeof t=="function"?t(...e):!!t}var T6=class extends gl{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!Va&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Cg=new T6,S6=class extends gl{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!Va&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},$d=new S6;function Pm(){let t,e;const n=new Promise((a,l)=>{t=a,e=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),t(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}function C6(t){return Math.min(1e3*2**t,3e4)}function DE(t){return(t??"online")==="online"?$d.isOnline():!0}var IE=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function om(t){return t instanceof IE}function kE(t){let e=!1,n=0,i=!1,a;const l=Pm(),u=M=>{i||(v(new IE(M)),t.abort?.())},d=()=>{e=!0},m=()=>{e=!1},f=()=>Cg.isFocused()&&(t.networkMode==="always"||$d.isOnline())&&t.canRun(),x=()=>DE(t.networkMode)&&t.canRun(),_=M=>{i||(i=!0,t.onSuccess?.(M),a?.(),l.resolve(M))},v=M=>{i||(i=!0,t.onError?.(M),a?.(),l.reject(M))},D=()=>new Promise(M=>{a=N=>{(i||f())&&M(N)},t.onPause?.()}).then(()=>{a=void 0,i||t.onContinue?.()}),k=()=>{if(i)return;let M;const N=n===0?t.initialPromise:void 0;try{M=N??t.fn()}catch(L){M=Promise.reject(L)}Promise.resolve(M).then(_).catch(L=>{if(i)return;const w=t.retry??(Va?0:3),C=t.retryDelay??C6,V=typeof C=="function"?C(n,L):C,z=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,L);if(e||!z){v(L);return}n++,t.onFail?.(n,L),E6(V).then(()=>f()?void 0:D()).then(()=>{e?v(L):k()})})};return{promise:l,cancel:u,continue:()=>(a?.(),l),cancelRetry:d,continueRetry:m,canStart:x,start:()=>(x()?k():D().then(k),l)}}var R6=t=>setTimeout(t,0);function D6(){let t=[],e=0,n=d=>{d()},i=d=>{d()},a=R6;const l=d=>{e?t.push(d):a(()=>{n(d)})},u=()=>{const d=t;t=[],d.length&&a(()=>{i(()=>{d.forEach(m=>{n(m)})})})};return{batch:d=>{let m;e++;try{m=d()}finally{e--,e||u()}return m},batchCalls:d=>(...m)=>{l(()=>{d(...m)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{a=d}}}var Ut=D6(),NE=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Im(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Va?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},I6=class extends NE{#t;#e;#n;#r;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=k6(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const i=Nm(this.state.data,e,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#i?.promise;return this.#i?.cancel(e),n?n.then(En).catch(En):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>sr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ks(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!TE(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(x=>x.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},l=()=>{const f=CE(this.options,n),_=(()=>{const v={client:this.#r,queryKey:this.queryKey,meta:this.meta};return a(v),v})();return this.#o=!1,this.options.persister?this.options.persister(f,_,this):f(_)},d=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:l};return a(f),f})();this.options.behavior?.onFetch(d,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#s({type:"fetch",meta:d.fetchOptions?.meta});const m=f=>{om(f)&&f.silent||this.#s({type:"error",error:f}),om(f)||(this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#i=kE({initialPromise:n?.initialPromise,fn:d.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{if(f===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){m(x);return}this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:m,onFail:(f,x)=>{this.#s({type:"failed",failureCount:f,error:x})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...PE(i.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return om(a)&&a.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),Ut.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function PE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function k6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var N6=class extends gl{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const i=e.queryKey,a=e.queryHash??Tg(i,e);let l=this.get(a);return l||(l=new I6({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>a2(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>a2(t,n)):e}notify(t){Ut.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},P6=class extends NE{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||OE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})};this.#n=kE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const i=this.state.status==="pending",a=!this.#n.canStart();try{if(i)n();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#e.config.onMutate?.(e,this);const u=await this.options.onMutate?.(e);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:a})}const l=await this.#n.start();return await this.#e.config.onSuccess?.(l,e,this.state.context,this),await this.options.onSuccess?.(l,e,this.state.context),await this.#e.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,e,this.state.context),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#e.config.onError?.(l,e,this.state.context,this),await this.options.onError?.(l,e,this.state.context),await this.#e.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,e,this.state.context),l}finally{this.#r({type:"error",error:l})}}finally{this.#e.runNext(this)}}#r(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ut.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function OE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var O6=class extends gl{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const i=new P6({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#t.add(t);const e=Fh(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Fh(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Fh(t);if(typeof e=="string"){const i=this.#e.get(e)?.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=Fh(t);return typeof e=="string"?this.#e.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ut.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>o2(e,n))}findAll(t={}){return this.getAll().filter(e=>o2(t,e))}notify(t){Ut.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ut.batch(()=>Promise.all(t.map(e=>e.continue().catch(En))))}};function Fh(t){return t.options.scope?.id}function u2(t){return{onFetch:(e,n)=>{const i=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},m=0;const f=async()=>{let x=!1;const _=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},v=CE(e.options,e.fetchOptions),D=async(k,M,N)=>{if(x)return Promise.reject();if(M==null&&k.pages.length)return Promise.resolve(k);const w=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:M,direction:N?"backward":"forward",meta:e.options.meta};return _(U),U})(),C=await v(w),{maxPages:V}=e.options,z=N?A6:w6;return{pages:z(k.pages,C,V),pageParams:z(k.pageParams,M,V)}};if(a&&l.length){const k=a==="backward",M=k?M6:h2,N={pages:l,pageParams:u},L=M(i,N);d=await D(N,L,k)}else{const k=t??l.length;do{const M=m===0?u[0]??i.initialPageParam:h2(i,d);if(m>0&&M==null)break;d=await D(d,M),m++}while(m<k)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function h2(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function M6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var B6=class{#t;#e;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#t=t.queryCache||new N6,this.#e=t.mutationCache||new O6,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Cg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=$d.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ks(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),l=this.#t.get(i.queryHash)?.state.data,u=_6(e,l);if(u!==void 0)return this.#t.build(this,i).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return Ut.batch(()=>this.#t.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;Ut.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return Ut.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Ut.batch(()=>this.#t.findAll(t).map(a=>a.cancel(n)));return Promise.all(i).then(En).catch(En)}invalidateQueries(t,e={}){return Ut.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Ut.batch(()=>this.#t.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(En)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(En)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(ks(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(En).catch(En)}fetchInfiniteQuery(t){return t.behavior=u2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(En).catch(En)}ensureInfiniteQueryData(t){return t.behavior=u2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $d.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Ua(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{$c(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Ua(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{$c(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Tg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Sg&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},j6=class extends gl{constructor(t,e){super(),this.options=e,this.#t=t,this.#s=null,this.#o=Pm(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#m;#d;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),d2(this.#e,this.options)?this.#h():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Om(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Om(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#_(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof sr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#e.setOptions(this.options),e._defaulted&&!Hd(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&f2(this.#e,n,this.options,e)&&this.#h(),this.updateResult(),i&&(this.#e!==n||sr(this.options.enabled,this.#e)!==sr(e.enabled,this.#e)||ks(this.options.staleTime,this.#e)!==ks(e.staleTime,this.#e))&&this.#g();const a=this.#y();i&&(this.#e!==n||sr(this.options.enabled,this.#e)!==sr(e.enabled,this.#e)||a!==this.#l)&&this.#x(a)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return L6(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),Reflect.get(n,i))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#E();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(En)),e}#g(){this.#b();const t=ks(this.options.staleTime,this.#e);if(Va||this.#r.isStale||!Im(t))return;const n=TE(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#x(t){this.#_(),this.#l=t,!(Va||sr(this.options.enabled,this.#e)===!1||!Im(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Cg.isFocused())&&this.#h()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#e,i=this.options,a=this.#r,l=this.#i,u=this.#a,m=t!==n?t.state:this.#n,{state:f}=t;let x={...f},_=!1,v;if(e._optimisticResults){const S=this.hasListeners(),E=!S&&d2(t,e),T=S&&f2(t,n,e,i);(E||T)&&(x={...x,...PE(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:D,errorUpdatedAt:k,status:M}=x;v=x.data;let N=!1;if(e.placeholderData!==void 0&&v===void 0&&M==="pending"){let S;a?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(S=a.data,N=!0):S=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,S!==void 0&&(M="success",v=Nm(a?.data,S,e),_=!0)}if(e.select&&v!==void 0&&!N)if(a&&v===l?.data&&e.select===this.#m)v=this.#d;else try{this.#m=e.select,v=e.select(v),v=Nm(a?.data,v,e),this.#d=v,this.#s=null}catch(S){this.#s=S}this.#s&&(D=this.#s,v=this.#d,k=Date.now(),M="error");const L=x.fetchStatus==="fetching",w=M==="pending",C=M==="error",V=w&&L,z=v!==void 0,I={status:M,fetchStatus:x.fetchStatus,isPending:w,isSuccess:M==="success",isError:C,isInitialLoading:V,isLoading:V,data:v,dataUpdatedAt:x.dataUpdatedAt,error:D,errorUpdatedAt:k,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>m.dataUpdateCount||x.errorUpdateCount>m.errorUpdateCount,isFetching:L,isRefetching:L&&!w,isLoadingError:C&&!z,isPaused:x.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:C&&z,isStale:Rg(t,e),refetch:this.refetch,promise:this.#o,isEnabled:sr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const S=P=>{I.status==="error"?P.reject(I.error):I.data!==void 0&&P.resolve(I.data)},E=()=>{const P=this.#o=I.promise=Pm();S(P)},T=this.#o;switch(T.status){case"pending":t.queryHash===n.queryHash&&S(T);break;case"fulfilled":(I.status==="error"||I.data!==T.value)&&E();break;case"rejected":(I.status!=="error"||I.error!==T.reason)&&E();break}}return I}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#f=this.#e),Hd(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#p.size)return!0;const l=new Set(a??this.#p);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(u=>{const d=u;return this.#r[d]!==t[d]&&l.has(d)})};this.#w({listeners:n()})}#E(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#w(t){Ut.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function F6(t,e){return sr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function d2(t,e){return F6(t,e)||t.state.data!==void 0&&Om(t,e,e.refetchOnMount)}function Om(t,e,n){if(sr(e.enabled,t)!==!1&&ks(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&Rg(t,e)}return!1}function f2(t,e,n,i){return(t!==e||sr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Rg(t,n)}function Rg(t,e){return sr(e.enabled,t)!==!1&&t.isStaleByTime(ks(e.staleTime,t))}function L6(t,e){return!Hd(t.getCurrentResult(),e)}var V6=class extends gl{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),Hd(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ua(n.mutationKey)!==Ua(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??OE();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Ut.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,i=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,i),this.#r.onSettled?.(e.data,null,n,i)):e?.type==="error"&&(this.#r.onError?.(e.error,n,i),this.#r.onSettled?.(void 0,e.error,n,i))}this.listeners.forEach(n=>{n(this.#e)})})}},ME=$.createContext(void 0),Ka=t=>{const e=$.useContext(ME);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},U6=({client:t,children:e})=>($.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(ME.Provider,{value:t,children:e})),BE=$.createContext(!1),z6=()=>$.useContext(BE);BE.Provider;function q6(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var H6=$.createContext(q6()),$6=()=>$.useContext(H6),G6=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},K6=t=>{$.useEffect(()=>{t.clearReset()},[t])},Q6=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(a&&t.data===void 0||RE(n,[t.error,i])),W6=t=>{if(t.suspense){const e=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>e(n(...i)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Y6=(t,e)=>t.isLoading&&t.isFetching&&!e,X6=(t,e)=>t?.suspense&&e.isPending,p2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Z6(t,e,n){const i=z6(),a=$6(),l=Ka(),u=l.defaultQueryOptions(t);l.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=i?"isRestoring":"optimistic",W6(u),G6(u,a),K6(a);const d=!l.getQueryCache().get(u.queryHash),[m]=$.useState(()=>new e(l,u)),f=m.getOptimisticResult(u),x=!i&&t.subscribed!==!1;if($.useSyncExternalStore($.useCallback(_=>{const v=x?m.subscribe(Ut.batchCalls(_)):En;return m.updateResult(),v},[m,x]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),$.useEffect(()=>{m.setOptions(u)},[u,m]),X6(u,f))throw p2(u,m,a);if(Q6({result:f,errorResetBoundary:a,throwOnError:u.throwOnError,query:l.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw f.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(u,f),u.experimental_prefetchInRender&&!Va&&Y6(f,i)&&(d?p2(u,m,a):l.getQueryCache().get(u.queryHash)?.promise)?.catch(En).finally(()=>{m.updateResult()}),u.notifyOnChangeProps?f:m.trackResult(f)}function Dg(t,e){return Z6(t,j6)}function b0(t,e){const n=Ka(),[i]=$.useState(()=>new V6(n,t));$.useEffect(()=>{i.setOptions(t)},[i,t]);const a=$.useSyncExternalStore($.useCallback(u=>i.subscribe(Ut.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=$.useCallback((u,d)=>{i.mutate(u,d).catch(En)},[i]);if(a.error&&RE(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}let J6={data:""},eS=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||J6,tS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nS=/\/\*[^]*?\*\/|  +/g,m2=/\n+/g,As=(t,e)=>{let n="",i="",a="";for(let l in t){let u=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":i+=l[1]=="f"?As(u,l):l+"{"+As(u,l[1]=="k"?"":e)+"}":typeof u=="object"?i+=As(u,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,d):d?d+" "+m:m)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=As.p?As.p(l,u):l+":"+u+";")}return n+(e&&a?e+"{"+a+"}":a)+i},Pi={},jE=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+jE(t[n]);return e}return t},rS=(t,e,n,i,a)=>{let l=jE(t),u=Pi[l]||(Pi[l]=(m=>{let f=0,x=11;for(;f<m.length;)x=101*x+m.charCodeAt(f++)>>>0;return"go"+x})(l));if(!Pi[u]){let m=l!==t?t:(f=>{let x,_,v=[{}];for(;x=tS.exec(f.replace(nS,""));)x[4]?v.shift():x[3]?(_=x[3].replace(m2," ").trim(),v.unshift(v[0][_]=v[0][_]||{})):v[0][x[1]]=x[2].replace(m2," ").trim();return v[0]})(t);Pi[u]=As(a?{["@keyframes "+u]:m}:m,n?"":"."+u)}let d=n&&Pi.g?Pi.g:null;return n&&(Pi.g=Pi[u]),((m,f,x,_)=>{_?f.data=f.data.replace(_,m):f.data.indexOf(m)===-1&&(f.data=x?m+f.data:f.data+m)})(Pi[u],e,i,d),u},iS=(t,e,n)=>t.reduce((i,a,l)=>{let u=e[l];if(u&&u.call){let d=u(n),m=d&&d.props&&d.props.className||/^go/.test(d)&&d;u=m?"."+m:d&&typeof d=="object"?d.props?"":As(d,""):d===!1?"":d}return i+a+(u??"")},"");function _0(t){let e=this||{},n=t.call?t(e.p):t;return rS(n.unshift?n.raw?iS(n,[].slice.call(arguments,1),e.p):n.reduce((i,a)=>Object.assign(i,a&&a.call?a(e.p):a),{}):n,eS(e.target),e.g,e.o,e.k)}let FE,Mm,Bm;_0.bind({g:1});let Vi=_0.bind({k:1});function sS(t,e,n,i){As.p=e,FE=t,Mm=n,Bm=i}function Gs(t,e){let n=this||{};return function(){let i=arguments;function a(l,u){let d=Object.assign({},l),m=d.className||a.className;n.p=Object.assign({theme:Mm&&Mm()},d),n.o=/ *go\d+/.test(m),d.className=_0.apply(n,i)+(m?" "+m:"");let f=t;return t[0]&&(f=d.as||t,delete d.as),Bm&&f[0]&&Bm(d),FE(f,d)}return a}}var aS=t=>typeof t=="function",Gd=(t,e)=>aS(t)?t(e):t,oS=(()=>{let t=0;return()=>(++t).toString()})(),LE=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),lS=20,VE=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,lS)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:n}=e;return VE(t,{type:t.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},Wh=[],Ma={toasts:[],pausedAt:void 0},Qa=t=>{Ma=VE(Ma,t),Wh.forEach(e=>{e(Ma)})},cS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uS=(t={})=>{let[e,n]=$.useState(Ma),i=$.useRef(Ma);$.useEffect(()=>(i.current!==Ma&&n(Ma),Wh.push(n),()=>{let l=Wh.indexOf(n);l>-1&&Wh.splice(l,1)}),[]);let a=e.toasts.map(l=>{var u,d,m;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((u=t[l.type])==null?void 0:u.removeDelay)||t?.removeDelay,duration:l.duration||((d=t[l.type])==null?void 0:d.duration)||t?.duration||cS[l.type],style:{...t.style,...(m=t[l.type])==null?void 0:m.style,...l.style}}});return{...e,toasts:a}},hS=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||oS()}),su=t=>(e,n)=>{let i=hS(e,t,n);return Qa({type:2,toast:i}),i.id},xe=(t,e)=>su("blank")(t,e);xe.error=su("error");xe.success=su("success");xe.loading=su("loading");xe.custom=su("custom");xe.dismiss=t=>{Qa({type:3,toastId:t})};xe.remove=t=>Qa({type:4,toastId:t});xe.promise=(t,e,n)=>{let i=xe.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let l=e.success?Gd(e.success,a):void 0;return l?xe.success(l,{id:i,...n,...n?.success}):xe.dismiss(i),a}).catch(a=>{let l=e.error?Gd(e.error,a):void 0;l?xe.error(l,{id:i,...n,...n?.error}):xe.dismiss(i)}),t};var dS=(t,e)=>{Qa({type:1,toast:{id:t,height:e}})},fS=()=>{Qa({type:5,time:Date.now()})},Mc=new Map,pS=1e3,mS=(t,e=pS)=>{if(Mc.has(t))return;let n=setTimeout(()=>{Mc.delete(t),Qa({type:4,toastId:t})},e);Mc.set(t,n)},gS=t=>{let{toasts:e,pausedAt:n}=uS(t);$.useEffect(()=>{if(n)return;let l=Date.now(),u=e.map(d=>{if(d.duration===1/0)return;let m=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(m<0){d.visible&&xe.dismiss(d.id);return}return setTimeout(()=>xe.dismiss(d.id),m)});return()=>{u.forEach(d=>d&&clearTimeout(d))}},[e,n]);let i=$.useCallback(()=>{n&&Qa({type:6,time:Date.now()})},[n]),a=$.useCallback((l,u)=>{let{reverseOrder:d=!1,gutter:m=8,defaultPosition:f}=u||{},x=e.filter(D=>(D.position||f)===(l.position||f)&&D.height),_=x.findIndex(D=>D.id===l.id),v=x.filter((D,k)=>k<_&&D.visible).length;return x.filter(D=>D.visible).slice(...d?[v+1]:[0,v]).reduce((D,k)=>D+(k.height||0)+m,0)},[e]);return $.useEffect(()=>{e.forEach(l=>{if(l.dismissed)mS(l.id,l.removeDelay);else{let u=Mc.get(l.id);u&&(clearTimeout(u),Mc.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:dS,startPause:fS,endPause:i,calculateOffset:a}}},yS=Vi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xS=Vi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vS=Vi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bS=Gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_S=Vi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ES=Gs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${_S} 1s linear infinite;
`,wS=Vi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,AS=Vi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,TS=Gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${AS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SS=Gs("div")`
  position: absolute;
`,CS=Gs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,RS=Vi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DS=Gs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${RS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,IS=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?$.createElement(DS,null,e):e:n==="blank"?null:$.createElement(CS,null,$.createElement(ES,{...i}),n!=="loading"&&$.createElement(SS,null,n==="error"?$.createElement(bS,{...i}):$.createElement(TS,{...i})))},kS=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,NS=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,PS="0%{opacity:0;} 100%{opacity:1;}",OS="0%{opacity:1;} 100%{opacity:0;}",MS=Gs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,BS=Gs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jS=(t,e)=>{let n=t.includes("top")?1:-1,[i,a]=LE()?[PS,OS]:[kS(n),NS(n)];return{animation:e?`${Vi(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Vi(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},FS=$.memo(({toast:t,position:e,style:n,children:i})=>{let a=t.height?jS(t.position||e||"top-center",t.visible):{opacity:0},l=$.createElement(IS,{toast:t}),u=$.createElement(BS,{...t.ariaProps},Gd(t.message,t));return $.createElement(MS,{className:t.className,style:{...a,...n,...t.style}},typeof i=="function"?i({icon:l,message:u}):$.createElement($.Fragment,null,l,u))});sS($.createElement);var LS=({id:t,className:e,style:n,onHeightUpdate:i,children:a})=>{let l=$.useCallback(u=>{if(u){let d=()=>{let m=u.getBoundingClientRect().height;i(t,m)};d(),new MutationObserver(d).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return $.createElement("div",{ref:l,className:e,style:n},a)},VS=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:LE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...a}},US=_0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lh=16,zS=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:a,containerStyle:l,containerClassName:u})=>{let{toasts:d,handlers:m}=gS(n);return $.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Lh,left:Lh,right:Lh,bottom:Lh,pointerEvents:"none",...l},className:u,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(f=>{let x=f.position||e,_=m.calculateOffset(f,{reverseOrder:t,gutter:i,defaultPosition:e}),v=VS(x,_);return $.createElement(LS,{id:f.id,key:f.id,onHeightUpdate:m.updateHeight,className:f.visible?US:"",style:v},f.type==="custom"?Gd(f.message,f):a?a(f):$.createElement(FS,{toast:f,position:x}))}))},Xe=xe;/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),g2=t=>{const e=HS(t);return e.charAt(0).toUpperCase()+e.slice(1)},UE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),$S=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=$.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...d},m)=>$.createElement("svg",{ref:m,...GS,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:UE("lucide",a),...!l&&!$S(d)&&{"aria-hidden":"true"},...d},[...u.map(([f,x])=>$.createElement(f,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(t,e)=>{const n=$.forwardRef(({className:i,...a},l)=>$.createElement(KS,{ref:l,iconNode:e,className:UE(`lucide-${qS(g2(t))}`,`lucide-${t}`,i),...a}));return n.displayName=g2(t),n};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],au=Ue("arrow-left",QS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zE=Ue("calendar",WS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],y2=Ue("chart-column",YS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZS=Ue("check",XS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eC=Ue("chevron-down",JS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nC=Ue("circle-alert",tC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],iC=Ue("database",rC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],aC=Ue("download",sC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lC=Ue("eye-off",oC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kd=Ue("eye",cC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fa=Ue("file-text",uC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],qE=Ue("folder",hC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],fC=Ue("house",dC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],mC=Ue("key",pC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],HE=Ue("link",gC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xC=Ue("lock",yC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],bC=Ue("log-in",vC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$E=Ue("log-out",_C);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ig=Ue("mail",EC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],AC=Ue("menu",wC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],jm=Ue("message-square",TC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],CC=Ue("pen",SC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qd=Ue("plus",RC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],x2=Ue("save",DC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],GE=Ue("search",IC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],NC=Ue("send",kC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],OC=Ue("square-pen",PC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],KE=Ue("tag",MC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],QE=Ue("trash-2",BC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],v2=Ue("trending-up",jC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],E0=Ue("upload",FC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],VC=Ue("user-plus",LC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],w0=Ue("user",UC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qC=Ue("users",zC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],il=Ue("x",HC);function $C(t){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)}function b2(t,e){return t.length<=e?t:t.slice(0,e)+"..."}const GC="modulepreload",KC=function(t){return"/pdf-library-hub/"+t},_2={},QC=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let m=function(f){return Promise.all(f.map(x=>Promise.resolve(x).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");a=m(n.map(f=>{if(f=KC(f),f in _2)return;_2[f]=!0;const x=f.endsWith(".css"),_=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${_}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":GC,x||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),x)return new Promise((D,k)=>{v.addEventListener("load",D),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},WC=()=>{};var E2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},YC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,f=m?t[a+2]:0,x=l>>2,_=(l&3)<<4|d>>4;let v=(d&15)<<2|f>>6,D=f&63;m||(D=64,u||(v=64)),i.push(n[x],n[_],n[v],n[D])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||f==null||_==null)throw new XC;const v=l<<2|d>>4;if(i.push(v),f!==64){const D=d<<4&240|f>>2;if(i.push(D),_!==64){const k=f<<6&192|_;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZC=function(t){const e=WE(t);return YE.encodeByteArray(e,!0)},Wd=function(t){return ZC(t).replace(/\./g,"")},XE=function(t){try{return YE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=()=>JC().__FIREBASE_DEFAULTS__,t8=()=>{if(typeof process>"u"||typeof E2>"u")return;const t=E2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XE(t[1]);return e&&JSON.parse(e)},A0=()=>{try{return WC()||e8()||t8()||n8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZE=t=>A0()?.emulatorHosts?.[t],JE=t=>{const e=ZE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},e4=()=>A0()?.config,t4=t=>A0()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wd(JSON.stringify(n)),Wd(JSON.stringify(u)),""].join(".")}const Bc={};function i8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bc))Bc[e]?t.emulator.push(e):t.prod.push(e);return t}function s8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w2=!1;function Ng(t,e){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||Bc[t]===e||Bc[t]||w2)return;Bc[t]=e;function n(v){return`__firebase__banner__${v}`}const i="__firebase__banner",l=i8().prod.length>0;function u(){const v=document.getElementById(i);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,D){v.setAttribute("width","24"),v.setAttribute("id",D),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{w2=!0,u()},v}function x(v,D){v.setAttribute("id",D),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=s8(i),D=n("text"),k=document.getElementById(D)||document.createElement("span"),M=n("learnmore"),N=document.getElementById(M)||document.createElement("a"),L=n("preprendIcon"),w=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const C=v.element;d(C),x(N,M);const V=f();m(w,L),C.append(w,k,N,V),document.body.appendChild(C)}l?(k.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function o8(){const t=A0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u8(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function h8(){return!o8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i4(){try{return typeof indexedDB=="object"}catch{return!1}}function s4(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function d8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="FirebaseError";class cr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=f8,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?p8(l,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new cr(a,d,i)}}function p8(t,e){return t.replace(m8,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const m8=/\{\$([^}]+)}/g;function g8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function js(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(A2(l)&&A2(u)){if(!js(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function A2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ic(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function y8(t,e){const n=new x8(t,e);return n.subscribe.bind(n)}class x8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");v8(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=lm),a.error===void 0&&(a.error=lm),a.complete===void 0&&(a.complete=lm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=1e3,_8=2,E8=14400*1e3,w8=.5;function T2(t,e=b8,n=_8){const i=e*Math.pow(n,t),a=Math.round(w8*i*(Math.random()-.5)*2);return Math.min(E8,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class lr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new r8;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S8(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:T8(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T8(t){return t===Pa?void 0:t}function S8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const R8={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},D8=je.INFO,I8={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},k8=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=I8[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T0{constructor(e){this.name=e,this._logLevel=D8,this._logHandler=k8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const N8=(t,e)=>e.some(n=>t instanceof n);let S2,C2;function P8(){return S2||(S2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O8(){return C2||(C2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a4=new WeakMap,Fm=new WeakMap,o4=new WeakMap,cm=new WeakMap,Pg=new WeakMap;function M8(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ns(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&a4.set(n,t)}).catch(()=>{}),Pg.set(e,t),e}function B8(t){if(Fm.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Fm.set(t,e)}let Lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j8(t){Lm=t(Lm)}function F8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(um(this),e,...n);return o4.set(i,e.sort?e.sort():[e]),Ns(i)}:O8().includes(t)?function(...e){return t.apply(um(this),e),Ns(a4.get(this))}:function(...e){return Ns(t.apply(um(this),e))}}function L8(t){return typeof t=="function"?F8(t):(t instanceof IDBTransaction&&B8(t),N8(t,P8())?new Proxy(t,Lm):t)}function Ns(t){if(t instanceof IDBRequest)return M8(t);if(cm.has(t))return cm.get(t);const e=L8(t);return e!==t&&(cm.set(t,e),Pg.set(e,t)),e}const um=t=>Pg.get(t);function l4(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Ns(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Ns(u.result),m.oldVersion,m.newVersion,Ns(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const V8=["get","getKey","getAll","getAllKeys","count"],U8=["put","add","delete","clear"],hm=new Map;function R2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=U8.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||V8.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let f=m.store;return i&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),a&&m.done]))[0]};return hm.set(e,l),l}j8(t=>({...t,get:(e,n,i)=>R2(e,n)||t.get(e,n,i),has:(e,n)=>!!R2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q8(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function q8(t){return t.getComponent()?.type==="VERSION"}const Vm="@firebase/app",D2="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new T0("@firebase/app"),H8="@firebase/app-compat",$8="@firebase/analytics-compat",G8="@firebase/analytics",K8="@firebase/app-check-compat",Q8="@firebase/app-check",W8="@firebase/auth",Y8="@firebase/auth-compat",X8="@firebase/database",Z8="@firebase/data-connect",J8="@firebase/database-compat",eR="@firebase/functions",tR="@firebase/functions-compat",nR="@firebase/installations",rR="@firebase/installations-compat",iR="@firebase/messaging",sR="@firebase/messaging-compat",aR="@firebase/performance",oR="@firebase/performance-compat",lR="@firebase/remote-config",cR="@firebase/remote-config-compat",uR="@firebase/storage",hR="@firebase/storage-compat",dR="@firebase/firestore",fR="@firebase/ai",pR="@firebase/firestore-compat",mR="firebase",gR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",yR={[Vm]:"fire-core",[H8]:"fire-core-compat",[G8]:"fire-analytics",[$8]:"fire-analytics-compat",[Q8]:"fire-app-check",[K8]:"fire-app-check-compat",[W8]:"fire-auth",[Y8]:"fire-auth-compat",[X8]:"fire-rtdb",[Z8]:"fire-data-connect",[J8]:"fire-rtdb-compat",[eR]:"fire-fn",[tR]:"fire-fn-compat",[nR]:"fire-iid",[rR]:"fire-iid-compat",[iR]:"fire-fcm",[sR]:"fire-fcm-compat",[aR]:"fire-perf",[oR]:"fire-perf-compat",[lR]:"fire-rc",[cR]:"fire-rc-compat",[uR]:"fire-gcs",[hR]:"fire-gcs-compat",[dR]:"fire-fst",[pR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map,xR=new Map,zm=new Map;function I2(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _r(t){const e=t.name;if(zm.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,t);for(const n of Yd.values())I2(n,t);for(const n of xR.values())I2(n,t);return!0}function Ks(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ar(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Ya("app","Firebase",vR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=gR;function Og(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Um,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ps.create("bad-app-name",{appName:String(a)});if(n||(n=e4()),!n)throw Ps.create("no-options");const l=Yd.get(a);if(l){if(js(n,l.options)&&js(i,l.config))return l;throw Ps.create("duplicate-app",{appName:a})}const u=new C8(a);for(const m of zm.values())u.addComponent(m);const d=new bR(n,i,u);return Yd.set(a,d),d}function S0(t=Um){const e=Yd.get(t);if(!e&&t===Um&&e4())return Og();if(!e)throw Ps.create("no-app",{appName:t});return e}function Dn(t,e,n){let i=yR[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(u.join(" "));return}_r(new lr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebase-heartbeat-database",ER=1,Gc="firebase-heartbeat-store";let dm=null;function c4(){return dm||(dm=l4(_R,ER,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),dm}async function wR(t){try{const n=(await c4()).transaction(Gc),i=await n.objectStore(Gc).get(u4(t));return await n.done,i}catch(e){if(e instanceof cr)Ui.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(n.message)}}}async function k2(t,e){try{const i=(await c4()).transaction(Gc,"readwrite");await i.objectStore(Gc).put(e,u4(t)),await i.done}catch(n){if(n instanceof cr)Ui.warn(n.message);else{const i=Ps.create("idb-set",{originalErrorMessage:n?.message});Ui.warn(i.message)}}}function u4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=1024,TR=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=N2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>TR){const a=DR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N2(),{heartbeatsToSend:n,unsentEntries:i}=CR(this._heartbeatsCache.heartbeats),a=Wd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ui.warn(e),""}}}function N2(){return new Date().toISOString().substring(0,10)}function CR(t,e=AR){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),P2(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),P2(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class RR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i4()?s4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return k2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return k2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P2(t){return Wd(JSON.stringify({version:2,heartbeats:t})).length}function DR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){_r(new lr("platform-logger",e=>new z8(e),"PRIVATE")),_r(new lr("heartbeat",e=>new SR(e),"PRIVATE")),Dn(Vm,D2,t),Dn(Vm,D2,"esm2020"),Dn("fire-js","")}IR("");var O2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,h4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function E(){}E.prototype=S.prototype,I.D=S.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(T,P,j){for(var O=Array(arguments.length-2),he=2;he<arguments.length;he++)O[he-2]=arguments[he];return S.prototype[P].apply(T,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,S,E){E||(E=0);var T=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)T[P]=S.charCodeAt(E++)|S.charCodeAt(E++)<<8|S.charCodeAt(E++)<<16|S.charCodeAt(E++)<<24;else for(P=0;16>P;++P)T[P]=S[E++]|S[E++]<<8|S[E++]<<16|S[E++]<<24;S=I.g[0],E=I.g[1],P=I.g[2];var j=I.g[3],O=S+(j^E&(P^j))+T[0]+3614090360&4294967295;S=E+(O<<7&4294967295|O>>>25),O=j+(P^S&(E^P))+T[1]+3905402710&4294967295,j=S+(O<<12&4294967295|O>>>20),O=P+(E^j&(S^E))+T[2]+606105819&4294967295,P=j+(O<<17&4294967295|O>>>15),O=E+(S^P&(j^S))+T[3]+3250441966&4294967295,E=P+(O<<22&4294967295|O>>>10),O=S+(j^E&(P^j))+T[4]+4118548399&4294967295,S=E+(O<<7&4294967295|O>>>25),O=j+(P^S&(E^P))+T[5]+1200080426&4294967295,j=S+(O<<12&4294967295|O>>>20),O=P+(E^j&(S^E))+T[6]+2821735955&4294967295,P=j+(O<<17&4294967295|O>>>15),O=E+(S^P&(j^S))+T[7]+4249261313&4294967295,E=P+(O<<22&4294967295|O>>>10),O=S+(j^E&(P^j))+T[8]+1770035416&4294967295,S=E+(O<<7&4294967295|O>>>25),O=j+(P^S&(E^P))+T[9]+2336552879&4294967295,j=S+(O<<12&4294967295|O>>>20),O=P+(E^j&(S^E))+T[10]+4294925233&4294967295,P=j+(O<<17&4294967295|O>>>15),O=E+(S^P&(j^S))+T[11]+2304563134&4294967295,E=P+(O<<22&4294967295|O>>>10),O=S+(j^E&(P^j))+T[12]+1804603682&4294967295,S=E+(O<<7&4294967295|O>>>25),O=j+(P^S&(E^P))+T[13]+4254626195&4294967295,j=S+(O<<12&4294967295|O>>>20),O=P+(E^j&(S^E))+T[14]+2792965006&4294967295,P=j+(O<<17&4294967295|O>>>15),O=E+(S^P&(j^S))+T[15]+1236535329&4294967295,E=P+(O<<22&4294967295|O>>>10),O=S+(P^j&(E^P))+T[1]+4129170786&4294967295,S=E+(O<<5&4294967295|O>>>27),O=j+(E^P&(S^E))+T[6]+3225465664&4294967295,j=S+(O<<9&4294967295|O>>>23),O=P+(S^E&(j^S))+T[11]+643717713&4294967295,P=j+(O<<14&4294967295|O>>>18),O=E+(j^S&(P^j))+T[0]+3921069994&4294967295,E=P+(O<<20&4294967295|O>>>12),O=S+(P^j&(E^P))+T[5]+3593408605&4294967295,S=E+(O<<5&4294967295|O>>>27),O=j+(E^P&(S^E))+T[10]+38016083&4294967295,j=S+(O<<9&4294967295|O>>>23),O=P+(S^E&(j^S))+T[15]+3634488961&4294967295,P=j+(O<<14&4294967295|O>>>18),O=E+(j^S&(P^j))+T[4]+3889429448&4294967295,E=P+(O<<20&4294967295|O>>>12),O=S+(P^j&(E^P))+T[9]+568446438&4294967295,S=E+(O<<5&4294967295|O>>>27),O=j+(E^P&(S^E))+T[14]+3275163606&4294967295,j=S+(O<<9&4294967295|O>>>23),O=P+(S^E&(j^S))+T[3]+4107603335&4294967295,P=j+(O<<14&4294967295|O>>>18),O=E+(j^S&(P^j))+T[8]+1163531501&4294967295,E=P+(O<<20&4294967295|O>>>12),O=S+(P^j&(E^P))+T[13]+2850285829&4294967295,S=E+(O<<5&4294967295|O>>>27),O=j+(E^P&(S^E))+T[2]+4243563512&4294967295,j=S+(O<<9&4294967295|O>>>23),O=P+(S^E&(j^S))+T[7]+1735328473&4294967295,P=j+(O<<14&4294967295|O>>>18),O=E+(j^S&(P^j))+T[12]+2368359562&4294967295,E=P+(O<<20&4294967295|O>>>12),O=S+(E^P^j)+T[5]+4294588738&4294967295,S=E+(O<<4&4294967295|O>>>28),O=j+(S^E^P)+T[8]+2272392833&4294967295,j=S+(O<<11&4294967295|O>>>21),O=P+(j^S^E)+T[11]+1839030562&4294967295,P=j+(O<<16&4294967295|O>>>16),O=E+(P^j^S)+T[14]+4259657740&4294967295,E=P+(O<<23&4294967295|O>>>9),O=S+(E^P^j)+T[1]+2763975236&4294967295,S=E+(O<<4&4294967295|O>>>28),O=j+(S^E^P)+T[4]+1272893353&4294967295,j=S+(O<<11&4294967295|O>>>21),O=P+(j^S^E)+T[7]+4139469664&4294967295,P=j+(O<<16&4294967295|O>>>16),O=E+(P^j^S)+T[10]+3200236656&4294967295,E=P+(O<<23&4294967295|O>>>9),O=S+(E^P^j)+T[13]+681279174&4294967295,S=E+(O<<4&4294967295|O>>>28),O=j+(S^E^P)+T[0]+3936430074&4294967295,j=S+(O<<11&4294967295|O>>>21),O=P+(j^S^E)+T[3]+3572445317&4294967295,P=j+(O<<16&4294967295|O>>>16),O=E+(P^j^S)+T[6]+76029189&4294967295,E=P+(O<<23&4294967295|O>>>9),O=S+(E^P^j)+T[9]+3654602809&4294967295,S=E+(O<<4&4294967295|O>>>28),O=j+(S^E^P)+T[12]+3873151461&4294967295,j=S+(O<<11&4294967295|O>>>21),O=P+(j^S^E)+T[15]+530742520&4294967295,P=j+(O<<16&4294967295|O>>>16),O=E+(P^j^S)+T[2]+3299628645&4294967295,E=P+(O<<23&4294967295|O>>>9),O=S+(P^(E|~j))+T[0]+4096336452&4294967295,S=E+(O<<6&4294967295|O>>>26),O=j+(E^(S|~P))+T[7]+1126891415&4294967295,j=S+(O<<10&4294967295|O>>>22),O=P+(S^(j|~E))+T[14]+2878612391&4294967295,P=j+(O<<15&4294967295|O>>>17),O=E+(j^(P|~S))+T[5]+4237533241&4294967295,E=P+(O<<21&4294967295|O>>>11),O=S+(P^(E|~j))+T[12]+1700485571&4294967295,S=E+(O<<6&4294967295|O>>>26),O=j+(E^(S|~P))+T[3]+2399980690&4294967295,j=S+(O<<10&4294967295|O>>>22),O=P+(S^(j|~E))+T[10]+4293915773&4294967295,P=j+(O<<15&4294967295|O>>>17),O=E+(j^(P|~S))+T[1]+2240044497&4294967295,E=P+(O<<21&4294967295|O>>>11),O=S+(P^(E|~j))+T[8]+1873313359&4294967295,S=E+(O<<6&4294967295|O>>>26),O=j+(E^(S|~P))+T[15]+4264355552&4294967295,j=S+(O<<10&4294967295|O>>>22),O=P+(S^(j|~E))+T[6]+2734768916&4294967295,P=j+(O<<15&4294967295|O>>>17),O=E+(j^(P|~S))+T[13]+1309151649&4294967295,E=P+(O<<21&4294967295|O>>>11),O=S+(P^(E|~j))+T[4]+4149444226&4294967295,S=E+(O<<6&4294967295|O>>>26),O=j+(E^(S|~P))+T[11]+3174756917&4294967295,j=S+(O<<10&4294967295|O>>>22),O=P+(S^(j|~E))+T[2]+718787259&4294967295,P=j+(O<<15&4294967295|O>>>17),O=E+(j^(P|~S))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+j&4294967295}i.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var E=S-this.blockSize,T=this.B,P=this.h,j=0;j<S;){if(P==0)for(;j<=E;)a(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<S;)if(T[P++]=I.charCodeAt(j++),P==this.blockSize){a(this,T),P=0;break}}else for(;j<S;)if(T[P++]=I[j++],P==this.blockSize){a(this,T),P=0;break}}this.h=P,this.o+=S},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var E=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=E&255,E/=256;for(this.u(I),I=Array(16),S=E=0;4>S;++S)for(var T=0;32>T;T+=8)I[E++]=this.g[S]>>>T&255;return I};function l(I,S){var E=d;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=S(I)}function u(I,S){this.h=S;for(var E=[],T=!0,P=I.length-1;0<=P;P--){var j=I[P]|0;T&&j==S||(E[P]=j,T=!1)}this.g=E}var d={};function m(I){return-128<=I&&128>I?l(I,function(S){return new u([S|0],0>S?-1:0)}):new u([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return _;if(0>I)return N(f(-I));for(var S=[],E=1,T=0;I>=E;T++)S[T]=I/E|0,E*=4294967296;return new u(S,0)}function x(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return N(x(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=f(Math.pow(S,8)),T=_,P=0;P<I.length;P+=8){var j=Math.min(8,I.length-P),O=parseInt(I.substring(P,P+j),S);8>j?(j=f(Math.pow(S,j)),T=T.j(j).add(f(O))):(T=T.j(E),T=T.add(f(O)))}return T}var _=m(0),v=m(1),D=m(16777216);t=u.prototype,t.m=function(){if(M(this))return-N(this).m();for(var I=0,S=1,E=0;E<this.g.length;E++){var T=this.i(E);I+=(0<=T?T:4294967296+T)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(M(this))return"-"+N(this).toString(I);for(var S=f(Math.pow(I,6)),E=this,T="";;){var P=V(E,S).g;E=L(E,P.j(S));var j=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=P,k(E))return j+T;for(;6>j.length;)j="0"+j;T=j+T}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function M(I){return I.h==-1}t.l=function(I){return I=L(this,I),M(I)?-1:k(I)?0:1};function N(I){for(var S=I.g.length,E=[],T=0;T<S;T++)E[T]=~I.g[T];return new u(E,~I.h).add(v)}t.abs=function(){return M(this)?N(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),E=[],T=0,P=0;P<=S;P++){var j=T+(this.i(P)&65535)+(I.i(P)&65535),O=(j>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);T=O>>>16,j&=65535,O&=65535,E[P]=O<<16|j}return new u(E,E[E.length-1]&-2147483648?-1:0)};function L(I,S){return I.add(N(S))}t.j=function(I){if(k(this)||k(I))return _;if(M(this))return M(I)?N(this).j(N(I)):N(N(this).j(I));if(M(I))return N(this.j(N(I)));if(0>this.l(D)&&0>I.l(D))return f(this.m()*I.m());for(var S=this.g.length+I.g.length,E=[],T=0;T<2*S;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var P=0;P<I.g.length;P++){var j=this.i(T)>>>16,O=this.i(T)&65535,he=I.i(P)>>>16,de=I.i(P)&65535;E[2*T+2*P]+=O*de,w(E,2*T+2*P),E[2*T+2*P+1]+=j*de,w(E,2*T+2*P+1),E[2*T+2*P+1]+=O*he,w(E,2*T+2*P+1),E[2*T+2*P+2]+=j*he,w(E,2*T+2*P+2)}for(T=0;T<S;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=S;T<2*S;T++)E[T]=0;return new u(E,0)};function w(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function C(I,S){this.g=I,this.h=S}function V(I,S){if(k(S))throw Error("division by zero");if(k(I))return new C(_,_);if(M(I))return S=V(N(I),S),new C(N(S.g),N(S.h));if(M(S))return S=V(I,N(S)),new C(N(S.g),S.h);if(30<I.g.length){if(M(I)||M(S))throw Error("slowDivide_ only works with positive integers.");for(var E=v,T=S;0>=T.l(I);)E=z(E),T=z(T);var P=U(E,1),j=U(T,1);for(T=U(T,2),E=U(E,2);!k(T);){var O=j.add(T);0>=O.l(I)&&(P=P.add(E),j=O),T=U(T,1),E=U(E,1)}return S=L(I,P.j(S)),new C(P,S)}for(P=_;0<=I.l(S);){for(E=Math.max(1,Math.floor(I.m()/S.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),j=f(E),O=j.j(S);M(O)||0<O.l(I);)E-=T,j=f(E),O=j.j(S);k(j)&&(j=v),P=P.add(j),I=L(I,O)}return new C(P,I)}t.A=function(I){return V(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),E=[],T=0;T<S;T++)E[T]=this.i(T)&I.i(T);return new u(E,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),E=[],T=0;T<S;T++)E[T]=this.i(T)|I.i(T);return new u(E,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),E=[],T=0;T<S;T++)E[T]=this.i(T)^I.i(T);return new u(E,this.h^I.h)};function z(I){for(var S=I.g.length+1,E=[],T=0;T<S;T++)E[T]=I.i(T)<<1|I.i(T-1)>>>31;return new u(E,I.h)}function U(I,S){var E=S>>5;S%=32;for(var T=I.g.length-E,P=[],j=0;j<T;j++)P[j]=0<S?I.i(j+E)>>>S|I.i(j+E+1)<<32-S:I.i(j+E);return new u(P,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,h4=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=x,Os=u}).apply(typeof O2<"u"?O2:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d4,kc,f4,Yh,qm,p4,m4,g4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,A){return h==Array.prototype||h==Object.prototype||(h[b]=A.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var b=0;b<h.length;++b){var A=h[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=n(this);function a(h,b){if(b)e:{var A=i;h=h.split(".");for(var F=0;F<h.length-1;F++){var Z=h[F];if(!(Z in A))break e;A=A[Z]}h=h[h.length-1],F=A[h],b=b(F),b!=F&&b!=null&&e(A,h,{configurable:!0,writable:!0,value:b})}}function l(h,b){h instanceof String&&(h+="");var A=0,F=!1,Z={next:function(){if(!F&&A<h.length){var ie=A++;return{value:b(ie,h[ie]),done:!1}}return F=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(b,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function m(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function f(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function x(h,b,A){return h.call.apply(h.bind,arguments)}function _(h,b,A){if(!h)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,F),h.apply(b,Z)}}return function(){return h.apply(b,arguments)}}function v(h,b,A){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:_,v.apply(null,arguments)}function D(h,b){var A=Array.prototype.slice.call(arguments,1);return function(){var F=A.slice();return F.push.apply(F,arguments),h.apply(this,F)}}function k(h,b){function A(){}A.prototype=b.prototype,h.aa=b.prototype,h.prototype=new A,h.prototype.constructor=h,h.Qb=function(F,Z,ie){for(var pe=Array(arguments.length-2),He=2;He<arguments.length;He++)pe[He-2]=arguments[He];return b.prototype[Z].apply(F,pe)}}function M(h){const b=h.length;if(0<b){const A=Array(b);for(let F=0;F<b;F++)A[F]=h[F];return A}return[]}function N(h,b){for(let A=1;A<arguments.length;A++){const F=arguments[A];if(m(F)){const Z=h.length||0,ie=F.length||0;h.length=Z+ie;for(let pe=0;pe<ie;pe++)h[Z+pe]=F[pe]}else h.push(F)}}class L{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(h){return/^[\s\xa0]*$/.test(h)}function C(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function V(h){return V[" "](h),h}V[" "]=function(){};var z=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function U(h,b,A){for(const F in h)b.call(A,h[F],F,h)}function I(h,b){for(const A in h)b.call(void 0,h[A],A,h)}function S(h){const b={};for(const A in h)b[A]=h[A];return b}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(h,b){let A,F;for(let Z=1;Z<arguments.length;Z++){F=arguments[Z];for(A in F)h[A]=F[A];for(let ie=0;ie<E.length;ie++)A=E[ie],Object.prototype.hasOwnProperty.call(F,A)&&(h[A]=F[A])}}function P(h){var b=1;h=h.split(":");const A=[];for(;0<b&&h.length;)A.push(h.shift()),b--;return h.length&&A.push(h.join(":")),A}function j(h){d.setTimeout(()=>{throw h},0)}function O(){var h=Ee;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class he{constructor(){this.h=this.g=null}add(b,A){const F=de.get();F.set(b,A),this.h?this.h.next=F:this.g=F,this.h=F}}var de=new L(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let le,fe=!1,Ee=new he,q=()=>{const h=d.Promise.resolve(void 0);le=()=>{h.then(G)}};var G=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(A){j(A)}var b=de;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}fe=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};d.addEventListener("test",A,b),d.removeEventListener("test",A,b)}catch{}return h}();function _e(h,b){if(Q.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var A=this.type=h.type,F=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(z){e:{try{V(b.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(b=null)}}else A=="mouseover"?b=h.fromElement:A=="mouseout"&&(b=h.toElement);this.relatedTarget=b,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&_e.aa.h.call(this)}}k(_e,Q);var me={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),ve=0;function an(h,b,A,F,Z){this.listener=h,this.proxy=null,this.src=b,this.type=A,this.capture=!!F,this.ha=Z,this.key=++ve,this.da=this.fa=!1}function pn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function kn(h){this.src=h,this.g={},this.h=0}kn.prototype.add=function(h,b,A,F,Z){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var pe=Ot(h,b,F,Z);return-1<pe?(b=h[pe],A||(b.fa=!1)):(b=new an(b,this.src,ie,!!F,Z),b.fa=A,h.push(b)),b};function Nn(h,b){var A=b.type;if(A in h.g){var F=h.g[A],Z=Array.prototype.indexOf.call(F,b,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(F,Z,1),ie&&(pn(b),h.g[A].length==0&&(delete h.g[A],h.h--))}}function Ot(h,b,A,F){for(var Z=0;Z<h.length;++Z){var ie=h[Z];if(!ie.da&&ie.listener==b&&ie.capture==!!A&&ie.ha==F)return Z}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),Cr={};function Rr(h,b,A,F,Z){if(Array.isArray(b)){for(var ie=0;ie<b.length;ie++)Rr(h,b[ie],A,F,Z);return null}return A=Zs(A),h&&h[Qe]?h.K(b,A,f(F)?!!F.capture:!1,Z):Yt(h,b,A,!1,F,Z)}function Yt(h,b,A,F,Z,ie){if(!b)throw Error("Invalid event type");var pe=f(Z)?!!Z.capture:!!Z,He=mn(h);if(He||(h[vt]=He=new kn(h)),A=He.add(b,A,F,pe,ie),A.proxy)return A;if(F=ai(),A.proxy=F,F.src=h,F.listener=A,h.addEventListener)te||(Z=pe),Z===void 0&&(Z=!1),h.addEventListener(b.toString(),F,Z);else if(h.attachEvent)h.attachEvent(Mt(b.toString()),F);else if(h.addListener&&h.removeListener)h.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return A}function ai(){function h(A){return b.call(h.src,h.listener,A)}const b=on;return h}function oi(h,b,A,F,Z){if(Array.isArray(b))for(var ie=0;ie<b.length;ie++)oi(h,b[ie],A,F,Z);else F=f(F)?!!F.capture:!!F,A=Zs(A),h&&h[Qe]?(h=h.i,b=String(b).toString(),b in h.g&&(ie=h.g[b],A=Ot(ie,A,F,Z),-1<A&&(pn(ie[A]),Array.prototype.splice.call(ie,A,1),ie.length==0&&(delete h.g[b],h.h--)))):h&&(h=mn(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Ot(b,A,F,Z)),(A=-1<h?b[h]:null)&&$n(A))}function $n(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[Qe])Nn(b.i,h);else{var A=h.type,F=h.proxy;b.removeEventListener?b.removeEventListener(A,F,h.capture):b.detachEvent?b.detachEvent(Mt(A),F):b.addListener&&b.removeListener&&b.removeListener(F),(A=mn(b))?(Nn(A,h),A.h==0&&(A.src=null,b[vt]=null)):pn(h)}}}function Mt(h){return h in Cr?Cr[h]:Cr[h]="on"+h}function on(h,b){if(h.da)h=!0;else{b=new _e(b,this);var A=h.listener,F=h.ha||h.src;h.fa&&$n(h),h=A.call(F,b)}return h}function mn(h){return h=h[vt],h instanceof kn?h:null}var Dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(h){return typeof h=="function"?h:(h[Dr]||(h[Dr]=function(b){return h.handleEvent(b)}),h[Dr])}function et(){X.call(this),this.i=new kn(this),this.M=this,this.F=null}k(et,X),et.prototype[Qe]=!0,et.prototype.removeEventListener=function(h,b,A,F){oi(this,h,b,A,F)};function Ve(h,b){var A,F=h.F;if(F)for(A=[];F;F=F.F)A.push(F);if(h=h.M,F=b.type||b,typeof b=="string")b=new Q(b,h);else if(b instanceof Q)b.target=b.target||h;else{var Z=b;b=new Q(F,h),T(b,Z)}if(Z=!0,A)for(var ie=A.length-1;0<=ie;ie--){var pe=b.g=A[ie];Z=gn(pe,F,!0,b)&&Z}if(pe=b.g=h,Z=gn(pe,F,!0,b)&&Z,Z=gn(pe,F,!1,b)&&Z,A)for(ie=0;ie<A.length;ie++)pe=b.g=A[ie],Z=gn(pe,F,!1,b)&&Z}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var A=h.g[b],F=0;F<A.length;F++)pn(A[F]);delete h.g[b],h.h--}}this.F=null},et.prototype.K=function(h,b,A,F){return this.i.add(String(h),b,!1,A,F)},et.prototype.L=function(h,b,A,F){return this.i.add(String(h),b,!0,A,F)};function gn(h,b,A,F){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var Z=!0,ie=0;ie<b.length;++ie){var pe=b[ie];if(pe&&!pe.da&&pe.capture==A){var He=pe.listener,jt=pe.ha||pe.src;pe.fa&&Nn(h.i,pe),Z=He.call(jt,F)!==!1&&Z}}return Z&&!F.defaultPrevented}function Bt(h,b,A){if(typeof h=="function")A&&(h=v(h,A));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(h,b||0)}function Js(h){h.g=Bt(()=>{h.g=null,h.i&&(h.i=!1,Js(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Ir extends X{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Js(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(h){X.call(this),this.h=h,this.g={}}k(Pn,X);var li=[];function kr(h){U(h.g,function(b,A){this.g.hasOwnProperty(A)&&$n(b)},h),h.g={}}Pn.prototype.N=function(){Pn.aa.N.call(this),kr(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=d.JSON.stringify,Gi=d.JSON.parse,ci=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Ki(){}Ki.prototype.h=null;function ea(h){return h.h||(h.h=h.i())}function Qi(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gn(){Q.call(this,"d")}k(Gn,Q);function ta(){Q.call(this,"c")}k(ta,Q);var Kn={},na=null;function hr(){return na=na||new et}Kn.La="serverreachability";function Wi(h){Q.call(this,Kn.La,h)}k(Wi,Q);function Nr(h){const b=hr();Ve(b,new Wi(b))}Kn.STAT_EVENT="statevent";function ra(h,b){Q.call(this,Kn.STAT_EVENT,h),this.stat=b}k(ra,Q);function ct(h){const b=hr();Ve(b,new ra(b,h))}Kn.Ma="timingevent";function gt(h,b){Q.call(this,Kn.Ma,h),this.size=b}k(gt,Q);function qe(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},b)}function bt(){this.g=!0}bt.prototype.xa=function(){this.g=!1};function Yi(h,b,A,F,Z,ie){h.info(function(){if(h.g)if(ie)for(var pe="",He=ie.split("&"),jt=0;jt<He.length;jt++){var $e=He[jt].split("=");if(1<$e.length){var Ht=$e[0];$e=$e[1];var Ft=Ht.split("_");pe=2<=Ft.length&&Ft[1]=="type"?pe+(Ht+"="+$e+"&"):pe+(Ht+"=redacted&")}}else pe=null;else pe=ie;return"XMLHTTP REQ ("+F+") [attempt "+Z+"]: "+b+`
`+A+`
`+pe})}function Sl(h,b,A,F,Z,ie,pe){h.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+Z+"]: "+b+`
`+A+`
`+ie+" "+pe})}function Xi(h,b,A,F){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+ia(h,A)+(F?" "+F:"")})}function yu(h,b){h.info(function(){return"TIMEOUT: "+b})}bt.prototype.info=function(){};function ia(h,b){if(!h.g)return b;if(!b)return null;try{var A=JSON.parse(b);if(A){for(h=0;h<A.length;h++)if(Array.isArray(A[h])){var F=A[h];if(!(2>F.length)){var Z=F[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var pe=1;pe<Z.length;pe++)Z[pe]=""}}}}return wn(A)}catch{return b}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pr;function Or(){}k(Or,Ki),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Pr=new Or;function yn(h,b,A,F){this.j=h,this.i=b,this.l=A,this.R=F||1,this.U=new Pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var Cl={},io={};function dr(h,b,A){h.L=1,h.v=ca(On(b)),h.m=A,h.P=!0,hi(h,null)}function hi(h,b){h.F=Date.now(),sa(h),h.A=On(h.v);var A=h.A,F=h.R;Array.isArray(F)||(F=[String(F)]),Pl(A.i,"t",F),h.C=0,A=h.j.J,h.h=new _t,h.g=Pu(h.j,A?b:null,!h.m),0<h.O&&(h.M=new Ir(v(h.Y,h,h.g),h.O)),b=h.U,A=h.g,F=h.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(li[0]=Z.toString()),Z=li);for(var ie=0;ie<Z.length;ie++){var pe=Rr(A,Z[ie],F||b.handleEvent,!1,b.h||b);if(!pe)break;b.g[pe.key]=pe}b=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),Nr(),Yi(h.i,h.u,h.A,h.l,h.R,h.m)}yn.prototype.ca=function(h){h=h.target;const b=this.M;b&&Xn(h)==3?b.j():this.Y(h)},yn.prototype.Y=function(h){try{if(h==this.g)e:{const Ft=Xn(this.g);var b=this.g.Ba();const vi=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Tu(this.g)))){this.J||Ft!=4||b==7||(b==8||0>=vi?Nr(3):Nr(2)),Ji(this);var A=this.g.Z();this.X=A;t:if(xu(this)){var F=Tu(this.g);h="";var Z=F.length,ie=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),Mr(this);var pe="";break t}this.h.i=new d.TextDecoder}for(b=0;b<Z;b++)this.h.h=!0,h+=this.h.i.decode(F[b],{stream:!(ie&&b==Z-1)});F.length=0,this.h.g+=h,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=A==200,Sl(this.i,this.u,this.A,this.l,this.R,Ft,A),this.o){if(this.T&&!this.K){t:{if(this.g){var He,jt=this.g;if((He=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(He)){var $e=He;break t}}$e=null}if(A=$e)Xi(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,A);else{this.o=!1,this.s=3,ct(12),Xt(this),Mr(this);break e}}if(this.P){A=!0;let Zt;for(;!this.J&&this.C<pe.length;)if(Zt=vu(this,pe),Zt==io){Ft==4&&(this.s=4,ct(14),A=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Cl){this.s=4,ct(15),Xi(this.i,this.l,pe,"[Invalid Chunk]"),A=!1;break}else Xi(this.i,this.l,Zt,null),aa(this,Zt);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||pe.length!=0||this.h.h||(this.s=1,ct(16),A=!1),this.o=this.o&&A,!A)Xi(this.i,this.l,pe,"[Invalid Chunked Response]"),Xt(this),Mr(this);else if(0<pe.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),ya(Ht),Ht.M=!0,ct(11))}}else Xi(this.i,this.l,pe,null),aa(this,pe);Ft==4&&Xt(this),this.o&&!this.J&&(Ft==4?Iu(this.j,this):(this.o=!1,sa(this)))}else af(this.g),A==400&&0<pe.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Xt(this),Mr(this)}}}catch{}finally{}};function xu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function vu(h,b){var A=h.C,F=b.indexOf(`
`,A);return F==-1?io:(A=Number(b.substring(A,F)),isNaN(A)?Cl:(F+=1,F+A>b.length?io:(b=b.slice(F,F+A),h.C=F+A,b)))}yn.prototype.cancel=function(){this.J=!0,Xt(this)};function sa(h){h.S=Date.now()+h.I,bu(h,h.I)}function bu(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=qe(v(h.ba,h),b)}function Ji(h){h.B&&(d.clearTimeout(h.B),h.B=null)}yn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(yu(this.i,this.A),this.L!=2&&(Nr(),ct(17)),Xt(this),this.s=2,Mr(this)):bu(this,this.S-h)};function Mr(h){h.j.G==0||h.J||Iu(h.j,h)}function Xt(h){Ji(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,kr(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function aa(h,b){try{var A=h.j;if(A.G!=0&&(A.g==h||Rl(A.h,h))){if(!h.K&&Rl(A.h,h)&&A.G==3){try{var F=A.Da.g.parse(b)}catch{F=null}if(Array.isArray(F)&&F.length==3){var Z=F;if(Z[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<h.F)yo(A),mo(A);else break e;Fl(A),ct(18)}}else A.za=Z[1],0<A.za-A.T&&37500>Z[2]&&A.F&&A.v==0&&!A.C&&(A.C=qe(v(A.Za,A),6e3));if(1>=ao(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else xi(A,11)}else if((h.K||A.g==h)&&yo(A),!w(b))for(Z=A.Da.g.parse(b),b=0;b<Z.length;b++){let $e=Z[b];if(A.T=$e[0],$e=$e[1],A.G==2)if($e[0]=="c"){A.K=$e[1],A.ia=$e[2];const Ht=$e[3];Ht!=null&&(A.la=Ht,A.j.info("VER="+A.la));const Ft=$e[4];Ft!=null&&(A.Aa=Ft,A.j.info("SVER="+A.Aa));const vi=$e[5];vi!=null&&typeof vi=="number"&&0<vi&&(F=1.5*vi,A.L=F,A.j.info("backChannelRequestTimeoutMs_="+F)),F=A;const Zt=h.g;if(Zt){const zr=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var ie=F.h;ie.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(oo(ie,ie.h),ie.h=null))}if(F.D){const Vl=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(F.ya=Vl,it(F.I,F.D,Vl))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-h.F,A.j.info("Handshake RTT: "+A.R+"ms")),F=A;var pe=h;if(F.qa=Nu(F,F.J?F.ia:null,F.W),pe.K){xn(F.h,pe);var He=pe,jt=F.L;jt&&(He.I=jt),He.B&&(Ji(He),sa(He)),F.g=pe}else Ru(F);0<A.i.length&&go(A)}else $e[0]!="stop"&&$e[0]!="close"||xi(A,7);else A.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?xi(A,7):Bl(A):$e[0]!="noop"&&A.l&&A.l.ta($e),A.v=0)}}Nr(4)}catch{}}var _u=class{constructor(h,b){this.g=h,this.map=b}};function di(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function so(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ao(h){return h.h?1:h.g?h.g.size:0}function Rl(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function oo(h,b){h.g?h.g.add(b):h.h=b}function xn(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}di.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Dl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const A of h.g.values())b=b.concat(A.D);return b}return M(h.i)}function tf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var b=[],A=h.length,F=0;F<A;F++)b.push(h[F]);return b}b=[],A=0;for(F in h)b[A++]=h[F];return b}function lo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var b=[];h=h.length;for(var A=0;A<h;A++)b.push(A);return b}b=[],A=0;for(const F in h)b[A++]=F;return b}}}function Il(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var A=lo(h),F=tf(h),Z=F.length,ie=0;ie<Z;ie++)b.call(void 0,F[ie],A&&A[ie],h)}var oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nf(h,b){if(h){h=h.split("&");for(var A=0;A<h.length;A++){var F=h[A].indexOf("="),Z=null;if(0<=F){var ie=h[A].substring(0,F);Z=h[A].substring(F+1)}else ie=h[A];b(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function St(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof St){this.h=h.h,la(this,h.j),this.o=h.o,this.g=h.g,es(this,h.s),this.l=h.l;var b=h.i,A=new pi;A.i=b.i,b.g&&(A.g=new Map(b.g),A.h=b.h),fi(this,A),this.m=h.m}else h&&(b=String(h).match(oa))?(this.h=!1,la(this,b[1]||"",!0),this.o=Qn(b[2]||""),this.g=Qn(b[3]||"",!0),es(this,b[4]),this.l=Qn(b[5]||"",!0),fi(this,b[6]||"",!0),this.m=Qn(b[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}St.prototype.toString=function(){var h=[],b=this.j;b&&h.push(ua(b,kl,!0),":");var A=this.g;return(A||b=="file")&&(h.push("//"),(b=this.o)&&h.push(ua(b,kl,!0),"@"),h.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&h.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(ua(A,A.charAt(0)=="/"?rf:Nl,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",ua(A,co)),h.join("")};function On(h){return new St(h)}function la(h,b,A){h.j=A?Qn(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function es(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function fi(h,b,A){b instanceof pi?(h.i=b,wu(h.i,h.h)):(A||(b=ua(b,sf)),h.i=new pi(b,h.h))}function it(h,b,A){h.i.set(b,A)}function ca(h){return it(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Qn(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ua(h,b,A){return typeof h=="string"?(h=encodeURI(h).replace(b,Eu),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Eu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var kl=/[#\/\?@]/g,Nl=/[#\?:]/g,rf=/[#\?]/g,sf=/[#\?@]/g,co=/#/g;function pi(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Wn(h){h.g||(h.g=new Map,h.h=0,h.i&&nf(h.i,function(b,A){h.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}t=pi.prototype,t.add=function(h,b){Wn(this),this.i=null,h=Br(this,h);var A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(b),this.h+=1,this};function mi(h,b){Wn(h),b=Br(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function gi(h,b){return Wn(h),b=Br(h,b),h.g.has(b)}t.forEach=function(h,b){Wn(this),this.g.forEach(function(A,F){A.forEach(function(Z){h.call(b,Z,F,this)},this)},this)},t.na=function(){Wn(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),A=[];for(let F=0;F<b.length;F++){const Z=h[F];for(let ie=0;ie<Z.length;ie++)A.push(b[F])}return A},t.V=function(h){Wn(this);let b=[];if(typeof h=="string")gi(this,h)&&(b=b.concat(this.g.get(Br(this,h))));else{h=Array.from(this.g.values());for(let A=0;A<h.length;A++)b=b.concat(h[A])}return b},t.set=function(h,b){return Wn(this),this.i=null,h=Br(this,h),gi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function Pl(h,b,A){mi(h,b),0<A.length&&(h.i=null,h.g.set(Br(h,b),M(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var A=0;A<b.length;A++){var F=b[A];const ie=encodeURIComponent(String(F)),pe=this.V(F);for(F=0;F<pe.length;F++){var Z=ie;pe[F]!==""&&(Z+="="+encodeURIComponent(String(pe[F]))),h.push(Z)}}return this.i=h.join("&")};function Br(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function wu(h,b){b&&!h.j&&(Wn(h),h.i=null,h.g.forEach(function(A,F){var Z=F.toLowerCase();F!=Z&&(mi(this,F),Pl(this,Z,A))},h)),h.j=b}function ha(h,b){const A=new bt;if(d.Image){const F=new Image;F.onload=D(Yn,A,"TestLoadImage: loaded",!0,b,F),F.onerror=D(Yn,A,"TestLoadImage: error",!1,b,F),F.onabort=D(Yn,A,"TestLoadImage: abort",!1,b,F),F.ontimeout=D(Yn,A,"TestLoadImage: timeout",!1,b,F),d.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=h}else b(!1)}function fr(h,b){const A=new bt,F=new AbortController,Z=setTimeout(()=>{F.abort(),Yn(A,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:F.signal}).then(ie=>{clearTimeout(Z),ie.ok?Yn(A,"TestPingServer: ok",!0,b):Yn(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Z),Yn(A,"TestPingServer: error",!1,b)})}function Yn(h,b,A,F,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),F(A)}catch{}}function da(){this.g=new ci}function jr(h,b,A){const F=A||"";try{Il(h,function(Z,ie){let pe=Z;f(Z)&&(pe=wn(Z)),b.push(F+ie+"="+encodeURIComponent(pe))})}catch(Z){throw b.push(F+"type="+encodeURIComponent("_badmap")),Z}}function ts(h){this.l=h.Ub||null,this.j=h.eb||!1}k(ts,Ki),ts.prototype.g=function(){return new yi(this.l,this.j)},ts.prototype.i=function(h){return function(){return h}}({});function yi(h,b){et.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(yi,et),t=yi.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,Lr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Fr(this):Lr(this),this.readyState==3&&Ol(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Fr(this))},t.Qa=function(h){this.g&&(this.response=h,Fr(this))},t.ga=function(){this.g&&Fr(this)};function Fr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Lr(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=b.next();return h.join(`\r
`)};function Lr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ml(h){let b="";return U(h,function(A,F){b+=F,b+=":",b+=A,b+=`\r
`}),b}function qt(h,b,A){e:{for(F in A){var F=!1;break e}F=!0}F||(A=Ml(A),typeof h=="string"?A!=null&&encodeURIComponent(String(A)):it(h,b,A))}function Ze(h){et.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ze,et);var uo=/^https?$/i,fa=["POST","PUT"];t=Ze.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,A,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pr.g(),this.v=this.o?ea(this.o):ea(Pr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(ie){Au(this,ie);return}if(h=A||"",A=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var Z in F)A.set(Z,F[Z]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ie of F.keys())A.set(ie,F.get(ie));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(A.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(fa,b,void 0))||F||Z||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,pe]of A)this.g.setRequestHeader(ie,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){Au(this,ie)}};function Au(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,ho(h),Vr(h)}function ho(h){h.A||(h.A=!0,Ve(h,"complete"),Ve(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ve(this,"complete"),Ve(this,"abort"),Vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},t.bb=function(){fo(this)};function fo(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Xn(h)!=4||h.Z()!=2)){if(h.u&&Xn(h)==4)Bt(h.Ea,0,h);else if(Ve(h,"readystatechange"),Xn(h)==4){h.h=!1;try{const pe=h.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var F;if(F=pe===0){var Z=String(h.D).match(oa)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),F=!uo.test(Z?Z.toLowerCase():"")}A=F}if(A)Ve(h,"complete"),Ve(h,"success");else{h.m=6;try{var ie=2<Xn(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",ho(h)}}finally{Vr(h)}}}}function Vr(h,b){if(h.g){pa(h);const A=h.g,F=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||Ve(h,"ready");try{A.onreadystatechange=F}catch{}}}function pa(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Xn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Gi(b)}};function Tu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function af(h){const b={};h=(h.g&&2<=Xn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<h.length;F++){if(w(h[F]))continue;var A=P(h[F]);const Z=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ie=b[Z]||[];b[Z]=ie,ie.push(A)}I(b,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(h,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||b}function po(h){this.Aa=0,this.i=[],this.j=new bt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,h),this.cb=ma("retryDelaySeedMs",1e4,h),this.Wa=ma("forwardChannelMaxRetries",2,h),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new di(h&&h.concurrentRequestLimit),this.Da=new da,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=po.prototype,t.la=8,t.G=1,t.connect=function(h,b,A,F){ct(0),this.W=h,this.H=b||{},A&&F!==void 0&&(this.H.OSID=A,this.H.OAID=F),this.F=this.X,this.I=Nu(this,null,this.W),go(this)};function Bl(h){if(Su(h),h.G==3){var b=h.U++,A=On(h.I);if(it(A,"SID",h.K),it(A,"RID",b),it(A,"TYPE","terminate"),ga(h,A),b=new yn(h,h.j,b),b.L=2,b.v=ca(On(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(b.v.toString(),"")}catch{}!A&&d.Image&&(new Image().src=b.v,A=!0),A||(b.g=Pu(b.j,null),b.g.ea(b.v)),b.F=Date.now(),sa(b)}ku(h)}function mo(h){h.g&&(ya(h),h.g.cancel(),h.g=null)}function Su(h){mo(h),h.u&&(d.clearTimeout(h.u),h.u=null),yo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function go(h){if(!so(h.h)&&!h.s){h.s=!0;var b=h.Ga;le||q(),fe||(le(),fe=!0),Ee.add(b,h),h.B=0}}function of(h,b){return ao(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=qe(v(h.Ga,h,b),Ll(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Z=new yn(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=S(ie),T(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var F=this.i[A];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(b+=F,4096<b){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=Cu(this,Z,b),A=On(this.I),it(A,"RID",h),it(A,"CVER",22),this.D&&it(A,"X-HTTP-Session-Id",this.D),ga(this,A),ie&&(this.O?b="headers="+encodeURIComponent(String(Ml(ie)))+"&"+b:this.m&&qt(A,this.m,ie)),oo(this.h,Z),this.Ua&&it(A,"TYPE","init"),this.P?(it(A,"$req",b),it(A,"SID","null"),Z.T=!0,dr(Z,A,null)):dr(Z,A,b),this.G=2}}else this.G==3&&(h?jl(this,h):this.i.length==0||so(this.h)||jl(this))};function jl(h,b){var A;b?A=b.l:A=h.U++;const F=On(h.I);it(F,"SID",h.K),it(F,"RID",A),it(F,"AID",h.T),ga(h,F),h.m&&h.o&&qt(F,h.m,h.o),A=new yn(h,h.j,A,h.B+1),h.m===null&&(A.H=h.o),b&&(h.i=b.D.concat(h.i)),b=Cu(h,A,1e3),A.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),oo(h.h,A),dr(A,F,b)}function ga(h,b){h.H&&U(h.H,function(A,F){it(b,F,A)}),h.l&&Il({},function(A,F){it(b,F,A)})}function Cu(h,b,A){A=Math.min(h.i.length,A);var F=h.l?v(h.l.Na,h.l,h):null;e:{var Z=h.i;let ie=-1;for(;;){const pe=["count="+A];ie==-1?0<A?(ie=Z[0].g,pe.push("ofs="+ie)):ie=0:pe.push("ofs="+ie);let He=!0;for(let jt=0;jt<A;jt++){let $e=Z[jt].g;const Ht=Z[jt].map;if($e-=ie,0>$e)ie=Math.max(0,Z[jt].g-100),He=!1;else try{jr(Ht,pe,"req"+$e+"_")}catch{F&&F(Ht)}}if(He){F=pe.join("&");break e}}}return h=h.i.splice(0,A),b.D=h,F}function Ru(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;le||q(),fe||(le(),fe=!0),Ee.add(b,h),h.v=0}}function Fl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=qe(v(h.Fa,h),Ll(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=qe(v(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),mo(this),Du(this))};function ya(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Du(h){h.g=new yn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=On(h.qa);it(b,"RID","rpc"),it(b,"SID",h.K),it(b,"AID",h.T),it(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&it(b,"TO",h.ja),it(b,"TYPE","xmlhttp"),ga(h,b),h.m&&h.o&&qt(b,h.m,h.o),h.L&&(h.g.I=h.L);var A=h.g;h=h.ia,A.L=1,A.v=ca(On(b)),A.m=null,A.P=!0,hi(A,h)}t.Za=function(){this.C!=null&&(this.C=null,mo(this),Fl(this),ct(19))};function yo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Iu(h,b){var A=null;if(h.g==b){yo(h),ya(h),h.g=null;var F=2}else if(Rl(h.h,b))A=b.D,xn(h.h,b),F=1;else return;if(h.G!=0){if(b.o)if(F==1){A=b.m?b.m.length:0,b=Date.now()-b.F;var Z=h.B;F=hr(),Ve(F,new gt(F,A)),go(h)}else Ru(h);else if(Z=b.s,Z==3||Z==0&&0<b.X||!(F==1&&of(h,b)||F==2&&Fl(h)))switch(A&&0<A.length&&(b=h.h,b.i=b.i.concat(A)),Z){case 1:xi(h,5);break;case 4:xi(h,10);break;case 3:xi(h,6);break;default:xi(h,2)}}}function Ll(h,b){let A=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(A*=2),A*b}function xi(h,b){if(h.j.info("Error code "+b),b==2){var A=v(h.fb,h),F=h.Xa;const Z=!F;F=new St(F||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||la(F,"https"),ca(F),Z?ha(F.toString(),A):fr(F.toString(),A)}else ct(2);h.G=0,h.l&&h.l.sa(b),ku(h),Su(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function ku(h){if(h.G=0,h.ka=[],h.l){const b=Dl(h.h);(b.length!=0||h.i.length!=0)&&(N(h.ka,b),N(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function Nu(h,b,A){var F=A instanceof St?On(A):new St(A);if(F.g!="")b&&(F.g=b+"."+F.g),es(F,F.s);else{var Z=d.location;F=Z.protocol,b=b?b+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new St(null);F&&la(ie,F),b&&(ie.g=b),Z&&es(ie,Z),A&&(ie.l=A),F=ie}return A=h.D,b=h.ya,A&&b&&it(F,A,b),it(F,"VER",h.la),ga(h,F),F}function Pu(h,b,A){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new Ze(new ts({eb:A})):new Ze(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}t=Ou.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xo(){}xo.prototype.g=function(h,b){return new vn(h,b)};function vn(h,b){et.call(this),this.g=new po(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!w(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Ur(this)}k(vn,et),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Bl(this.g)},vn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.u&&(A={},A.__data__=wn(h),h=A);b.i.push(new _u(b.Ya++,h)),b.G==3&&go(b)},vn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,vn.aa.N.call(this)};function Mu(h){Gn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const A in b){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}k(Mu,Gn);function Bu(){ta.call(this),this.status=1}k(Bu,ta);function Ur(h){this.g=h}k(Ur,Ou),Ur.prototype.ua=function(){Ve(this.g,"a")},Ur.prototype.ta=function(h){Ve(this.g,new Mu(h))},Ur.prototype.sa=function(h){Ve(this.g,new Bu)},Ur.prototype.ra=function(){Ve(this.g,"b")},xo.prototype.createWebChannel=xo.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,g4=function(){return new xo},m4=function(){return hr()},p4=Kn,qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Yh=Zi,ui.COMPLETE="complete",f4=ui,Qi.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",et.prototype.listen=et.prototype.K,kc=Qi,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,d4=Ze}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});const M2="@firebase/firestore",B2="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new T0("@firebase/firestore");function Ko(){return za.logLevel}function ye(t,...e){if(za.logLevel<=je.DEBUG){const n=e.map(Mg);za.debug(`Firestore (${yl}): ${t}`,...n)}}function zi(t,...e){if(za.logLevel<=je.ERROR){const n=e.map(Mg);za.error(`Firestore (${yl}): ${t}`,...n)}}function sl(t,...e){if(za.logLevel<=je.WARN){const n=e.map(Mg);za.warn(`Firestore (${yl}): ${t}`,...n)}}function Mg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,y4(t,i,n)}function y4(t,e,n){let i=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw zi(i),new Error(i)}function Je(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||y4(e,a,i)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class NR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PR{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fi,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fi)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new x4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class OR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MR{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new OR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new j2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=jR(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Fe(t,e){return t<e?-1:t>e?1:0}function Hm(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return fm(a)===fm(l)?Fe(a,l):fm(a)?1:-1}return Fe(t.length,e.length)}const FR=55296,LR=57343;function fm(t){const e=t.charCodeAt(0);return e>=FR&&e<=LR}function al(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="__name__";class Wr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Re(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Wr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Fe(e.length,n.length)}static compareSegments(e,n){const i=Wr.isNumericId(e),a=Wr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):Hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class ht extends Wr{construct(e,n,i){return new ht(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const VR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Wr{construct(e,n,i){return new rn(e,n,i)}static isValidIdentifier(e){return VR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F2}static keyField(){return new rn([F2])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ge(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(l(),a++)}if(l(),u)throw new ge(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ht.fromString(e))}static fromName(e){return new Ae(ht.fromString(e).popFirst(5))}static empty(){return new Ae(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e,n){if(!n)throw new ge(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UR(t,e,n,i){if(e===!0&&i===!0)throw new ge(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L2(t){if(!Ae.isDocumentKey(t))throw new ge(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V2(t){if(Ae.isDocumentKey(t))throw new ge(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function b4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function C0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C0(t);throw new ge(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e){const n={typeString:t};return e&&(n.value=e),n}function lu(t,e){if(!b4(t))throw new ge(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ge(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=-62135596800,z2=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*z2);return new rt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U2)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z2}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Nt("string",rt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new rt(0,0))}static max(){return new Ie(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=-1;function zR(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new rt(n+1,0):new rt(n,i));return new Fs(a,Ae.empty(),e)}function qR(t){return new Fs(t.readTime,t.key,Kc)}class Fs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Fs(Ie.min(),Ae.empty(),Kc)}static max(){return new Fs(Ie.max(),Ae.empty(),Kc)}}function HR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==$R)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,i)=>{n(e)})}static reject(e){return new ue((n,i)=>{i(e)})}static waitFor(e){return new ue((n,i)=>{let a=0,l=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++l,u&&l===a&&n()},m=>i(m))}),u=!0,l===a&&n()})}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next(a=>a?ue.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new ue((i,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const f=m;n(e[f]).next(x=>{u[f]=x,++d,d===l&&i(u)},x=>a(x))}})}static doWhile(e,n){return new ue((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function KR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}R0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function D0(t){return t==null}function Xd(t){return t===0&&1/t==-1/0}function QR(t){return typeof t=="number"&&Number.isInteger(t)&&!Xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="";function WR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=q2(e)),e=YR(t.get(n),e);return q2(e)}function YR(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case _4:n+="";break;default:n+=l}}return n}function q2(t){return t+_4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new nn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $2(this.data.getIterator())}getIteratorFrom(e){return new $2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class $2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new zn([])}unionWith(e){let n=new zt(rn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new w4("Invalid base64 string: "+l):l}}(e);return new sn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=XR.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="server_timestamp",T4="__type__",S4="__previous_value__",C4="__local_write_time__";function Fg(t){return(t?.mapValue?.fields||{})[T4]?.stringValue===A4}function I0(t){const e=t.mapValue.fields[S4];return Fg(e)?I0(e):e}function Qc(t){const e=Ls(t.mapValue.fields[C4].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,i,a,l,u,d,m,f,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=f,this.isUsingEmulator=x}}const Zd="(default)";class Wc{constructor(e,n){this.projectId=e,this.database=n||Zd}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===Zd}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="__type__",JR="__max__",zh={mapValue:{}},D4="__vector__",Jd="value";function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fg(t)?4:t9(t)?9007199254740991:e9(t)?10:11:Re(28295,{value:t})}function ri(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ls(a.timestampValue),d=Ls(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Vs(a.bytesValue).isEqual(Vs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=At(a.doubleValue),d=At(l.doubleValue);return u===d?Xd(u)===Xd(d):isNaN(u)&&isNaN(d)}return!1}(t,e);case 9:return al(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(H2(u)!==H2(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!ri(u[m],d[m])))return!1;return!0}(t,e);default:return Re(52216,{left:t})}}function Yc(t,e){return(t.values||[]).find(n=>ri(n,e))!==void 0}function ol(t,e){if(t===e)return 0;const n=Us(t),i=Us(e);if(n!==i)return Fe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(l,u){const d=At(l.integerValue||l.doubleValue),m=At(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return G2(t.timestampValue,e.timestampValue);case 4:return G2(Qc(t),Qc(e));case 5:return Hm(t.stringValue,e.stringValue);case 6:return function(l,u){const d=Vs(l),m=Vs(u);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const d=l.split("/"),m=u.split("/");for(let f=0;f<d.length&&f<m.length;f++){const x=Fe(d[f],m[f]);if(x!==0)return x}return Fe(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const d=Fe(At(l.latitude),At(u.latitude));return d!==0?d:Fe(At(l.longitude),At(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return K2(t.arrayValue,e.arrayValue);case 10:return function(l,u){const d=l.fields||{},m=u.fields||{},f=d[Jd]?.arrayValue,x=m[Jd]?.arrayValue,_=Fe(f?.values?.length||0,x?.values?.length||0);return _!==0?_:K2(f,x)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===zh.mapValue&&u===zh.mapValue)return 0;if(l===zh.mapValue)return 1;if(u===zh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),f=u.fields||{},x=Object.keys(f);m.sort(),x.sort();for(let _=0;_<m.length&&_<x.length;++_){const v=Hm(m[_],x[_]);if(v!==0)return v;const D=ol(d[m[_]],f[x[_]]);if(D!==0)return D}return Fe(m.length,x.length)}(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function G2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Ls(t),i=Ls(e),a=Fe(n.seconds,i.seconds);return a!==0?a:Fe(n.nanos,i.nanos)}function K2(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=ol(n[a],i[a]);if(l)return l}return Fe(n.length,i.length)}function ll(t){return $m(t)}function $m(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ls(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=$m(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${$m(n.fields[u])}`;return a+"}"}(t.mapValue):Re(61005,{value:t})}function Xh(t){switch(Us(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=I0(t);return e?16+Xh(e):16;case 5:return 2*t.stringValue.length;case 6:return Vs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Xh(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return Qs(i.fields,(l,u)=>{a+=l.length+Xh(u)}),a}(t.mapValue);default:throw Re(13486,{value:t})}}function Q2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gm(t){return!!t&&"integerValue"in t}function Lg(t){return!!t&&"arrayValue"in t}function W2(t){return!!t&&"nullValue"in t}function Y2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zh(t){return!!t&&"mapValue"in t}function e9(t){return(t?.mapValue?.fields||{})[R4]?.stringValue===D4}function jc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=jc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jc(t.arrayValue.values[n]);return e}return{...t}}function t9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(n)}setAll(e){let n=rn.emptyPath(),i={},a=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}u?i[d.lastSegment()]=jc(u):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Zh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Qs(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Rn(jc(this.value))}}function I4(t){const e=[];return Qs(t.fields,(n,i)=>{const a=new rn([n]);if(Zh(i)){const l=I4(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,i,a,l,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Ie.min(),Ie.min(),Ie.min(),Rn.empty(),0)}static newFoundDocument(e,n,i,a){return new dn(e,1,n,Ie.min(),i,a,0)}static newNoDocument(e,n){return new dn(e,2,n,Ie.min(),Ie.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Ie.min(),Ie.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.position=e,this.inclusive=n}}function X2(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(u.referenceValue),n.key):i=ol(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Z2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function n9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{}class kt extends k4{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new i9(e,n,i):n==="array-contains"?new o9(e,i):n==="in"?new l9(e,i):n==="not-in"?new c9(e,i):n==="array-contains-any"?new u9(e,i):new kt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new s9(e,i):new a9(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ol(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends k4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Er(e,n)}matches(e){return N4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N4(t){return t.op==="and"}function P4(t){return r9(t)&&N4(t)}function r9(t){for(const e of t.filters)if(e instanceof Er)return!1;return!0}function Km(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+ll(t.value);if(P4(t))return t.filters.map(e=>Km(e)).join(",");{const e=t.filters.map(n=>Km(n)).join(",");return`${t.op}(${e})`}}function O4(t,e){return t instanceof kt?function(i,a){return a instanceof kt&&i.op===a.op&&i.field.isEqual(a.field)&&ri(i.value,a.value)}(t,e):t instanceof Er?function(i,a){return a instanceof Er&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,d)=>l&&O4(u,a.filters[d]),!0):!1}(t,e):void Re(19439)}function M4(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${ll(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(M4).join(" ,")+"}"}(t):"Filter"}class i9 extends kt{constructor(e,n,i){super(e,n,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class s9 extends kt{constructor(e,n){super(e,"in",n),this.keys=B4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class a9 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=B4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function B4(t,e){return(e.arrayValue?.values||[]).map(n=>Ae.fromName(n.referenceValue))}class o9 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lg(n)&&Yc(n.arrayValue,this.value)}}class l9 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yc(this.value.arrayValue,n)}}class c9 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yc(this.value.arrayValue,n)}}class u9 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Yc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n=null,i=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function J2(t,e=null,n=[],i=[],a=null,l=null,u=null){return new h9(t,e,n,i,a,l,u)}function Vg(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Km(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),D0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ll(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ll(i)).join(",")),e.Te=n}return e.Te}function Ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!O4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Z2(t.startAt,e.startAt)&&Z2(t.endAt,e.endAt)}function Qm(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n=null,i=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d9(t,e,n,i,a,l,u,d){return new bl(t,e,n,i,a,l,u,d)}function zg(t){return new bl(t)}function eb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j4(t){return t.collectionGroup!==null}function Fc(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new zt(rn.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(f=>{f.isInequality()&&(d=d.add(f.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Xc(l,i))}),n.has(rn.keyField().canonicalString())||e.Ie.push(new Xc(rn.keyField(),i))}return e.Ie}function Xr(t){const e=ke(t);return e.Ee||(e.Ee=f9(e,Fc(t))),e.Ee}function f9(t,e){if(t.limitType==="F")return J2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Xc(a.field,l)});const n=t.endAt?new e0(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new e0(t.startAt.position,t.startAt.inclusive):null;return J2(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Wm(t,e){const n=t.filters.concat([e]);return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ym(t,e,n){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function k0(t,e){return Ug(Xr(t),Xr(e))&&t.limitType===e.limitType}function F4(t){return`${Vg(Xr(t))}|lt:${t.limitType}`}function Qo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>M4(a)).join(", ")}]`),D0(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>ll(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>ll(a)).join(",")),`Target(${i})`}(Xr(t))}; limitType=${t.limitType})`}function N0(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of Fc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(u,d,m){const f=X2(u,d,m);return u.inclusive?f<=0:f<0}(i.startAt,Fc(i),a)||i.endAt&&!function(u,d,m){const f=X2(u,d,m);return u.inclusive?f>=0:f>0}(i.endAt,Fc(i),a))}(t,e)}function p9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function L4(t){return(e,n)=>{let i=!1;for(const a of Fc(t)){const l=m9(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function m9(t,e,n){const i=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(l,u,d){const m=u.data.field(l),f=d.data.field(l);return m!==null&&f!==null?ol(m,f):Re(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return E4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=new mt(Ae.comparator);function Hi(){return g9}const V4=new mt(Ae.comparator);function Nc(...t){let e=V4;for(const n of t)e=e.insert(n.key,n);return e}function U4(t){let e=V4;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ba(){return Lc()}function z4(){return Lc()}function Lc(){return new Za(t=>t.toString(),(t,e)=>t.isEqual(e))}const y9=new mt(Ae.comparator),x9=new zt(Ae.comparator);function Le(...t){let e=x9;for(const n of t)e=e.add(n);return e}const v9=new zt(Fe);function b9(){return v9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function q4(t){return{integerValue:""+t}}function _9(t,e){return QR(e)?q4(e):qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this._=void 0}}function E9(t,e,n){return t instanceof t0?function(a,l){const u={fields:{[T4]:{stringValue:A4},[C4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Fg(l)&&(l=I0(l)),l&&(u.fields[S4]=l),{mapValue:u}}(n,e):t instanceof Zc?$4(t,e):t instanceof Jc?G4(t,e):function(a,l){const u=H4(a,l),d=tb(u)+tb(a.Ae);return Gm(u)&&Gm(a.Ae)?q4(d):qg(a.serializer,d)}(t,e)}function w9(t,e,n){return t instanceof Zc?$4(t,e):t instanceof Jc?G4(t,e):n}function H4(t,e){return t instanceof n0?function(i){return Gm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class t0 extends P0{}class Zc extends P0{constructor(e){super(),this.elements=e}}function $4(t,e){const n=K4(e);for(const i of t.elements)n.some(a=>ri(a,i))||n.push(i);return{arrayValue:{values:n}}}class Jc extends P0{constructor(e){super(),this.elements=e}}function G4(t,e){let n=K4(e);for(const i of t.elements)n=n.filter(a=>!ri(a,i));return{arrayValue:{values:n}}}class n0 extends P0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tb(t){return At(t.integerValue||t.doubleValue)}function K4(t){return Lg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function A9(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof Zc&&a instanceof Zc||i instanceof Jc&&a instanceof Jc?al(i.elements,a.elements,ri):i instanceof n0&&a instanceof n0?ri(i.Ae,a.Ae):i instanceof t0&&a instanceof t0}(t.transform,e.transform)}class T9{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class O0{}function Q4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hg(t.key,vr.none()):new cu(t.key,t.data,vr.none());{const n=t.data,i=Rn.empty();let a=new zt(rn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Ws(t.key,i,new zn(a.toArray()),vr.none())}}function S9(t,e,n){t instanceof cu?function(a,l,u){const d=a.value.clone(),m=rb(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(a,l,u){if(!Jh(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=rb(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(W4(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Vc(t,e,n,i){return t instanceof cu?function(l,u,d,m){if(!Jh(l.precondition,u))return d;const f=l.value.clone(),x=ib(l.fieldTransforms,m,u);return f.setAll(x),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ws?function(l,u,d,m){if(!Jh(l.precondition,u))return d;const f=ib(l.fieldTransforms,m,u),x=u.data;return x.setAll(W4(l)),x.setAll(f),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(l,u,d){return Jh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(t,e,n)}function C9(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=H4(i.transform,a||null);l!=null&&(n===null&&(n=Rn.empty()),n.set(i.field,l))}return n||null}function nb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&al(i,a,(l,u)=>A9(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cu extends O0{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ws extends O0{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function W4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function rb(t,e,n){const i=new Map;Je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);i.set(l.field,w9(u,d,n[a]))}return i}function ib(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,E9(l,u,e))}return i}class Hg extends O0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R9 extends O0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&S9(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Vc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Vc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=z4();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=Q4(u,d);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,(n,i)=>nb(n,i))&&al(this.baseMutations,e.baseMutations,(n,i)=>nb(n,i))}}class $g{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Je(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=function(){return y9}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new $g(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ke;function N9(t){switch(t){case oe.OK:return Re(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function Y4(t){if(t===void 0)return zi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Dt.OK:return oe.OK;case Dt.CANCELLED:return oe.CANCELLED;case Dt.UNKNOWN:return oe.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return oe.INTERNAL;case Dt.UNAVAILABLE:return oe.UNAVAILABLE;case Dt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Dt.NOT_FOUND:return oe.NOT_FOUND;case Dt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Dt.ABORTED:return oe.ABORTED;case Dt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Dt.DATA_LOSS:return oe.DATA_LOSS;default:return Re(39323,{code:t})}}(Ke=Dt||(Dt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=new Os([4294967295,4294967295],0);function sb(t){const e=P9().encode(t),n=new h4;return n.update(e),new Uint8Array(n.digest())}function ab(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Os([n,i],0),new Os([a,l],0)]}class Gg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Pc(`Invalid padding: ${n}`);if(i<0)throw new Pc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Os.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Os.fromNumber(i)));return a.compare(O9)===1&&(a=new Os([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sb(e),[i,a]=ab(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Gg(l,a,n);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const n=sb(e),[i,a]=ab(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new M0(Ie.min(),a,new mt(Fe),Hi(),Le())}}class uu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new uu(i,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class X4{constructor(e,n){this.targetId=e,this.Ce=n}}class Z4{constructor(e,n,i=sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class ob{constructor(){this.ve=0,this.Fe=lb(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),i=Le();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}}),new uu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=lb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=qh(),this.He=qh(),this.Ye=new mt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Qm(l))if(i===0){const u=new Ae(l.path);this.et(n,u,dn.newNoDocument(u,Ie.min()))}else Je(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const f=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Vs(i).toUint8Array()}catch(m){if(m instanceof w4)return sl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Gg(u,a,l)}catch(m){return sl(m instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((l,u)=>{const d=this.ot(u);if(d){if(l.current&&Qm(d.target)){const m=new Ae(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,dn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}});let i=Le();this.He.forEach((l,u)=>{let d=!0;u.forEachWhile(m=>{const f=this.ot(m);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.je.forEach((l,u)=>u.setReadTime(e));const a=new M0(e,n,this.Ye,this.je,i);return this.je=Hi(),this.Je=qh(),this.He=qh(),this.Ye=new mt(Fe),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ob,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ob),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qh(){return new mt(Ae.comparator)}function lb(){return new mt(Ae.comparator)}const B9={asc:"ASCENDING",desc:"DESCENDING"},j9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F9={and:"AND",or:"OR"};class L9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(t,e){return t.useProto3Json||D0(e)?e:{value:e}}function r0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V9(t,e){return r0(t,e.toTimestamp())}function Zr(t){return Je(!!t,49232),Ie.fromTimestamp(function(n){const i=Ls(n);return new rt(i.seconds,i.nanos)}(t))}function Kg(t,e){return Zm(t,e).canonicalString()}function Zm(t,e){const n=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ew(t){const e=ht.fromString(t);return Je(sw(e),10190,{key:e.toString()}),e}function Jm(t,e){return Kg(t.databaseId,e.path)}function pm(t,e){const n=ew(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(nw(n))}function tw(t,e){return Kg(t.databaseId,e)}function U9(t){const e=ew(t);return e.length===4?ht.emptyPath():nw(e)}function eg(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nw(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cb(t,e,n){return{name:Jm(t,e),fields:n.value.mapValue.fields}}function z9(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Re(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(f,x){return f.useProto3Json?(Je(x===void 0||typeof x=="string",58123),sn.fromBase64String(x||"")):(Je(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),sn.fromUint8Array(x||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(f){const x=f.code===void 0?oe.UNKNOWN:Y4(f.code);return new ge(x,f.message||"")}(u);n=new Z4(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=pm(t,i.document.name),l=Zr(i.document.updateTime),u=i.document.createTime?Zr(i.document.createTime):Ie.min(),d=new Rn({mapValue:{fields:i.document.fields}}),m=dn.newFoundDocument(a,l,u,d),f=i.targetIds||[],x=i.removedTargetIds||[];n=new ed(f,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=pm(t,i.document),l=i.readTime?Zr(i.readTime):Ie.min(),u=dn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new ed([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=pm(t,i.document),l=i.removedTargetIds||[];n=new ed([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new k9(a,l),d=i.targetId;n=new X4(d,u)}}return n}function q9(t,e){let n;if(e instanceof cu)n={update:cb(t,e.key,e.value)};else if(e instanceof Hg)n={delete:Jm(t,e.key)};else if(e instanceof Ws)n={update:cb(t,e.key,e.data),updateMask:Z9(e.fieldMask)};else{if(!(e instanceof R9))return Re(16599,{Vt:e.type});n={verify:Jm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const d=u.transform;if(d instanceof t0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Zc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Jc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof n0)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Re(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:V9(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)}(t,e.precondition)),n}function H9(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map(n=>function(a,l){let u=a.updateTime?Zr(a.updateTime):Zr(l);return u.isEqual(Ie.min())&&(u=Zr(l)),new T9(u,a.transformResults||[])}(n,e))):[]}function $9(t,e){return{documents:[tw(t,e.path)]}}function G9(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=tw(t,a);const l=function(f){if(f.length!==0)return iw(Er.create(f,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(f){if(f.length!==0)return f.map(x=>function(v){return{field:Wo(v.field),direction:W9(v.dir)}}(x))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Xm(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:n,parent:a}}function K9(t){let e=U9(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Je(i===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];n.where&&(l=function(_){const v=rw(_);return v instanceof Er&&P4(v)?v.getFilters():[v]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(v=>function(k){return new Xc(Yo(k.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(v))}(n.orderBy));let d=null;n.limit&&(d=function(_){let v;return v=typeof _=="object"?_.value:_,D0(v)?null:v}(n.limit));let m=null;n.startAt&&(m=function(_){const v=!!_.before,D=_.values||[];return new e0(D,v)}(n.startAt));let f=null;return n.endAt&&(f=function(_){const v=!_.before,D=_.values||[];return new e0(D,v)}(n.endAt)),d9(e,a,u,l,d,"F",m,f)}function Q9(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Yo(n.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Yo(n.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(n.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yo(n.unaryFilter.field);return kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(t):t.fieldFilter!==void 0?function(n){return kt.create(Yo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(i=>rw(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(t):Re(30097,{filter:t})}function W9(t){return B9[t]}function Y9(t){return j9[t]}function X9(t){return F9[t]}function Wo(t){return{fieldPath:t.canonicalString()}}function Yo(t){return rn.fromServerFormat(t.fieldPath)}function iw(t){return t instanceof kt?function(n){if(n.op==="=="){if(Y2(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NAN"}};if(W2(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y2(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NAN"}};if(W2(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(n.field),op:Y9(n.op),value:n.value}}}(t):t instanceof Er?function(n){const i=n.getFilters().map(a=>iw(a));return i.length===1?i[0]:{compositeFilter:{op:X9(n.op),filters:i}}}(t):Re(54877,{filter:t})}function Z9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,i,a,l=Ie.min(),u=Ie.min(),d=sn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.yt=e}}function eD(t){const e=K9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.Cn=new nD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Fs.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class nD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new zt(ht.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aw=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(aw,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cl(0)}static cr(){return new cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="LruGarbageCollector",rD=1048576;function db([t,e],[n,i]){const a=Fe(t,n);return a===0?Fe(e,i):a}class iD{constructor(e){this.Ir=e,this.buffer=new zt(db),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();db(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(hb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vl(n)?ye(hb,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.Vr(3e5)})}}class aD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(R0.ce);const i=new iD(n);return this.mr.forEachTarget(e,a=>i.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>i.Ar(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ub)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,u,d,m,f;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,d=Date.now(),this.removeTargets(e,i,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(f=Date.now(),Ko()<=je.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(f-m)+`ms
Total Duration: ${f-x}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function oD(t,e){return new aD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.changes=new Za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&Vc(i.mutation,a,zn.empty(),rt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Le()){const a=Ba();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let u=Nc();return l.forEach((d,m)=>{u=u.insert(d,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=Ba();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Le()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,i,a){let l=Hi();const u=Lc(),d=function(){return Lc()}();return n.forEach((m,f)=>{const x=i.get(f.key);a.has(f.key)&&(x===void 0||x.mutation instanceof Ws)?l=l.insert(f.key,f):x!==void 0?(u.set(f.key,x.mutation.getFieldMask()),Vc(x.mutation,f,x.mutation.getFieldMask(),rt.now())):u.set(f.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((f,x)=>u.set(f,x)),n.forEach((f,x)=>d.set(f,new cD(x,u.get(f)??null))),d))}recalculateAndSaveOverlays(e,n){const i=Lc();let a=new mt((u,d)=>u-d),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(m=>{const f=n.get(m);if(f===null)return;let x=i.get(m)||zn.empty();x=d.applyToLocalView(f,x),i.set(m,x);const _=(a.get(d.batchId)||Le()).add(m);a=a.insert(d.batchId,_)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),f=m.key,x=m.value,_=z4();x.forEach(v=>{if(!l.has(v)){const D=Q4(n.get(v),i.get(v));D!==null&&_.set(v,D),l=l.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ue.resolve(Ba());let d=Kc,m=l;return u.next(f=>ue.forEach(f,(x,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(x)?ue.resolve():this.remoteDocumentCache.getEntry(e,x).next(v=>{m=m.insert(x,v)}))).next(()=>this.populateOverlays(e,f,l)).next(()=>this.computeViews(e,m,f,Le())).next(x=>({batchId:d,changes:U4(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(i=>{let a=Nc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Nc();return this.indexManager.getCollectionParents(e,l).next(d=>ue.forEach(d,m=>{const f=function(_,v){return new bl(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,f,i,a).next(x=>{x.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(u=>{l.forEach((m,f)=>{const x=f.getKey();u.get(x)===null&&(u=u.insert(x,dn.newInvalidDocument(x)))});let d=Nc();return u.forEach((m,f)=>{const x=l.get(m);x!==void 0&&Vc(x.mutation,f,zn.empty(),rt.now()),N0(n,f)&&(d=d.insert(m,f))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}}(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:eD(a.bundledQuery),readTime:Zr(a.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.overlays=new mt(Ae.comparator),this.qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ba();return ue.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.St(e,n,l)}),ue.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const a=Ba(),l=n.length+1,u=new Ae(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,f=m.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new mt((f,x)=>f-x);const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let x=l.get(f.largestBatchId);x===null&&(x=Ba(),l=l.insert(f.largestBatchId,x)),x.set(f.getKey(),f)}}const d=Ba(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((f,x)=>d.set(f,x)),!(d.size()>=a)););return ue.resolve(d)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new I9(n,i));let l=this.qr.get(n);l===void 0&&(l=Le(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Qr=new zt(Qt.$r),this.Ur=new zt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Qt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new Ae(new ht([])),i=new Qt(n,e),a=new Qt(n,e+1),l=[];return this.Ur.forEachInRange([i,a],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new ht([])),i=new Qt(n,e),a=new Qt(n,e+1);let l=Le();return this.Ur.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Qt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Qt.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new D9(l,n,i,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new Qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,n){return ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?jg:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Qt(n,0),a=new Qt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],u=>{const d=this.Xr(u.Yr);l.push(d)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new zt(Fe);return n.forEach(a=>{const l=new Qt(a,0),u=new Qt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],d=>{i=i.add(d.Yr)})}),ue.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const u=new Qt(new Ae(l),0);let d=new zt(Fe);return this.Zr.forEachWhile(m=>{const f=m.key.path;return!!i.isPrefixOf(f)&&(f.length===a&&(d=d.add(m.Yr)),!0)},u),ue.resolve(this.ti(d))}ti(e){const n=[];return e.forEach(i=>{const a=this.Xr(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ue.forEach(n.mutations,a=>{const l=new Qt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new Qt(n,0),a=this.Zr.firstAfterOrEqual(i);return ue.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.ri=e,this.docs=function(){return new mt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let i=Hi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))}),ue.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Hi();const u=n.path,d=new Ae(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:f,value:{document:x}}=m.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||HR(qR(x),i)<=0||(a.has(x.key)||N0(n,x))&&(l=l.insert(x.key,x.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Re(9500)}ii(e,n){return ue.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new gD(this)}getSize(e){return ue.resolve(this.size)}}class gD extends lD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)}),ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.persistence=e,this.si=new Za(n=>Vg(n),Ug),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Qg,this.targetCount=0,this.ai=cl.ur()}forEachTarget(e,n){return this.si.forEach((i,a)=>n(a)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new cl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Pr(n),ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ue.waitFor(l).next(()=>a)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.ui={},this.overlays={},this.ci=new R0(0),this.li=!1,this.li=!0,this.hi=new fD,this.referenceDelegate=e(this),this.Pi=new yD(this),this.indexManager=new tD,this.remoteDocumentCache=function(a){return new mD(a)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new J9(n),this.Ii=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new pD(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ye("MemoryPersistence","Starting transaction:",e);const a=new xD(this.ci.next());return this.referenceDelegate.Ei(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,n){return ue.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class xD extends GR{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Ri=new Qg,this.Vi=null}static mi(e){return new Wg(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,i=>{const a=Ae.fromPath(i);return this.gi(e,a).next(l=>{l||n.removeEntry(a,Ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class i0{constructor(e,n){this.persistence=e,this.pi=new Za(i=>WR(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=oD(this,n)}static mi(e,n){return new i0(e,n)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return ue.forEach(this.pi,(i,a)=>this.br(e,i,a).next(l=>l?ue.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,u=>this.br(e,u,n).next(d=>{d||(i++,l.removeEntry(u,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xh(e.data.value)),n}br(e,n,i){return ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Le(),a=Le();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yg(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return h8()?8:KR(fn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(e,n,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new vD;return this.Ss(e,n,u).next(d=>{if(l.result=d,this.Vs)return this.bs(e,n,u,d.size)})}).next(()=>l.result)}bs(e,n,i,a){return i.documentReadCount<this.fs?(Ko()<=je.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Ko()<=je.DEBUG&&ye("QueryEngine","Query:",Qo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Ko()<=je.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):ue.resolve())}ys(e,n){if(eb(n))return ue.resolve(null);let i=Xr(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ym(n,null,"F"),i=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=Le(...l);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const f=this.Ds(n,d);return this.Cs(n,f,u,m.readTime)?this.ys(e,Ym(n,null,"F")):this.vs(e,f,n,m)}))})))}ws(e,n,i,a){return eb(n)||a.isEqual(Ie.min())?ue.resolve(null):this.ps.getDocuments(e,i).next(l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?ue.resolve(null):(Ko()<=je.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Qo(n)),this.vs(e,u,n,zR(a,Kc)).next(d=>d))})}Ds(e,n){let i=new zt(L4(e));return n.forEach((a,l)=>{N0(e,l)&&(i=i.add(l))}),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return Ko()<=je.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.ps.getDocumentsMatchingQuery(e,n,Fs.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="LocalStore",_D=3e8;class ED{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new mt(Fe),this.xs=new Za(l=>Vg(l),Ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function wD(t,e,n,i){return new ED(t,e,n,i)}async function lw(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],d=[];let m=Le();for(const f of a){u.push(f.batchId);for(const x of f.mutations)m=m.add(x.key)}for(const f of l){d.push(f.batchId);for(const x of f.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(i,m).next(f=>({Ls:f,removedBatchIds:u,addedBatchIds:d}))})})}function AD(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,f,x){const _=f.batch,v=_.keys();let D=ue.resolve();return v.forEach(k=>{D=D.next(()=>x.getEntry(m,k)).next(M=>{const N=f.docVersions.get(k);Je(N!==null,48541),M.version.compareTo(N)<0&&(_.applyToRemoteDocument(M,f),M.isValidDocument()&&(M.setReadTime(f.commitVersion),x.addEntry(M)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Le();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(m=m.add(d.batch.mutations[f].key));return m}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function cw(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function TD(t,e){const n=ke(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach((x,_)=>{const v=a.get(_);if(!v)return;d.push(n.Pi.removeMatchingKeys(l,x.removedDocuments,_).next(()=>n.Pi.addMatchingKeys(l,x.addedDocuments,_)));let D=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?D=D.withResumeToken(sn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):x.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(x.resumeToken,i)),a=a.insert(_,D),function(M,N,L){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=_D?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,D,x)&&d.push(n.Pi.updateTargetData(l,D))});let m=Hi(),f=Le();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,x))}),d.push(SD(l,u,e.documentUpdates).next(x=>{m=x.ks,f=x.qs})),!i.isEqual(Ie.min())){const x=n.Pi.getLastRemoteSnapshotVersion(l).next(_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(x)}return ue.waitFor(d).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,f)).next(()=>m)}).then(l=>(n.Ms=a,l))}function SD(t,e,n){let i=Le(),a=Le();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let u=Hi();return n.forEach((d,m)=>{const f=l.get(d);m.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!f.isValidDocument()||m.version.compareTo(f.version)>0||m.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):ye(Xg,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",m.version)}),{ks:u,qs:a}})}function CD(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=jg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function RD(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Pi.getTargetData(i,e).next(l=>l?(a=l,ue.resolve(a)):n.Pi.allocateTargetId(i).next(u=>(a=new Is(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function tg(t,e,n){const i=ke(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!vl(u))throw u;ye(Xg,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function fb(t,e,n){const i=ke(t);let a=Ie.min(),l=Le();return i.persistence.runTransaction("Execute query","readwrite",u=>function(m,f,x){const _=ke(m),v=_.xs.get(x);return v!==void 0?ue.resolve(_.Ms.get(v)):_.Pi.getTargetData(f,x)}(i,u,Xr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,d.targetId).next(m=>{l=m})}).next(()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:Ie.min(),n?l:Le())).next(d=>(DD(i,p9(e),d),{documents:d,Qs:l})))}function DD(t,e,n){let i=t.Os.get(e)||Ie.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Os.set(e,i)}class pb{constructor(){this.activeTargetIds=b9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ID{constructor(){this.Mo=new pb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="ConnectivityMonitor";class gb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(mb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh=null;function ng(){return Hh===null?Hh=function(){return 268435456+Math.round(2147483648*Math.random())}():Hh++,"0x"+Hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Zd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const u=ng(),d=this.zo(e,n.toUriEncodedString());ye(mm,`Sending RPC '${e}' ${u}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:f}=new URL(d),x=Wa(f);return this.Jo(e,d,m,i,x).then(_=>(ye(mm,`Received RPC '${e}' ${u}: `,_),_),_=>{throw sl(mm,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",i),_})}Ho(e,n,i,a,l,u){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}zo(e,n){const i=ND[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class MD extends PD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=ng();return new Promise((d,m)=>{const f=new d4;f.setWithCredentials(!0),f.listenOnce(f4.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Yh.NO_ERROR:const _=f.getResponseJson();ye(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case Yh.TIMEOUT:ye(un,`RPC '${e}' ${u} timed out`),m(new ge(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:const v=f.getStatus();if(ye(un,`RPC '${e}' ${u} failed with status:`,v,"response text:",f.getResponseText()),v>0){let D=f.getResponseJson();Array.isArray(D)&&(D=D[0]);const k=D?.error;if(k&&k.status&&k.message){const M=function(L){const w=L.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(w)>=0?w:oe.UNKNOWN}(k.status);m(new ge(M,k.message))}else m(new ge(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new ge(oe.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ye(un,`RPC '${e}' ${u} completed.`)}});const x=JSON.stringify(a);ye(un,`RPC '${e}' ${u} sending request:`,a),f.send(n,"POST",x,i,15)})}T_(e,n,i){const a=ng(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=g4(),d=m4(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(m.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const x=l.join("");ye(un,`Creating RPC '${e}' stream ${a}: ${x}`,m);const _=u.createWebChannel(x,m);this.I_(_);let v=!1,D=!1;const k=new OD({Yo:N=>{D?ye(un,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(v||(ye(un,`Opening RPC '${e}' stream ${a} transport.`),_.open(),v=!0),ye(un,`RPC '${e}' stream ${a} sending:`,N),_.send(N))},Zo:()=>_.close()}),M=(N,L,w)=>{N.listen(L,C=>{try{w(C)}catch(V){setTimeout(()=>{throw V},0)}})};return M(_,kc.EventType.OPEN,()=>{D||(ye(un,`RPC '${e}' stream ${a} transport opened.`),k.o_())}),M(_,kc.EventType.CLOSE,()=>{D||(D=!0,ye(un,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(_))}),M(_,kc.EventType.ERROR,N=>{D||(D=!0,sl(un,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),k.a_(new ge(oe.UNAVAILABLE,"The operation could not be completed")))}),M(_,kc.EventType.MESSAGE,N=>{if(!D){const L=N.data[0];Je(!!L,16349);const w=L,C=w?.error||w[0]?.error;if(C){ye(un,`RPC '${e}' stream ${a} received error:`,C);const V=C.status;let z=function(S){const E=Dt[S];if(E!==void 0)return Y4(E)}(V),U=C.message;z===void 0&&(z=oe.INTERNAL,U="Unknown error status: "+V+" with message "+C.message),D=!0,k.a_(new ge(z,U)),_.close()}else ye(un,`RPC '${e}' stream ${a} received:`,L),k.u_(L)}}),M(d,p4.STAT_EVENT,N=>{N.stat===qm.PROXY?ye(un,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===qm.NOPROXY&&ye(un,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t){return new L9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="PersistentStream";class hw{constructor(e,n,i,a,l,u,d,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===n&&this.G_(i,a)},i=>{e(()=>{const a=new ge(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BD extends hw{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=z9(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Zr(u.readTime):Ie.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=eg(this.serializer),n.addTarget=function(l,u){let d;const m=u.target;if(d=Qm(m)?{documents:$9(l,m)}:{query:G9(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=J4(l,u.resumeToken);const f=Xm(l,u.expectedCount);f!==null&&(d.expectedCount=f)}else if(u.snapshotVersion.compareTo(Ie.min())>0){d.readTime=r0(l,u.snapshotVersion.toTimestamp());const f=Xm(l,u.expectedCount);f!==null&&(d.expectedCount=f)}return d}(this.serializer,e);const i=Q9(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=eg(this.serializer),n.removeTarget=e,this.q_(n)}}class jD extends hw{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=H9(e.writeResults,e.commitTime),i=Zr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=eg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>q9(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{}class LD extends FD{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(e,Zm(n,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(oe.UNKNOWN,l.toString())})}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,Zm(n,i),a,u,d,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(oe.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class VD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="RemoteStore";class UD{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{i.enqueueAndForget(async()=>{Ja(this)&&(ye(qa,"Restarting streams for network reachability change."),await async function(m){const f=ke(m);f.Ea.add(4),await hu(f),f.Ra.set("Unknown"),f.Ea.delete(4),await j0(f)}(this))})}),this.Ra=new VD(i,a)}}async function j0(t){if(Ja(t))for(const e of t.da)await e(!0)}async function hu(t){for(const e of t.da)await e(!1)}function dw(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ty(n)?ey(n):_l(n).O_()&&Jg(n,e))}function Zg(t,e){const n=ke(t),i=_l(n);n.Ia.delete(e),i.O_()&&fw(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ja(n)&&n.Ra.set("Unknown"))}function Jg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).Y_(e)}function fw(t,e){t.Va.Ue(e),_l(t).Z_(e)}function ey(t){t.Va=new M9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Ra.ua()}function ty(t){return Ja(t)&&!_l(t).x_()&&t.Ia.size>0}function Ja(t){return ke(t).Ea.size===0}function pw(t){t.Va=void 0}async function zD(t){t.Ra.set("Online")}async function qD(t){t.Ia.forEach((e,n)=>{Jg(t,e)})}async function HD(t,e){pw(t),ty(t)?(t.Ra.ha(e),ey(t)):t.Ra.set("Unknown")}async function $D(t,e,n){if(t.Ra.set("Online"),e instanceof Z4&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))}(t,e)}catch(i){ye(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await s0(t,i)}else if(e instanceof ed?t.Va.Ze(e):e instanceof X4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const i=await cw(t.localStore);n.compareTo(i)>=0&&await function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const x=l.Ia.get(f);x&&l.Ia.set(f,x.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,f)=>{const x=l.Ia.get(m);if(!x)return;l.Ia.set(m,x.withResumeToken(sn.EMPTY_BYTE_STRING,x.snapshotVersion)),fw(l,m);const _=new Is(x.target,m,f,x.sequenceNumber);Jg(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){ye(qa,"Failed to raise snapshot:",i),await s0(t,i)}}async function s0(t,e,n){if(!vl(e))throw e;t.Ea.add(1),await hu(t),t.Ra.set("Offline"),n||(n=()=>cw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(qa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await j0(t)})}function mw(t,e){return e().catch(n=>s0(t,n,e))}async function F0(t){const e=ke(t),n=zs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jg;for(;GD(e);)try{const a=await CD(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,KD(e,a)}catch(a){await s0(e,a)}gw(e)&&yw(e)}function GD(t){return Ja(t)&&t.Ta.length<10}function KD(t,e){t.Ta.push(e);const n=zs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function gw(t){return Ja(t)&&!zs(t).x_()&&t.Ta.length>0}function yw(t){zs(t).start()}async function QD(t){zs(t).ra()}async function WD(t){const e=zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function YD(t,e,n){const i=t.Ta.shift(),a=$g.from(i,e,n);await mw(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await F0(t)}async function XD(t,e){e&&zs(t).X_&&await async function(i,a){if(function(u){return N9(u)&&u!==oe.ABORTED}(a.code)){const l=i.Ta.shift();zs(i).B_(),await mw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await F0(i)}}(t,e),gw(t)&&yw(t)}async function xb(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ye(qa,"RemoteStore received new credentials");const i=Ja(n);n.Ea.add(3),await hu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await j0(n)}async function ZD(t,e){const n=ke(t);e?(n.Ea.delete(2),await j0(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function _l(t){return t.ma||(t.ma=function(n,i,a){const l=ke(n);return l.sa(),new BD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:zD.bind(null,t),t_:qD.bind(null,t),r_:HD.bind(null,t),H_:$D.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ty(t)?ey(t):t.Ra.set("Unknown")):(await t.ma.stop(),pw(t))})),t.ma}function zs(t){return t.fa||(t.fa=function(n,i,a){const l=ke(n);return l.sa(),new jD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:QD.bind(null,t),r_:XD.bind(null,t),ta:WD.bind(null,t),na:YD.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await F0(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(qa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,d=new ny(e,n,u,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(t,e){if(zi("AsyncQueue",`${e}: ${t}`),vl(t))return new ge(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ae.comparator(n.key,i.key):(n,i)=>Ae.comparator(n.key,i.key),this.keyedMap=Nc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.ga=new mt(Ae.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class ul{constructor(e,n,i,a,l,u,d,m,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach(d=>{u.push({type:0,doc:d})}),new ul(e,n,Zo.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&k0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class e7{constructor(){this.queries=bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=ke(n),l=a.queries;a.queries=bb(),l.forEach((u,d)=>{for(const m of d.Sa)m.onError(i)})})(this,new ge(oe.ABORTED,"Firestore shutting down"))}}function bb(){return new Za(t=>F4(t),k0)}async function xw(t,e){const n=ke(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new JD,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=ry(u,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&iy(n)}async function vw(t,e){const n=ke(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function t7(t,e){const n=ke(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.Sa)d.Fa(a)&&(i=!0);u.wa=a}}i&&iy(n)}function n7(t,e,n){const i=ke(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function iy(t){t.Ca.forEach(e=>{e.next()})}var rg,_b;(_b=rg||(rg={})).Ma="default",_b.Cache="cache";class bw{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ul(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.key=e}}class Ew{constructor(e){this.key=e}}class r7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=L4(e),this.tu=new Zo(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new vb,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,_)=>{const v=a.get(x),D=N0(this.query,_)?_:null,k=!!v&&this.mutatedKeys.has(v.key),M=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let N=!1;v&&D?v.data.isEqual(D.data)?k!==M&&(i.track({type:3,doc:D}),N=!0):this.su(v,D)||(i.track({type:2,doc:D}),N=!0,(m&&this.eu(D,m)>0||f&&this.eu(D,f)<0)&&(d=!0)):!v&&D?(i.track({type:0,doc:D}),N=!0):v&&!D&&(i.track({type:1,doc:v}),N=!0,(m||f)&&(d=!0)),N&&(D?(u=u.add(D),l=M?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((x,_)=>function(D,k){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:N})}};return M(D)-M(k)}(x.type,_.type)||this.eu(x.doc,_.doc)),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,f=m!==this.Za;return this.Za=m,u.length!==0||f?{snapshot:new ul(this.query,e.tu,l,u,e.mutatedKeys,m===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new Ew(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new _w(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sy="SyncEngine";class i7{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class s7{constructor(e){this.key=e,this.hu=!1}}class a7{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Za(d=>F4(d),k0),this.Iu=new Map,this.Eu=new Set,this.du=new mt(Ae.comparator),this.Au=new Map,this.Ru=new Qg,this.Vu={},this.mu=new Map,this.fu=cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function o7(t,e,n=!0){const i=Rw(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await ww(i,e,n,!0),a}async function l7(t,e){const n=Rw(t);await ww(n,e,!0,!1)}async function ww(t,e,n,i){const a=await RD(t.localStore,Xr(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await c7(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&dw(t.remoteStore,a),d}async function c7(t,e,n,i,a){t.pu=(_,v,D)=>async function(M,N,L,w){let C=N.view.ru(L);C.Cs&&(C=await fb(M.localStore,N.query,!1).then(({documents:I})=>N.view.ru(I,C)));const V=w&&w.targetChanges.get(N.targetId),z=w&&w.targetMismatches.get(N.targetId)!=null,U=N.view.applyChanges(C,M.isPrimaryClient,V,z);return wb(M,N.targetId,U.au),U.snapshot}(t,_,v,D);const l=await fb(t.localStore,e,!0),u=new r7(e,l.Qs),d=u.ru(l.documents),m=uu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),f=u.applyChanges(d,t.isPrimaryClient,m);wb(t,n,f.au);const x=new i7(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function u7(t,e,n){const i=ke(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter(u=>!k0(u,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await tg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Zg(i.remoteStore,a.targetId),ig(i,a.targetId)}).catch(xl)):(ig(i,a.targetId),await tg(i.localStore,a.targetId,!0))}async function h7(t,e){const n=ke(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Zg(n.remoteStore,i.targetId))}async function d7(t,e,n){const i=v7(t);try{const a=await function(u,d){const m=ke(u),f=rt.now(),x=d.reduce((D,k)=>D.add(k.key),Le());let _,v;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let k=Hi(),M=Le();return m.Ns.getEntries(D,x).next(N=>{k=N,k.forEach((L,w)=>{w.isValidDocument()||(M=M.add(L))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,k)).next(N=>{_=N;const L=[];for(const w of d){const C=C9(w,_.get(w.key).overlayedDocument);C!=null&&L.push(new Ws(w.key,C,I4(C.value.mapValue),vr.exists(!0)))}return m.mutationQueue.addMutationBatch(D,f,L,d)}).next(N=>{v=N;const L=N.applyToLocalDocumentSet(_,M);return m.documentOverlayCache.saveOverlays(D,N.batchId,L)})}).then(()=>({batchId:v.batchId,changes:U4(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,d,m){let f=u.Vu[u.currentUser.toKey()];f||(f=new mt(Fe)),f=f.insert(d,m),u.Vu[u.currentUser.toKey()]=f}(i,a.batchId,n),await du(i,a.changes),await F0(i.remoteStore)}catch(a){const l=ry(a,"Failed to persist write");n.reject(l)}}async function Aw(t,e){const n=ke(t);try{const i=await TD(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Au.get(l);u&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Je(u.hu,14607):a.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))}),await du(n,i,e)}catch(i){await xl(i)}}function Eb(t,e,n){const i=ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const m=ke(u);m.onlineState=d;let f=!1;m.queries.forEach((x,_)=>{for(const v of _.Sa)v.va(d)&&(f=!0)}),f&&iy(m)}(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function f7(t,e,n){const i=ke(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new mt(Ae.comparator);u=u.insert(l,dn.newNoDocument(l,Ie.min()));const d=Le().add(l),m=new M0(Ie.min(),new Map,new mt(Fe),u,d);await Aw(i,m),i.du=i.du.remove(l),i.Au.delete(e),ay(i)}else await tg(i.localStore,e,!1).then(()=>ig(i,e,n)).catch(xl)}async function p7(t,e){const n=ke(t),i=e.batch.batchId;try{const a=await AD(n.localStore,e);Sw(n,i,null),Tw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await du(n,a)}catch(a){await xl(a)}}async function m7(t,e,n){const i=ke(t);try{const a=await function(u,d){const m=ke(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let x;return m.mutationQueue.lookupMutationBatch(f,d).next(_=>(Je(_!==null,37113),x=_.keys(),m.mutationQueue.removeMutationBatch(f,_))).next(()=>m.mutationQueue.performConsistencyCheck(f)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(f,x,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,x)).next(()=>m.localDocuments.getDocuments(f,x))})}(i.localStore,e);Sw(i,e,n),Tw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await du(i,a)}catch(a){await xl(a)}}function Tw(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Sw(t,e,n){const i=ke(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function ig(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||Cw(t,i)})}function Cw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ay(t))}function wb(t,e,n){for(const i of n)i instanceof _w?(t.Ru.addReference(i.key,e),g7(t,i)):i instanceof Ew?(ye(sy,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||Cw(t,i.key)):Re(19791,{wu:i})}function g7(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(ye(sy,"New document in limbo: "+n),t.Eu.add(i),ay(t))}function ay(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(ht.fromString(e)),i=t.fu.next();t.Au.set(i,new s7(n)),t.du=t.du.insert(n,i),dw(t.remoteStore,new Is(Xr(zg(n.path)),i,"TargetPurposeLimboResolution",R0.ce))}}async function du(t,e,n){const i=ke(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach((d,m)=>{u.push(i.pu(m,e,n).then(f=>{if((f||n)&&i.isPrimaryClient){const x=f?!f.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(f){a.push(f);const x=Yg.As(m.targetId,f);l.push(x)}}))}),await Promise.all(u),i.Pu.H_(a),await async function(m,f){const x=ke(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ue.forEach(f,v=>ue.forEach(v.Es,D=>x.persistence.referenceDelegate.addReference(_,v.targetId,D)).next(()=>ue.forEach(v.ds,D=>x.persistence.referenceDelegate.removeReference(_,v.targetId,D)))))}catch(_){if(!vl(_))throw _;ye(Xg,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const D=x.Ms.get(v),k=D.snapshotVersion,M=D.withLastLimboFreeSnapshotVersion(k);x.Ms=x.Ms.insert(v,M)}}}(i.localStore,l))}async function y7(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ye(sy,"User change. New user:",e.toKey());const i=await lw(n.localStore,e);n.currentUser=e,function(l,u){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new ge(oe.CANCELLED,u))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await du(n,i.Ls)}}function x7(t,e){const n=ke(t),i=n.Au.get(e);if(i&&i.hu)return Le().add(i.key);{let a=Le();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function Rw(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f7.bind(null,e),e.Pu.H_=t7.bind(null,e.eventManager),e.Pu.yu=n7.bind(null,e.eventManager),e}function v7(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m7.bind(null,e),e}class a0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=B0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wD(this.persistence,new bD,e.initialUser,this.serializer)}Cu(e){return new ow(Wg.mi,this.serializer)}Du(e){return new ID}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}a0.provider={build:()=>new a0};class b7 extends a0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof i0,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new sD(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new ow(i=>i0.mi(i,n),this.serializer)}}class sg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Eb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=y7.bind(null,this.syncEngine),await ZD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new e7}()}createDatastore(e){const n=B0(e.databaseInfo.databaseId),i=function(l){return new MD(l)}(e.databaseInfo);return function(l,u,d,m){return new LD(l,u,d,m)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,u,d){return new UD(i,a,l,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>Eb(this.syncEngine,n,0),function(){return gb.v()?new gb:new kD}())}createSyncEngine(e,n){return function(a,l,u,d,m,f,x){const _=new a7(a,l,u,d,m,f);return x&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=ke(n);ye(qa,"RemoteStore shutting down."),i.Ea.add(5),await hu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sg.provider={build:()=>new sg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class _7{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=Bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{ye(qs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ye(qs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=ry(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ym(t,e){t.asyncQueue.verifyOperationInProgress(),ye(qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await lw(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ab(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E7(t);ye(qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>xb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>xb(e.remoteStore,a)),t._onlineComponents=e}async function E7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(qs,"Using user provided OfflineComponentProvider");try{await ym(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;sl("Error using user provided cache. Falling back to memory cache: "+n),await ym(t,new a0)}}else ye(qs,"Using default OfflineComponentProvider"),await ym(t,new b7(void 0));return t._offlineComponents}async function Iw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(qs,"Using user provided OnlineComponentProvider"),await Ab(t,t._uninitializedComponentsProvider._online)):(ye(qs,"Using default OnlineComponentProvider"),await Ab(t,new sg))),t._onlineComponents}function w7(t){return Iw(t).then(e=>e.syncEngine)}async function kw(t){const e=await Iw(t),n=e.eventManager;return n.onListen=o7.bind(null,e.syncEngine),n.onUnlisten=u7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=l7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h7.bind(null,e.syncEngine),n}function A7(t,e,n={}){const i=new Fi;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,d,m,f){const x=new Dw({next:v=>{x.Nu(),u.enqueueAndForget(()=>vw(l,_));const D=v.docs.has(d);!D&&v.fromCache?f.reject(new ge(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&v.fromCache&&m&&m.source==="server"?f.reject(new ge(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new bw(zg(d.path),x,{includeMetadataChanges:!0,qa:!0});return xw(l,_)}(await kw(t),t.asyncQueue,e,n,i)),i.promise}function T7(t,e,n={}){const i=new Fi;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,d,m,f){const x=new Dw({next:v=>{x.Nu(),u.enqueueAndForget(()=>vw(l,_)),v.fromCache&&m.source==="server"?f.reject(new ge(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new bw(d,x,{includeMetadataChanges:!0,qa:!0});return xw(l,_)}(await kw(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firestore.googleapis.com",Sb=!0;class Cb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pw,this.ssl=Sb}else this.host=e.host,this.ssl=e.ssl??Sb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rD)throw new ge(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nw(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class L0{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new kR;switch(i.type){case"firstParty":return new MR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Tb.get(n);i&&(ye("ComponentProvider","Removing Datastore"),Tb.delete(n),i.terminate())}(this),Promise.resolve()}}function S7(t,e,n,i={}){t=qi(t,L0);const a=Wa(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(kg(`https://${d}`),Ng("Firestore",!0)),l.host!==Pw&&l.host!==d&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!js(m,u)&&(t._setSettings(m),i.mockUserToken)){let f,x;if(typeof i.mockUserToken=="string")f=i.mockUserToken,x=hn.MOCK_USER;else{f=n4(i.mockUserToken,t._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ge(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new hn(_)}t._authCredentials=new NR(new x4(f,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class Pt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(lu(n,Pt._jsonSchema))return new Pt(e,i||null,new Ae(ht.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Nt("string",Pt._jsonSchemaVersion),referencePath:Nt("string")};class Ms extends eo{constructor(e,n,i){super(e,n,zg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Ae(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function oy(t,e,...n){if(t=Tt(t),v4("collection","path",e),t instanceof L0){const i=ht.fromString(e,...n);return V2(i),new Ms(t,null,i)}{if(!(t instanceof Pt||t instanceof Ms))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ht.fromString(e,...n));return V2(i),new Ms(t.firestore,null,i)}}function Ts(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=Bg.newId()),v4("doc","path",e),t instanceof L0){const i=ht.fromString(e,...n);return L2(i),new Pt(t,null,new Ae(i))}{if(!(t instanceof Pt||t instanceof Ms))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ht.fromString(e,...n));return L2(i),new Pt(t.firestore,t instanceof Ms?t.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="AsyncQueue";class Db{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uw(this,"async_queue_retry"),this._c=()=>{const i=gm();i&&ye(Rb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Fi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vl(e))throw e;ye(Rb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",Ib(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=ny.createAndSchedule(this,e,n,i,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:Ib(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ib(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class El extends L0{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Db,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Db(e),this._firestoreClient=void 0,await e}}}function Ow(t,e){const n=typeof t=="object"?t:S0(),i=typeof t=="string"?t:Zd,a=Ks(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=JE("firestore");l&&S7(a,...l)}return a}function ly(t){if(t._terminated)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||C7(t),t._firestoreClient}function C7(t){const e=t._freezeSettings(),n=function(a,l,u,d){return new ZR(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Nw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new or(sn.fromBase64String(e))}catch(n){throw new ge(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new or(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,or._jsonSchema))return or.fromBase64String(e.bytes)}}or._jsonSchemaVersion="firestore/bytes/1.0",or._jsonSchema={type:Nt("string",or._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Jr._jsonSchema))return new Jr(e.latitude,e.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:Nt("string",Jr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ei(e.vectorValues);throw new ge(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Nt("string",ei._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=/^__.*__$/;class D7{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class Mw{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Bw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:t})}}class uy{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return o0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Bw(this.Ac)&&R7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class I7{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||B0(e)}Cc(e,n,i,a=!1){return new uy({Ac:e,methodName:n,Dc:i,path:rn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hy(t){const e=t._freezeSettings(),n=B0(t._databaseId);return new I7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k7(t,e,n,i,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);dy("Data must be an object, but it was:",u,i);const d=jw(i,u);let m,f;if(l.merge)m=new zn(u.fieldMask),f=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const _ of l.mergeFields){const v=ag(e,_,n);if(!u.contains(v))throw new ge(oe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Lw(x,v)||x.push(v)}m=new zn(x),f=u.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,f=u.fieldTransforms;return new D7(new Rn(d),m,f)}class U0 extends cy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof U0}}function N7(t,e,n,i){const a=t.Cc(1,e,n);dy("Data must be an object, but it was:",a,i);const l=[],u=Rn.empty();Qs(i,(m,f)=>{const x=fy(e,m,n);f=Tt(f);const _=a.yc(x);if(f instanceof U0)l.push(x);else{const v=fu(f,_);v!=null&&(l.push(x),u.set(x,v))}});const d=new zn(l);return new Mw(u,d,a.fieldTransforms)}function P7(t,e,n,i,a,l){const u=t.Cc(1,e,n),d=[ag(e,i,n)],m=[a];if(l.length%2!=0)throw new ge(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)d.push(ag(e,l[v])),m.push(l[v+1]);const f=[],x=Rn.empty();for(let v=d.length-1;v>=0;--v)if(!Lw(f,d[v])){const D=d[v];let k=m[v];k=Tt(k);const M=u.yc(D);if(k instanceof U0)f.push(D);else{const N=fu(k,M);N!=null&&(f.push(D),x.set(D,N))}}const _=new zn(f);return new Mw(x,_,u.fieldTransforms)}function O7(t,e,n,i=!1){return fu(n,t.Cc(i?4:3,e))}function fu(t,e){if(Fw(t=Tt(t)))return dy("Unsupported field value:",e,t),jw(t,e);if(t instanceof cy)return function(i,a){if(!Bw(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const d of i){let m=fu(d,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _9(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=rt.fromDate(i);return{timestampValue:r0(a.serializer,l)}}if(i instanceof rt){const l=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:r0(a.serializer,l)}}if(i instanceof Jr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof or)return{bytesValue:J4(a.serializer,i._byteString)};if(i instanceof Pt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Kg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ei)return function(u,d){return{mapValue:{fields:{[R4]:{stringValue:D4},[Jd]:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return qg(d.serializer,f)})}}}}}}(i,a);throw a.Sc(`Unsupported field value: ${C0(i)}`)}(t,e)}function jw(t,e){const n={};return E4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(i,a)=>{const l=fu(a,e.mc(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function Fw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Jr||t instanceof or||t instanceof Pt||t instanceof cy||t instanceof ei)}function dy(t,e,n){if(!Fw(n)||!b4(n)){const i=C0(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function ag(t,e,n){if((e=Tt(e))instanceof V0)return e._internalPath;if(typeof e=="string")return fy(t,e);throw o0("Field path arguments must be of type string or ",t,!1,void 0,n)}const M7=new RegExp("[~\\*/\\[\\]]");function fy(t,e,n){if(e.search(M7)>=0)throw o0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new V0(...e.split("."))._internalPath}catch{throw o0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function o0(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new ge(oe.INVALID_ARGUMENT,d+t+m)}function Lw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(z0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B7 extends Vw{data(){return super.data()}}function z0(t,e){return typeof e=="string"?fy(t,e):e instanceof V0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class Uw extends py{}function og(t,e,...n){let i=[];e instanceof py&&i.push(e),i=i.concat(n),function(l){const u=l.filter(m=>m instanceof my).length,d=l.filter(m=>m instanceof q0).length;if(u>1||u>0&&d>0)throw new ge(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)t=a._apply(t);return t}class q0 extends Uw{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new q0(e,n,i)}_apply(e){const n=this._parse(e);return zw(e._query,n),new eo(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=hy(e.firestore);return function(l,u,d,m,f,x,_){let v;if(f.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Nb(_,x);const k=[];for(const M of _)k.push(kb(m,l,M));v={arrayValue:{values:k}}}else v=kb(m,l,_)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Nb(_,x),v=O7(d,u,_,x==="in"||x==="not-in");return kt.create(f,x,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function F7(t,e,n){const i=e,a=z0("where",t);return q0._create(a,i,n)}class my extends py{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new my(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)zw(u,m),u=Wm(u,m)}(e._query,n),new eo(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gy extends Uw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gy(e,n)}_apply(e){const n=function(a,l,u){if(a.startAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(l,u)}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new bl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function lg(t,e="asc"){const n=e,i=z0("orderBy",t);return gy._create(i,n)}function kb(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j4(e)&&n.indexOf("/")!==-1)throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ht.fromString(n));if(!Ae.isDocumentKey(i))throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Q2(t,new Ae(i))}if(n instanceof Pt)return Q2(t,n._key);throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${C0(n)}.`)}function Nb(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zw(t,e){const n=function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L7{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Qs(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){const n=e.fields?.[Jd].arrayValue?.values?.map(i=>At(i.doubleValue));return new ei(n)}convertGeoPoint(e){return new Jr(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=I0(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ht.fromString(e);Je(sw(i),9688,{name:e});const a=new Wc(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return a.isEqual(n)||zi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends Vw{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(z0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=La._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:Nt("string",La._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class td extends La{data(e={}){return super.data(e)}}class Jo{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Oc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new td(this._firestore,this._userDataWriter,i.key,i,new Oc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const m=new td(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Oc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new td(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Oc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,x=-1;return d.type!==0&&(f=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),x=u.indexOf(d.doc.key)),{type:U7(d.type),doc:m,oldIndex:f,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){t=qi(t,Pt);const e=qi(t.firestore,El);return A7(ly(e),t._key).then(n=>z7(e,t,n))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:Nt("string",Jo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class qw extends L7{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function cg(t){t=qi(t,eo);const e=qi(t.firestore,El),n=ly(e),i=new qw(e);return j7(t._query),T7(n,t._query).then(a=>new Jo(e,i,t,a))}function nd(t,e,n,...i){t=qi(t,Pt);const a=qi(t.firestore,El),l=hy(a);let u;return u=typeof(e=Tt(e))=="string"||e instanceof V0?P7(l,"updateDoc",t._key,e,n,i):N7(l,"updateDoc",t._key,e),yy(a,[u.toMutation(t._key,vr.exists(!0))])}function Hw(t){return yy(qi(t.firestore,El),[new Hg(t._key,vr.none())])}function $w(t,e){const n=qi(t.firestore,El),i=Ts(t),a=V7(t.converter,e);return yy(n,[k7(hy(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,vr.exists(!1))]).then(()=>i)}function yy(t,e){return function(i,a){const l=new Fi;return i.asyncQueue.enqueueAndForget(async()=>d7(await w7(i),a,l)),l.promise}(ly(t),e)}function z7(t,e,n){const i=n.docs.get(e._key),a=new qw(t);return new La(t,a,e._key,i,new Oc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){yl=a})(Xa),_r(new lr("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new El(new PR(i.getProvider("auth-internal")),new BR(u,i.getProvider("app-check-internal")),function(f,x){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ge(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(f.options.projectId,x)}(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Dn(M2,B2,e),Dn(M2,B2,"esm2020")})();var q7="firebase",H7="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(q7,H7,"app");function Gw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $7=Gw,Kw=new Ya("auth","Firebase",Gw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new T0("@firebase/auth");function G7(t,...e){l0.logLevel<=je.WARN&&l0.warn(`Auth (${Xa}): ${t}`,...e)}function rd(t,...e){l0.logLevel<=je.ERROR&&l0.error(`Auth (${Xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw xy(t,...e)}function ti(t,...e){return xy(t,...e)}function Qw(t,e,n){const i={...$7(),[e]:n};return new Ya("auth","Firebase",i).create(e,{appName:t.name})}function Bs(t){return Qw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Kw.create(t,...e)}function Ce(t,e,...n){if(!t)throw xy(e,...n)}function Mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rd(e),new Error(e)}function $i(t,e){t||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){return typeof self<"u"&&self.location?.href||""}function K7(){return Pb()==="http:"||Pb()==="https:"}function Pb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K7()||r4()||"connection"in navigator)?navigator.onLine:!0}function W7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=a8()||c8()}get(){return Q7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z7=new pu(3e4,6e4);function to(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ys(t,e,n,i,a={}){return Yw(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=ou({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:m,...l};return l8()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(f.credentials="include"),Ww.fetch()(await Xw(t,t.config.apiHost,n,d),f)})}async function Yw(t,e,n){t._canInitEmulator=!1;const i={...Y7,...e};try{const a=new eI(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw $h(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,f]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw $h(t,"user-disabled",u);const x=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Qw(t,x,f);wr(t,x)}}catch(a){if(a instanceof cr)throw a;wr(t,"network-request-failed",{message:String(a)})}}async function H0(t,e,n,i,a={}){const l=await Ys(t,e,n,i,a);return"mfaPendingCredential"in l&&wr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Xw(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?vy(t.config,a):`${t.config.apiScheme}://${a}`;return X7.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function J7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ti(this.auth,"network-request-failed")),Z7.get())})}}function $h(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ti(t,e,i);return a.customData._tokenResponse=n,a}function Ob(t){return t!==void 0&&t.enterprise!==void 0}class tI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nI(t,e){return Ys(t,"GET","/v2/recaptchaConfig",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function c0(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iI(t,e=!1){const n=Tt(t),i=await n.getIdToken(e),a=by(i);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Uc(vm(a.auth_time)),issuedAtTime:Uc(vm(a.iat)),expirationTime:Uc(vm(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function vm(t){return Number(t)*1e3}function by(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return rd("JWT malformed, contained fewer than 3 sections"),null;try{const a=XE(n);return a?JSON.parse(a):(rd("Failed to decode base64 JWT payload"),null)}catch(a){return rd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Mb(t){const e=by(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof cr&&sI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function sI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(t){const e=t.auth,n=await t.getIdToken(),i=await eu(t,c0(e,{idToken:n}));Ce(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Zw(a.providerUserInfo):[],u=lI(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,f=d?m:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new hg(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,x)}async function oI(t){const e=Tt(t);await u0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lI(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Zw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(t,e){const n=await Yw(t,{},async()=>{const i=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await Xw(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(m.credentials="include"),Ww.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uI(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Mb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await cI(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new el;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ce(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iI(this,e)}reload(){return oI(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await u0(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Bs(this.auth));const e=await this.getIdToken();return await eu(this,rI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,f=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:D,providerData:k,stsTokenManager:M}=n;Ce(_&&M,e,"internal-error");const N=el.fromJSON(this.name,M);Ce(typeof _=="string",e,"internal-error"),ws(i,e.name),ws(a,e.name),Ce(typeof v=="boolean",e,"internal-error"),Ce(typeof D=="boolean",e,"internal-error"),ws(l,e.name),ws(u,e.name),ws(d,e.name),ws(m,e.name),ws(f,e.name),ws(x,e.name);const L=new yr({uid:_,auth:e,email:a,emailVerified:v,displayName:i,isAnonymous:D,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:N,createdAt:f,lastLoginAt:x});return k&&Array.isArray(k)&&(L.providerData=k.map(w=>({...w}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,n,i=!1){const a=new el;a.updateFromServerResponse(n);const l=new yr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await u0(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Zw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new el;d.updateFromIdToken(i);const m=new yr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new hg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,f),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;function Bi(t){$i(t instanceof Function,"Expected a class definition");let e=Bb.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jw.type="NONE";const jb=Jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e,n){return`firebase:${t}:${e}:${n}`}class tl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=id(this.userKey,a.apiKey,l),this.fullPersistenceKey=id("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await c0(this.auth,{idToken:e}).catch(()=>{});return n?yr._fromGetAccountInfoResponse(this.auth,n,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new tl(Bi(jb),e,i);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=a[0]||Bi(jb);const u=id(i,e.config.apiKey,e.name);let d=null;for(const f of n)try{const x=await f._get(u);if(x){let _;if(typeof x=="string"){const v=await c0(e,{idToken:x}).catch(()=>{});if(!v)break;_=await yr._fromGetAccountInfoResponse(e,v,x)}else _=yr._fromJSON(e,x);f!==l&&(d=_),l=f;break}}catch{}const m=a.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new tl(l,e,i):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==l)try{await f._remove(u)}catch{}})),new tl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s5(e))return"Blackberry";if(a5(e))return"Webos";if(t5(e))return"Safari";if((e.includes("chrome/")||n5(e))&&!e.includes("edge/"))return"Chrome";if(i5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function e5(t=fn()){return/firefox\//i.test(t)}function t5(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n5(t=fn()){return/crios\//i.test(t)}function r5(t=fn()){return/iemobile/i.test(t)}function i5(t=fn()){return/android/i.test(t)}function s5(t=fn()){return/blackberry/i.test(t)}function a5(t=fn()){return/webos/i.test(t)}function _y(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hI(t=fn()){return _y(t)&&!!window.navigator?.standalone}function dI(){return u8()&&document.documentMode===10}function o5(t=fn()){return _y(t)||i5(t)||a5(t)||s5(t)||/windows phone/i.test(t)||r5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e=[]){let n;switch(t){case"Browser":n=Fb(fn());break;case"Worker":n=`${Fb(fn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",to(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=6;class gI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lb(this),this.idTokenSubscription=new Lb(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await c0(this,{idToken:e}),i=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ar(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await u0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Bs(this));const n=e?Tt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pI(this),n=new gI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await uI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&G7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wl(t){return Tt(t)}class Lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=y8(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xI(t){$0=t}function c5(t){return $0.loadJS(t)}function vI(){return $0.recaptchaEnterpriseScript}function bI(){return $0.gapiScript}function _I(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class EI{constructor(){this.enterprise=new wI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const AI="recaptcha-enterprise",u5="NO_RECAPTCHA";class TI{constructor(e){this.type=AI,this.auth=wl(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{nI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new tI(m);return l.tenantId==null?l._agentRecaptchaConfig=f:l._tenantRecaptchaConfigs[l.tenantId]=f,u(f.siteKey)}}).catch(m=>{d(m)})})}function a(l,u,d){const m=window.grecaptcha;Ob(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(f=>{u(f)}).catch(()=>{u(u5)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(d=>{if(!n&&Ob(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=vI();m.length!==0&&(m+=d),c5(m).then(()=>{a(d,l,u)}).catch(f=>{u(f)})}}).catch(d=>{u(d)})})}}async function Vb(t,e,n,i=!1,a=!1){const l=new TI(t);let u;if(a)u=u5;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ub(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Vb(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Vb(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e){const n=Ks(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(js(l,e??{}))return a;wr(a,"already-initialized")}return n.initialize({options:e})}function CI(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function RI(t,e,n){const i=wl(t);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=h5(e),{host:u,port:d}=DI(e),m=d===null?"":`:${d}`,f={url:`${l}//${u}${m}/`},x=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(js(f,i.config.emulator)&&js(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,Wa(u)?(kg(`${l}//${u}${m}`),Ng("Auth",!0)):II()}function h5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DI(t){const e=h5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:zb(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:zb(u)}}}function zb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function II(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,n){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function kI(t,e){return Ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(t,e){return H0(t,"POST","/v1/accounts:signInWithPassword",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(t,e){return H0(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}async function OI(t,e){return H0(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Ey{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new tu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ub(e,n,"signInWithPassword",NI);case"emailLink":return PI(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ub(e,i,"signUpPassword",kI);case"emailLink":return OI(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e){return H0(t,"POST","/v1/accounts:signInWithIdp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="http://localhost";class Ha extends Ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Ha(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,nl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:MI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jI(t){const e=Dc(Ic(t)).link,n=e?Dc(Ic(e)).deep_link_id:null,i=Dc(Ic(t)).deep_link_id;return(i?Dc(Ic(i)).link:null)||i||n||e||t}class wy{constructor(e){const n=Dc(Ic(e)),i=n.apiKey??null,a=n.oobCode??null,l=BI(n.mode??null);Ce(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=jI(e);try{return new wy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=wy.parseLink(n);return Ce(i,"argument-error"),tu._fromEmailAndCode(e,i.code,i.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends d5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends mu{constructor(){super("facebook.com")}static credential(e){return Ha._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ha._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Cs.credential(n,i)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends mu{constructor(){super("github.com")}static credential(e){return Ha._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends mu{constructor(){super("twitter.com")}static credential(e,n){return Ha._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ds.credential(n,i)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await yr._fromIdTokenResponse(e,i,a),u=qb(i);return new hl({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=qb(i);return new hl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends cr{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,h0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new h0(e,n,i,a)}}function f5(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?h0._fromErrorAndOperation(t,l,e,i):l})}async function FI(t,e,n=!1){const i=await eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(t,e,n=!1){const{auth:i}=t;if(ar(i.app))return Promise.reject(Bs(i));const a="reauthenticate";try{const l=await eu(t,f5(i,a,e,t),n);Ce(l.idToken,i,"internal-error");const u=by(l.idToken);Ce(u,i,"internal-error");const{sub:d}=u;return Ce(t.uid===d,i,"user-mismatch"),hl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&wr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(t,e,n=!1){if(ar(t.app))return Promise.reject(Bs(t));const i="signIn",a=await f5(t,i,e),l=await hl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function VI(t,e){return p5(wl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(t){const e=wl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function m5(t,e,n){return ar(t.app)?Promise.reject(Bs(t)):VI(Tt(t),Al.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&UI(t),i})}function zI(t,e,n,i){return Tt(t).onIdTokenChanged(e,n,i)}function qI(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function g5(t,e,n,i){return Tt(t).onAuthStateChanged(e,n,i)}function y5(t){return Tt(t).signOut()}const d0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(d0,"1"),this.storage.removeItem(d0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=1e3,$I=10;class v5 extends x5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);dI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,$I):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v5.type="LOCAL";const GI=v5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5 extends x5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b5.type="SESSION";const _5=b5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new G0(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async f=>f(n.origin,l)),m=await KI(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}G0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const f=Ay("",20);a.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(x),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function WI(t){ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function YI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XI(){return navigator?.serviceWorker?.controller||null}function ZI(){return E5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="firebaseLocalStorageDb",JI=1,f0="firebaseLocalStorage",A5="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function K0(t,e){return t.transaction([f0],e?"readwrite":"readonly").objectStore(f0)}function ek(){const t=indexedDB.deleteDatabase(w5);return new gu(t).toPromise()}function dg(){const t=indexedDB.open(w5,JI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(f0,{keyPath:A5})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(f0)?e(i):(i.close(),await ek(),e(await dg()))})})}async function Hb(t,e,n){const i=K0(t,!0).put({[A5]:e,value:n});return new gu(i).toPromise()}async function tk(t,e){const n=K0(t,!1).get(e),i=await new gu(n).toPromise();return i===void 0?null:i.value}function $b(t,e){const n=K0(t,!0).delete(e);return new gu(n).toPromise()}const nk=800,rk=3;class T5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>rk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=G0._getInstance(ZI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YI(),!this.activeServiceWorker)return;this.sender=new QI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await Hb(e,d0,"1"),await $b(e,d0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Hb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>tk(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=K0(a,!1).getAll();return new gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T5.type="LOCAL";const ik=T5;new pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e){return e?Bi(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends Ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ak(t){return p5(t.auth,new Ty(t),t.bypassAuthState)}function ok(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),LI(n,new Ty(t),t.bypassAuthState)}async function lk(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),FI(n,new Ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ak;case"linkViaPopup":case"linkViaRedirect":return lk;case"reauthViaPopup":case"reauthViaRedirect":return ok;default:wr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new pu(2e3,1e4);class Xo extends S5{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=Ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ck.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="pendingRedirect",sd=new Map;class hk extends S5{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=sd.get(this.auth._key());if(!e){try{const i=await dk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}sd.set(this.auth._key(),e)}return this.bypassAuthState||sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dk(t,e){const n=mk(e),i=pk(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function fk(t,e){sd.set(t._key(),e)}function pk(t){return Bi(t._redirectPersistence)}function mk(t){return id(uk,t.config.apiKey,t.name)}async function gk(t,e,n=!1){if(ar(t.app))return Promise.reject(Bs(t));const i=wl(t),a=sk(i,e),u=await new hk(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=600*1e3;class xk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!C5(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gb(e))}saveEventToCache(e){this.cachedEventUids.add(Gb(e)),this.lastProcessedEventTime=Date.now()}}function Gb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function C5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ek=/^https?/;async function wk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bk(t);for(const n of e)try{if(Ak(n))return}catch{}wr(t,"unauthorized-domain")}function Ak(t){const e=ug(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!Ek.test(n))return!1;if(_k.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new pu(3e4,6e4);function Kb(){const t=ni().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sk(t){return new Promise((e,n)=>{function i(){Kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kb(),n(ti(t,"network-request-failed"))},timeout:Tk.get()})}if(ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ni().gapi?.load)i();else{const a=_I("iframefcb");return ni()[a]=()=>{gapi.load?i():n(ti(t,"network-request-failed"))},c5(`${bI()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ad=null,e})}let ad=null;function Ck(t){return ad=ad||Sk(t),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new pu(5e3,15e3),Dk="__/auth/iframe",Ik="emulator/auth/iframe",kk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pk(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vy(e,Ik):`https://${t.config.authDomain}/${Dk}`,i={apiKey:e.apiKey,appName:t.name,v:Xa},a=Nk.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${ou(i).slice(1)}`}async function Ok(t){const e=await Ck(t),n=ni().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:Pk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ti(t,"network-request-failed"),d=ni().setTimeout(()=>{l(u)},Rk.get());function m(){ni().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bk=500,jk=600,Fk="_blank",Lk="http://localhost";class Qb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vk(t,e,n,i=Bk,a=jk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...Mk,width:i.toString(),height:a.toString(),top:l,left:u},f=fn().toLowerCase();n&&(d=n5(f)?Fk:n),e5(f)&&(e=e||Lk,m.scrollbars="yes");const x=Object.entries(m).reduce((v,[D,k])=>`${v}${D}=${k},`,"");if(hI(f)&&d!=="_self")return Uk(e||"",d),new Qb(null);const _=window.open(e||"",d,x);Ce(_,t,"popup-blocked");try{_.focus()}catch{}return new Qb(_)}function Uk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="__/auth/handler",qk="emulator/auth/handler",Hk=encodeURIComponent("fac");async function Wb(t,e,n,i,a,l){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Xa,eventId:a};if(e instanceof d5){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",g8(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,_]of Object.entries({}))u[x]=_}if(e instanceof mu){const x=e.getScopes().filter(_=>_!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const x of Object.keys(d))d[x]===void 0&&delete d[x];const m=await t._getAppCheckToken(),f=m?`#${Hk}=${encodeURIComponent(m)}`:"";return`${$k(t)}?${ou(d).slice(1)}${f}`}function $k({config:t}){return t.emulator?vy(t,qk):`https://${t.authDomain}/${zk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class Gk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_5,this._completeRedirectFn=gk,this._overrideRedirectResult=fk}async _openPopup(e,n,i,a){$i(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Wb(e,n,i,ug(),a);return Vk(e,l,Ay())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Wb(e,n,i,ug(),a);return WI(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):($i(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Ok(e),i=new xk(e);return n.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},a=>{const l=a?.[0]?.[bm];l!==void 0&&n(!!l),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return o5()||t5()||_y()}}const Kk=Gk;var Yb="@firebase/auth",Xb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yk(t){_r(new lr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l5(t)},f=new yI(i,a,l,m);return CI(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_r(new lr("auth-internal",e=>{const n=wl(e.getProvider("auth").getImmediate());return(i=>new Qk(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(Yb,Xb,Wk(t)),Dn(Yb,Xb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=300,Zk=t4("authIdTokenMaxAge")||Xk;let Zb=null;const Jk=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Zk)return;const a=n?.token;Zb!==a&&(Zb=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function R5(t=S0()){const e=Ks(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SI(t,{popupRedirectResolver:Kk,persistence:[ik,GI,_5]}),i=t4("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=Jk(l.toString());qI(n,u,()=>u(n.currentUser)),zI(n,d=>u(d))}}const a=ZE("auth");return a&&RI(n,`http://${a}`),n}function eN(){return document.getElementsByTagName("head")?.[0]??document}xI({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=ti("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",eN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yk("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="firebasestorage.googleapis.com",tN="storageBucket",nN=120*1e3,rN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends cr{constructor(e,n,i=0){super(_m(e),`Firebase Storage: ${n} (${_m(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,si.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ii;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ii||(ii={}));function _m(t){return"storage/"+t}function iN(){const t="An unknown error occurred, please check the error payload for server response.";return new si(ii.UNKNOWN,t)}function sN(){return new si(ii.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aN(){return new si(ii.CANCELED,"User canceled the upload/download.")}function oN(t){return new si(ii.INVALID_URL,"Invalid URL '"+t+"'.")}function lN(t){return new si(ii.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Jb(t){return new si(ii.INVALID_ARGUMENT,t)}function I5(){return new si(ii.APP_DELETED,"The Firebase app was deleted.")}function cN(t){return new si(ii.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=xr.makeFromUrl(e,n)}catch{return new xr(e,"")}if(i.path==="")return i;throw lN(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function f(V){V.path_=decodeURIComponent(V.path)}const x="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",D=new RegExp(`^https?://${_}/${x}/b/${a}/o${v}`,"i"),k={bucket:1,path:3},M=n===D5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",L=new RegExp(`^https?://${M}/${a}/${N}`,"i"),C=[{regex:d,indices:m,postModify:l},{regex:D,indices:k,postModify:f},{regex:L,indices:{bucket:1,path:2},postModify:f}];for(let V=0;V<C.length;V++){const z=C[V],U=z.regex.exec(e);if(U){const I=U[z.indices.bucket];let S=U[z.indices.path];S||(S=""),i=new xr(I,S),z.postModify(i);break}}if(i==null)throw oN(e);return i}}class uN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e,n){let i=1,a=null,l=null,u=!1,d=0;function m(){return d===2}let f=!1;function x(...N){f||(f=!0,e.apply(null,N))}function _(N){a=setTimeout(()=>{a=null,t(D,m())},N)}function v(){l&&clearTimeout(l)}function D(N,...L){if(f){v();return}if(N){v(),x.call(null,N,...L);return}if(m()||u){v(),x.call(null,N,...L);return}i<64&&(i*=2);let C;d===1?(d=2,C=0):C=(i+Math.random())*1e3,_(C)}let k=!1;function M(N){k||(k=!0,v(),!f&&(a!==null?(N||(d=2),clearTimeout(a),_(0)):N||(d=1)))}return _(0),l=setTimeout(()=>{u=!0,M(!0)},n),M}function dN(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){return t!==void 0}function e_(t,e,n,i){if(i<e)throw Jb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Jb(`Invalid value for '${t}'. Expected ${n} or less.`)}function pN(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var p0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(p0||(p0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,i,a,l,u,d,m,f,x,_,v=!0,D=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=m,this.timeout_=f,this.progressCallback_=x,this.connectionFactory_=_,this.retry=v,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,M)=>{this.resolve_=k,this.reject_=M,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Gh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const m=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,f)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===p0.NO_ERROR,m=l.getStatus();if(!d||mN(m,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===p0.ABORT;i(!1,new Gh(!1,null,x));return}const f=this.successCodes_.indexOf(m)!==-1;i(!0,new Gh(f,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());fN(m)?l(m):l()}catch(m){u(m)}else if(d!==null){const m=iN();m.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,m)):u(m)}else if(a.canceled){const m=this.appDelete_?I5():aN();u(m)}else{const m=sN();u(m)}};this.canceled_?n(!1,new Gh(!1,null,!0)):this.backoffId_=hN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function yN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xN(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bN(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _N(t,e,n,i,a,l,u=!0,d=!1){const m=pN(t.urlParams),f=t.url+m,x=Object.assign({},t.headers);return vN(x,e),yN(x,n),xN(x,l),bN(x,i),new gN(f,t.method,x,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this._service=e,n instanceof xr?this._location=n:this._location=xr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new m0(e,n)}get root(){const e=new xr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wN(this._location.path)}get storage(){return this._service}get parent(){const e=EN(this._location.path);if(e===null)return null;const n=new xr(this._location.bucket,e);return new m0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cN(e)}}function t_(t,e){const n=e?.[tN];return n==null?null:xr.makeFromBucketSpec(n,t)}function AN(t,e,n,i={}){t.host=`${e}:${n}`;const a=Wa(e);a&&(kg(`https://${t.host}/b`),Ng("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:n4(l,t.app.options.projectId))}class TN{constructor(e,n,i,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=D5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nN,this._maxUploadRetryTime=rN,this._requests=new Set,a!=null?this._bucket=xr.makeFromBucketSpec(a,this._host):this._bucket=t_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xr.makeFromBucketSpec(this._url,e):this._bucket=t_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new m0(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new uN(I5());{const u=_N(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const n_="@firebase/storage",r_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="storage";function N5(t=S0(),e){t=Tt(t);const i=Ks(t,k5).getImmediate({identifier:e}),a=JE("storage");return a&&SN(i,...a),i}function SN(t,e,n,i={}){AN(t,e,n,i)}function CN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new TN(n,i,a,e,Xa)}function RN(){_r(new lr(k5,CN,"PUBLIC").setMultipleInstances(!0)),Dn(n_,r_,""),Dn(n_,r_,"esm2020")}RN();const P5="@firebase/installations",Sy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=1e4,M5=`w:${Sy}`,B5="FIS_v2",DN="https://firebaseinstallations.googleapis.com/v1",IN=3600*1e3,kN="installations",NN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$a=new Ya(kN,NN,PN);function j5(t){return t instanceof cr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5({projectId:t}){return`${DN}/projects/${t}/installations`}function L5(t){return{token:t.token,requestStatus:2,expiresIn:MN(t.expiresIn),creationTime:Date.now()}}async function V5(t,e){const i=(await e.json()).error;return $a.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function U5({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ON(t,{refreshToken:e}){const n=U5(t);return n.append("Authorization",BN(e)),n}async function z5(t){const e=await t();return e.status>=500&&e.status<600?t():e}function MN(t){return Number(t.replace("s","000"))}function BN(t){return`${B5} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=F5(t),a=U5(t),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const u={fid:n,authVersion:B5,appId:t.appId,sdkVersion:M5},d={method:"POST",headers:a,body:JSON.stringify(u)},m=await z5(()=>fetch(i,d));if(m.ok){const f=await m.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:L5(f.authToken)}}else throw await V5("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=/^[cdef][\w-]{21}$/,fg="";function VN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=UN(t);return LN.test(n)?n:fg}catch{return fg}}function UN(t){return FN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new Map;function $5(t,e){const n=Q0(t);G5(n,e),zN(n,e)}function G5(t,e){const n=H5.get(t);if(n)for(const i of n)i(e)}function zN(t,e){const n=qN();n&&n.postMessage({key:t,fid:e}),HN()}let ja=null;function qN(){return!ja&&"BroadcastChannel"in self&&(ja=new BroadcastChannel("[Firebase] FID Change"),ja.onmessage=t=>{G5(t.data.key,t.data.fid)}),ja}function HN(){H5.size===0&&ja&&(ja.close(),ja=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="firebase-installations-database",GN=1,Ga="firebase-installations-store";let Em=null;function Cy(){return Em||(Em=l4($N,GN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ga)}}})),Em}async function g0(t,e){const n=Q0(t),a=(await Cy()).transaction(Ga,"readwrite"),l=a.objectStore(Ga),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&$5(t,e.fid),e}async function K5(t){const e=Q0(t),i=(await Cy()).transaction(Ga,"readwrite");await i.objectStore(Ga).delete(e),await i.done}async function W0(t,e){const n=Q0(t),a=(await Cy()).transaction(Ga,"readwrite"),l=a.objectStore(Ga),u=await l.get(n),d=e(u);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!u||u.fid!==d.fid)&&$5(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ry(t){let e;const n=await W0(t.appConfig,i=>{const a=KN(i),l=QN(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===fg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function KN(t){const e=t||{fid:VN(),registrationStatus:0};return Q5(e)}function QN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject($a.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=WN(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YN(t)}:{installationEntry:e}}async function WN(t,e){try{const n=await jN(t,e);return g0(t.appConfig,n)}catch(n){throw j5(n)&&n.customData.serverCode===409?await K5(t.appConfig):await g0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function YN(t){let e=await i_(t.appConfig);for(;e.registrationStatus===1;)await q5(100),e=await i_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Ry(t);return i||n}return e}function i_(t){return W0(t,e=>{if(!e)throw $a.create("installation-not-found");return Q5(e)})}function Q5(t){return XN(t)?{fid:t.fid,registrationStatus:0}:t}function XN(t){return t.registrationStatus===1&&t.registrationTime+O5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN({appConfig:t,heartbeatServiceProvider:e},n){const i=JN(t,n),a=ON(t,n),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const u={installation:{sdkVersion:M5,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(u)},m=await z5(()=>fetch(i,d));if(m.ok){const f=await m.json();return L5(f)}else throw await V5("Generate Auth Token",m)}function JN(t,{fid:e}){return`${F5(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dy(t,e=!1){let n;const i=await W0(t.appConfig,l=>{if(!W5(l))throw $a.create("not-registered");const u=l.authToken;if(!e&&nP(u))return l;if(u.requestStatus===1)return n=eP(t,e),l;{if(!navigator.onLine)throw $a.create("app-offline");const d=iP(l);return n=tP(t,d),d}});return n?await n:i.authToken}async function eP(t,e){let n=await s_(t.appConfig);for(;n.authToken.requestStatus===1;)await q5(100),n=await s_(t.appConfig);const i=n.authToken;return i.requestStatus===0?Dy(t,e):i}function s_(t){return W0(t,e=>{if(!W5(e))throw $a.create("not-registered");const n=e.authToken;return sP(n)?{...e,authToken:{requestStatus:0}}:e})}async function tP(t,e){try{const n=await ZN(t,e),i={...e,authToken:n};return await g0(t.appConfig,i),n}catch(n){if(j5(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await K5(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await g0(t.appConfig,i)}throw n}}function W5(t){return t!==void 0&&t.registrationStatus===2}function nP(t){return t.requestStatus===2&&!rP(t)}function rP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+IN}function iP(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function sP(t){return t.requestStatus===1&&t.requestTime+O5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t){const e=t,{installationEntry:n,registrationPromise:i}=await Ry(e);return i?i.catch(console.error):Dy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(t,e=!1){const n=t;return await lP(n),(await Dy(n,e)).token}async function lP(t){const{registrationPromise:e}=await Ry(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){if(!t||!t.options)throw wm("App Configuration");if(!t.name)throw wm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function wm(t){return $a.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="installations",uP="installations-internal",hP=t=>{const e=t.getProvider("app").getImmediate(),n=cP(e),i=Ks(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},dP=t=>{const e=t.getProvider("app").getImmediate(),n=Ks(e,Y5).getImmediate();return{getId:()=>aP(n),getToken:a=>oP(n,a)}};function fP(){_r(new lr(Y5,hP,"PUBLIC")),_r(new lr(uP,dP,"PRIVATE"))}fP();Dn(P5,Sy);Dn(P5,Sy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="analytics",pP="firebase_id",mP="origin",gP=60*1e3,yP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new T0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qn=new Ya("analytics","Analytics",xP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){if(!t.startsWith(Iy)){const e=qn.create("invalid-gtag-resource",{gtagURL:t});return In.warn(e.message),""}return t}function X5(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function bP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function _P(t,e){const n=bP("firebase-js-sdk-policy",{createScriptURL:vP}),i=document.createElement("script"),a=`${Iy}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function EP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function wP(t,e,n,i,a,l){const u=i[a];try{if(u)await e[u];else{const m=(await X5(n)).find(f=>f.measurementId===a);m&&await e[m.appId]}}catch(d){In.error(d)}t("config",a,l)}async function AP(t,e,n,i,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const d=await X5(n);for(const m of u){const f=d.find(_=>_.measurementId===m),x=f&&e[f.appId];if(x)l.push(x);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,a||{})}catch(l){In.error(l)}}function TP(t,e,n,i){async function a(l,...u){try{if(l==="event"){const[d,m]=u;await AP(t,e,n,d,m)}else if(l==="config"){const[d,m]=u;await wP(t,e,n,i,d,m)}else if(l==="consent"){const[d,m]=u;t("consent",d,m)}else if(l==="get"){const[d,m,f]=u;t("get",d,m,f)}else if(l==="set"){const[d]=u;t("set",d)}else t(l,...u)}catch(d){In.error(d)}}return a}function SP(t,e,n,i,a){let l=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=TP(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function CP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Iy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=30,DP=1e3;class IP{constructor(e={},n=DP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Z5=new IP;function kP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function NP(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:kP(n)},a=yP.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let u="";try{const d=await l.json();d.error?.message&&(u=d.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function PP(t,e=Z5,n){const{appId:i,apiKey:a,measurementId:l}=t.options;if(!i)throw qn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw qn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new BP;return setTimeout(async()=>{d.abort()},gP),J5({appId:i,apiKey:a,measurementId:l},u,d,e)}async function J5(t,{throttleEndTimeMillis:e,backoffCount:n},i,a=Z5){const{appId:l,measurementId:u}=t;try{await OP(i,e)}catch(d){if(u)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{const d=await NP(t);return a.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!MP(m)){if(a.deleteThrottleMetadata(l),u)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw d}const f=Number(m?.customData?.httpStatus)===503?T2(n,a.intervalMillis,RP):T2(n,a.intervalMillis),x={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return a.setThrottleMetadata(l,x),In.debug(`Calling attemptFetch again in ${f} millis`),J5(t,x,i,a)}}function OP(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function MP(t){if(!(t instanceof cr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class BP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jP(t,e,n,i,a){if(a&&a.global){t("event",n,i);return}else{const l=await e,u={...i,send_to:l};t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(){if(i4())try{await s4()}catch(t){return In.warn(qn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return In.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function LP(t,e,n,i,a,l,u){const d=PP(t);d.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>In.error(v)),e.push(d);const m=FP().then(v=>{if(v)return i.getId()}),[f,x]=await Promise.all([d,m]);CP(l)||_P(l,f.measurementId),a("js",new Date);const _=u?.config??{};return _[mP]="firebase",_.update=!0,x!=null&&(_[pP]=x),a("config",f.measurementId,_),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.app=e}_delete(){return delete zc[this.app.options.appId],Promise.resolve()}}let zc={},a_=[];const o_={};let Am="dataLayer",UP="gtag",l_,eA,c_=!1;function zP(){const t=[];if(r4()&&t.push("This is a browser extension environment."),d8()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=qn.create("invalid-analytics-context",{errorInfo:e});In.warn(n.message)}}function qP(t,e,n){zP();const i=t.options.appId;if(!i)throw qn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qn.create("no-api-key");if(zc[i]!=null)throw qn.create("already-exists",{id:i});if(!c_){EP(Am);const{wrappedGtag:l,gtagCore:u}=SP(zc,a_,o_,Am,UP);eA=l,l_=u,c_=!0}return zc[i]=LP(t,a_,o_,e,l_,Am,n),new VP(t)}function tA(t=S0()){t=Tt(t);const e=Ks(t,y0);return e.isInitialized()?e.getImmediate():HP(t)}function HP(t,e={}){const n=Ks(t,y0);if(n.isInitialized()){const a=n.getImmediate();if(js(e,n.getOptions()))return a;throw qn.create("already-initialized")}return n.initialize({options:e})}function $P(t,e,n,i){t=Tt(t),jP(eA,zc[t.app.options.appId],e,n,i).catch(a=>In.error(a))}const u_="@firebase/analytics",h_="0.10.18";function GP(){_r(new lr(y0,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return qP(i,a,n)},"PUBLIC")),_r(new lr("analytics-internal",t,"PRIVATE")),Dn(u_,h_),Dn(u_,h_,"esm2020");function t(e){try{const n=e.getProvider(y0).getImmediate();return{logEvent:(i,a,l)=>$P(n,i,a,l)}}catch(n){throw qn.create("interop-component-reg-failed",{reason:n})}}}GP();const nA={apiKey:"AIzaSyChbvxl2bz1YTny0NkR1WeVWDIPmWNZ7Oc",authDomain:"pdf-library-bps.firebaseapp.com",projectId:"pdf-library-bps",storageBucket:"pdf-library-bps.firebasestorage.app",messagingSenderId:"92871761977",appId:"1:92871761977:web:c80057d5d6bc4f7f076de8",measurementId:"G-MTXQPFVCC5"},Y0=Og(nA),ky=R5(Y0),Yr=Ow(Y0);N5(Y0);typeof window<"u"&&nA.measurementId&&tA(Y0);const Tm=oy(Yr,"pdfs"),Hs={async getAllPDFs(){try{const t=og(Tm,lg("createdAt","desc"));return(await cg(t)).docs.map(n=>({id:n.id,...n.data(),createdAt:n.data().createdAt?.toDate()||new Date,updatedAt:n.data().updatedAt?.toDate()||new Date}))}catch(t){throw console.error("Error fetching PDFs:",t),t}},async getPDFById(t){try{const e=Ts(Yr,"pdfs",t),n=await xm(e);if(n.exists()){const i=n.data();return{id:n.id,...i,createdAt:i.createdAt?.toDate()||new Date,updatedAt:i.updatedAt?.toDate()||new Date}}return null}catch(e){throw console.error("Error fetching PDF:",e),e}},async uploadPDFFile(){throw new Error("Direct PDF upload is not supported. Use createPDFWithFile.")},async createPDFWithFile(t,e){try{const{tripleUploadService:n}=await QC(async()=>{const{tripleUploadService:a}=await import("./tripleUploadService-CVp7tPom.js");return{tripleUploadService:a}},[]);if(t.type!=="application/pdf")throw new Error("Only PDF files are allowed");return console.log("Starting Triple Upload System..."),console.log("File details:",{name:t.name,size:t.size,type:t.type}),await n.uploadPDFFile(t,e.title,e.description,e.categories[0]||"General",e.tags,e.author,e.uploadedBy)}catch(n){throw console.error("Error uploading PDF:",n),n instanceof Error?n:new Error("Upload failed. Please try again.")}},async downloadPDF(t){try{if(!t.pdfUrl)throw new Error("PDF URL not available");const e=document.createElement("a");e.href=t.pdfUrl,e.download=t.fileName||`${t.title}.pdf`,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(e){throw console.error("Error downloading PDF:",e),e}},async createPDF(t){try{return(await $w(Tm,{...t,createdAt:rt.now(),updatedAt:rt.now()})).id}catch(e){throw console.error("Error creating PDF:",e),e}},async updatePDF(t,e){try{const n=Ts(Yr,"pdfs",t);await nd(n,{...e,updatedAt:rt.now()})}catch(n){throw console.error("Error updating PDF:",n),n}},async deletePDF(t){try{const e=Ts(Yr,"pdfs",t);await Hw(e)}catch(e){throw console.error("Error deleting PDF:",e),e}},async incrementViewCount(t){try{const e=Ts(Yr,"pdfs",t),n=await xm(e);if(n.exists()){const i=n.data().viewCount||0;await nd(e,{viewCount:i+1})}}catch(e){throw console.error("Error incrementing view count:",e),e}},async incrementDownloadCount(t){try{const e=Ts(Yr,"pdfs",t),n=await xm(e);if(n.exists()){const i=n.data().downloadCount||0;await nd(e,{downloadCount:i+1})}}catch(e){throw console.error("Error incrementing download count:",e),e}},async searchByCategory(t){try{const e=og(Tm,F7("categories","array-contains",t),lg("createdAt","desc"));return(await cg(e)).docs.map(i=>({id:i.id,...i.data(),createdAt:i.data().createdAt?.toDate()||new Date,updatedAt:i.data().updatedAt?.toDate()||new Date}))}catch(e){throw console.error("Error searching PDFs by category:",e),e}},async searchPDFs(t){try{const e=await this.getAllPDFs(),n=t.toLowerCase();return e.filter(i=>i.title.toLowerCase().includes(n)||i.description.toLowerCase().includes(n)||i.tags.some(a=>a.toLowerCase().includes(n)))}catch(e){throw console.error("Error searching PDFs:",e),e}},async getPDFsByCategory(t){return this.searchByCategory(t)}},KP=({pdf:t})=>{const e=async n=>{n.preventDefault(),n.stopPropagation();try{if(t.fileUrl&&t.fileUrl.startsWith("data:")){const i=t.fileUrl.split(",")[1],a=atob(i),l=new Array(a.length);for(let f=0;f<a.length;f++)l[f]=a.charCodeAt(f);const u=new Uint8Array(l),d=new Blob([u],{type:"application/pdf"}),m=URL.createObjectURL(d);window.open(m,"_blank"),await Hs.incrementViewCount(t.id)}else t.pdfUrl&&t.pdfUrl!=="#"&&(window.open(t.pdfUrl,"_blank"),await Hs.incrementViewCount(t.id));Xe.success("PDF opened successfully")}catch(i){console.error("Error opening PDF:",i),Xe.error("Failed to open PDF")}};return g.jsxs("div",{className:"brutalist-card",children:[g.jsx("span",{className:"brutalist-card__title",children:b2(t.title,18)}),g.jsx("p",{className:"brutalist-card__content",children:b2(t.description,120)}),g.jsxs("p",{className:"brutalist-card__author",children:["by ",t.author]}),t.tags&&t.tags.length>0&&g.jsxs("div",{className:"brutalist-card__tags",children:[t.tags.slice(0,3).map((n,i)=>g.jsx("span",{className:"brutalist-card__tag",children:n},i)),t.tags.length>3&&g.jsxs("span",{className:"brutalist-card__tag brutalist-card__tag--more",children:["+",t.tags.length-3]})]}),g.jsx("div",{className:"brutalist-card__buttons",children:g.jsx("button",{onClick:e,className:"brutalist-card__button brutalist-card__button--open",children:"open"})})]})},rA=({glitchColors:t=["#2b4539","#61dca3","#61b3dc"],className:e="",glitchSpeed:n=50,centerVignette:i=!1,outerVignette:a=!0,smooth:l=!0,zIndex:u=0})=>{const d=$.useRef(null),m=$.useRef(null),f=$.useRef([]),x=$.useRef({columns:0,rows:0}),_=$.useRef(null),v=$.useRef(Date.now()),D=16,k=10,M=20,N=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","!","@","#","$","&","*","(",")","-","_","+","=","/","[","]","{","}",";",":","<",">",",","0","1","2","3","4","5","6","7","8","9"],L=()=>N[Math.floor(Math.random()*N.length)],w=()=>t[Math.floor(Math.random()*t.length)],C=j=>{const O=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;j=j.replace(O,(de,Y,le,fe)=>`${Y}${Y}${le}${le}${fe}${fe}`);const he=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(j);return he?{r:parseInt(he[1],16),g:parseInt(he[2],16),b:parseInt(he[3],16)}:null},V=(j,O,he)=>{const de=Math.round(j.r+(O.r-j.r)*he),Y=Math.round(j.g+(O.g-j.g)*he),le=Math.round(j.b+(O.b-j.b)*he);return`rgb(${de}, ${Y}, ${le})`},z=(j,O)=>{const he=Math.ceil(j/k),de=Math.ceil(O/M);return{columns:he,rows:de}},U=(j,O)=>{x.current={columns:j,rows:O};const he=j*O;f.current=Array.from({length:he},()=>({char:L(),color:w(),targetColor:w(),colorProgress:1}))},I=()=>{const j=d.current;if(!j)return;const O=window.devicePixelRatio||1,he=window.innerWidth,de=window.innerHeight;j.width=he*O,j.height=de*O,j.style.width=`${he}px`,j.style.height=`${de}px`,_.current&&_.current.setTransform(O,0,0,O,0,0);const{columns:Y,rows:le}=z(he,de);U(Y,le),S()},S=()=>{if(!_.current||f.current.length===0||!d.current)return;const j=_.current,O=window.innerWidth,he=window.innerHeight;j.clearRect(0,0,O,he),j.font=`${D}px monospace`,j.textBaseline="top",f.current.forEach((de,Y)=>{const le=Y%x.current.columns*k,fe=Math.floor(Y/x.current.columns)*M;j.fillStyle=de.color,j.fillText(de.char,le,fe)})},E=()=>{if(!f.current||f.current.length===0)return;const j=Math.max(1,Math.floor(f.current.length*.05));for(let O=0;O<j;O++){const he=Math.floor(Math.random()*f.current.length),de=f.current[he];de&&(de.char=L(),de.targetColor=w(),l?de.colorProgress=0:(de.color=de.targetColor,de.colorProgress=1))}},T=()=>{let j=!1;f.current.forEach(O=>{if(O.colorProgress<1){O.colorProgress+=.05,O.colorProgress>1&&(O.colorProgress=1);const he=C(O.color),de=C(O.targetColor);he&&de&&(O.color=V(he,de,O.colorProgress),j=!0)}}),j&&S()},P=()=>{const j=Date.now();j-v.current>=n&&(E(),S(),v.current=j),l&&T(),m.current=requestAnimationFrame(P)};return $.useEffect(()=>{const j=d.current;if(!j)return;_.current=j.getContext("2d"),I(),P();let O;const he=()=>{O&&window.clearTimeout(O),O=window.setTimeout(()=>{m.current&&cancelAnimationFrame(m.current),I(),P()},100)};return window.addEventListener("resize",he),()=>{m.current&&cancelAnimationFrame(m.current),window.removeEventListener("resize",he)}},[n,l]),g.jsxs("div",{className:e,style:{position:"fixed",inset:0,zIndex:u,pointerEvents:"none",backgroundColor:"#000"},children:[g.jsx("canvas",{ref:d,style:{display:"block",width:"100%",height:"100%"}}),a&&g.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle, rgba(0,0,0,0) 60%, rgba(0,0,0,1) 100%)"}}),i&&g.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 60%)"}})]})},$s=({message:t="Loading...",className:e="",renderGlitchBg:n=!1})=>g.jsxs("div",{className:`flex items-center justify-center w-full min-h-screen ${e}`,style:{background:"transparent",position:"relative"},children:[n&&g.jsx(rA,{glitchSpeed:50,centerVignette:!0,outerVignette:!1,smooth:!0,zIndex:0}),g.jsxs("div",{className:"terminal-loader",role:"status","aria-live":"polite","aria-label":t,children:[g.jsxs("div",{className:"terminal-header",children:[g.jsx("div",{className:"terminal-title",children:"Status"}),g.jsxs("div",{className:"terminal-controls",children:[g.jsx("div",{className:"control close"}),g.jsx("div",{className:"control minimize"}),g.jsx("div",{className:"control maximize"})]})]}),g.jsx("div",{className:"terminal-text",children:t})]})]}),d_=({words:t,typeSpeed:e=60,deleteSpeed:n=30,delayBetween:i=1200,loop:a=!0,className:l,style:u,ariaLabel:d,cursorChar:m="|"})=>{const[f,x]=Qr.useState(0),[_,v]=Qr.useState(0),[D,k]=Qr.useState(!1),[M,N]=Qr.useState(!0),[L,w]=Qr.useState(!1),C=t[f]||"";Qr.useEffect(()=>{const z=setInterval(()=>N(U=>!U),500);return()=>clearInterval(z)},[]),Qr.useEffect(()=>{if(!t.length||L)return;if(!a&&f===t.length-1&&_===C.length&&!D){w(!0);return}let z=e;if(!D&&_<C.length){z=e;const U=setTimeout(()=>v(I=>I+1),z);return()=>clearTimeout(U)}if(!D&&_===C.length){const U=setTimeout(()=>k(!0),i);return()=>clearTimeout(U)}if(D&&_>0){z=n;const U=setTimeout(()=>v(I=>I-1),z);return()=>clearTimeout(U)}D&&_===0&&(k(!1),x(U=>(U+1)%t.length))},[_,D,f,t,e,n,i,a,L,C.length]),Qr.useEffect(()=>{v(0),k(!1)},[f]);const V=C.slice(0,_);return g.jsxs("span",{className:l,style:u,"aria-label":d,"aria-live":"polite",children:[V,g.jsxs("span",{"aria-hidden":"true",style:{opacity:M?1:0},children:[" ",m]})]})},iA=()=>{const[t,e]=$.useState({user:null,loading:!0});return $.useEffect(()=>{const n=g5(ky,i=>{e({user:i,loading:!1})});return()=>n()},[]),t};var od={exports:{}};function QP(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ld={exports:{}};const WP={},YP=Object.freeze(Object.defineProperty({__proto__:null,default:WP},Symbol.toStringTag,{value:"Module"})),XP=F3(YP);var ZP=ld.exports,f_;function ze(){return f_||(f_=1,function(t,e){(function(n,i){t.exports=i()})(ZP,function(){var n=n||function(i,a){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof Zp<"u"&&Zp.crypto&&(l=Zp.crypto),!l&&typeof QP=="function")try{l=XP}catch{}var u=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},d=Object.create||function(){function w(){}return function(C){var V;return w.prototype=C,V=new w,w.prototype=null,V}}(),m={},f=m.lib={},x=f.Base=function(){return{extend:function(w){var C=d(this);return w&&C.mixIn(w),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var C in w)w.hasOwnProperty(C)&&(this[C]=w[C]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),_=f.WordArray=x.extend({init:function(w,C){w=this.words=w||[],C!=a?this.sigBytes=C:this.sigBytes=w.length*4},toString:function(w){return(w||D).stringify(this)},concat:function(w){var C=this.words,V=w.words,z=this.sigBytes,U=w.sigBytes;if(this.clamp(),z%4)for(var I=0;I<U;I++){var S=V[I>>>2]>>>24-I%4*8&255;C[z+I>>>2]|=S<<24-(z+I)%4*8}else for(var E=0;E<U;E+=4)C[z+E>>>2]=V[E>>>2];return this.sigBytes+=U,this},clamp:function(){var w=this.words,C=this.sigBytes;w[C>>>2]&=4294967295<<32-C%4*8,w.length=i.ceil(C/4)},clone:function(){var w=x.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var C=[],V=0;V<w;V+=4)C.push(u());return new _.init(C,w)}}),v=m.enc={},D=v.Hex={stringify:function(w){for(var C=w.words,V=w.sigBytes,z=[],U=0;U<V;U++){var I=C[U>>>2]>>>24-U%4*8&255;z.push((I>>>4).toString(16)),z.push((I&15).toString(16))}return z.join("")},parse:function(w){for(var C=w.length,V=[],z=0;z<C;z+=2)V[z>>>3]|=parseInt(w.substr(z,2),16)<<24-z%8*4;return new _.init(V,C/2)}},k=v.Latin1={stringify:function(w){for(var C=w.words,V=w.sigBytes,z=[],U=0;U<V;U++){var I=C[U>>>2]>>>24-U%4*8&255;z.push(String.fromCharCode(I))}return z.join("")},parse:function(w){for(var C=w.length,V=[],z=0;z<C;z++)V[z>>>2]|=(w.charCodeAt(z)&255)<<24-z%4*8;return new _.init(V,C)}},M=v.Utf8={stringify:function(w){try{return decodeURIComponent(escape(k.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return k.parse(unescape(encodeURIComponent(w)))}},N=f.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=M.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var C,V=this._data,z=V.words,U=V.sigBytes,I=this.blockSize,S=I*4,E=U/S;w?E=i.ceil(E):E=i.max((E|0)-this._minBufferSize,0);var T=E*I,P=i.min(T*4,U);if(T){for(var j=0;j<T;j+=I)this._doProcessBlock(z,j);C=z.splice(0,T),V.sigBytes-=P}return new _.init(C,P)},clone:function(){var w=x.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});f.Hasher=N.extend({cfg:x.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){N.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var C=this._doFinalize();return C},blockSize:16,_createHelper:function(w){return function(C,V){return new w.init(V).finalize(C)}},_createHmacHelper:function(w){return function(C,V){return new L.HMAC.init(w,V).finalize(C)}}});var L=m.algo={};return m}(Math);return n})}(ld)),ld.exports}var cd={exports:{}},JP=cd.exports,p_;function X0(){return p_||(p_=1,function(t,e){(function(n,i){t.exports=i(ze())})(JP,function(n){return function(i){var a=n,l=a.lib,u=l.Base,d=l.WordArray,m=a.x64={};m.Word=u.extend({init:function(f,x){this.high=f,this.low=x}}),m.WordArray=u.extend({init:function(f,x){f=this.words=f||[],x!=i?this.sigBytes=x:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,x=f.length,_=[],v=0;v<x;v++){var D=f[v];_.push(D.high),_.push(D.low)}return d.create(_,this.sigBytes)},clone:function(){for(var f=u.clone.call(this),x=f.words=this.words.slice(0),_=x.length,v=0;v<_;v++)x[v]=x[v].clone();return f}})}(),n})}(cd)),cd.exports}var ud={exports:{}},eO=ud.exports,m_;function tO(){return m_||(m_=1,function(t,e){(function(n,i){t.exports=i(ze())})(eO,function(n){return function(){if(typeof ArrayBuffer=="function"){var i=n,a=i.lib,l=a.WordArray,u=l.init,d=l.init=function(m){if(m instanceof ArrayBuffer&&(m=new Uint8Array(m)),(m instanceof Int8Array||typeof Uint8ClampedArray<"u"&&m instanceof Uint8ClampedArray||m instanceof Int16Array||m instanceof Uint16Array||m instanceof Int32Array||m instanceof Uint32Array||m instanceof Float32Array||m instanceof Float64Array)&&(m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength)),m instanceof Uint8Array){for(var f=m.byteLength,x=[],_=0;_<f;_++)x[_>>>2]|=m[_]<<24-_%4*8;u.call(this,x,f)}else u.apply(this,arguments)};d.prototype=l}}(),n.lib.WordArray})}(ud)),ud.exports}var hd={exports:{}},nO=hd.exports,g_;function rO(){return g_||(g_=1,function(t,e){(function(n,i){t.exports=i(ze())})(nO,function(n){return function(){var i=n,a=i.lib,l=a.WordArray,u=i.enc;u.Utf16=u.Utf16BE={stringify:function(m){for(var f=m.words,x=m.sigBytes,_=[],v=0;v<x;v+=2){var D=f[v>>>2]>>>16-v%4*8&65535;_.push(String.fromCharCode(D))}return _.join("")},parse:function(m){for(var f=m.length,x=[],_=0;_<f;_++)x[_>>>1]|=m.charCodeAt(_)<<16-_%2*16;return l.create(x,f*2)}},u.Utf16LE={stringify:function(m){for(var f=m.words,x=m.sigBytes,_=[],v=0;v<x;v+=2){var D=d(f[v>>>2]>>>16-v%4*8&65535);_.push(String.fromCharCode(D))}return _.join("")},parse:function(m){for(var f=m.length,x=[],_=0;_<f;_++)x[_>>>1]|=d(m.charCodeAt(_)<<16-_%2*16);return l.create(x,f*2)}};function d(m){return m<<8&4278255360|m>>>8&16711935}}(),n.enc.Utf16})}(hd)),hd.exports}var dd={exports:{}},iO=dd.exports,y_;function no(){return y_||(y_=1,function(t,e){(function(n,i){t.exports=i(ze())})(iO,function(n){return function(){var i=n,a=i.lib,l=a.WordArray,u=i.enc;u.Base64={stringify:function(m){var f=m.words,x=m.sigBytes,_=this._map;m.clamp();for(var v=[],D=0;D<x;D+=3)for(var k=f[D>>>2]>>>24-D%4*8&255,M=f[D+1>>>2]>>>24-(D+1)%4*8&255,N=f[D+2>>>2]>>>24-(D+2)%4*8&255,L=k<<16|M<<8|N,w=0;w<4&&D+w*.75<x;w++)v.push(_.charAt(L>>>6*(3-w)&63));var C=_.charAt(64);if(C)for(;v.length%4;)v.push(C);return v.join("")},parse:function(m){var f=m.length,x=this._map,_=this._reverseMap;if(!_){_=this._reverseMap=[];for(var v=0;v<x.length;v++)_[x.charCodeAt(v)]=v}var D=x.charAt(64);if(D){var k=m.indexOf(D);k!==-1&&(f=k)}return d(m,f,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function d(m,f,x){for(var _=[],v=0,D=0;D<f;D++)if(D%4){var k=x[m.charCodeAt(D-1)]<<D%4*2,M=x[m.charCodeAt(D)]>>>6-D%4*2,N=k|M;_[v>>>2]|=N<<24-v%4*8,v++}return l.create(_,v)}}(),n.enc.Base64})}(dd)),dd.exports}var fd={exports:{}},sO=fd.exports,x_;function aO(){return x_||(x_=1,function(t,e){(function(n,i){t.exports=i(ze())})(sO,function(n){return function(){var i=n,a=i.lib,l=a.WordArray,u=i.enc;u.Base64url={stringify:function(m,f){f===void 0&&(f=!0);var x=m.words,_=m.sigBytes,v=f?this._safe_map:this._map;m.clamp();for(var D=[],k=0;k<_;k+=3)for(var M=x[k>>>2]>>>24-k%4*8&255,N=x[k+1>>>2]>>>24-(k+1)%4*8&255,L=x[k+2>>>2]>>>24-(k+2)%4*8&255,w=M<<16|N<<8|L,C=0;C<4&&k+C*.75<_;C++)D.push(v.charAt(w>>>6*(3-C)&63));var V=v.charAt(64);if(V)for(;D.length%4;)D.push(V);return D.join("")},parse:function(m,f){f===void 0&&(f=!0);var x=m.length,_=f?this._safe_map:this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var D=0;D<_.length;D++)v[_.charCodeAt(D)]=D}var k=_.charAt(64);if(k){var M=m.indexOf(k);M!==-1&&(x=M)}return d(m,x,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function d(m,f,x){for(var _=[],v=0,D=0;D<f;D++)if(D%4){var k=x[m.charCodeAt(D-1)]<<D%4*2,M=x[m.charCodeAt(D)]>>>6-D%4*2,N=k|M;_[v>>>2]|=N<<24-v%4*8,v++}return l.create(_,v)}}(),n.enc.Base64url})}(fd)),fd.exports}var pd={exports:{}},oO=pd.exports,v_;function ro(){return v_||(v_=1,function(t,e){(function(n,i){t.exports=i(ze())})(oO,function(n){return function(i){var a=n,l=a.lib,u=l.WordArray,d=l.Hasher,m=a.algo,f=[];(function(){for(var M=0;M<64;M++)f[M]=i.abs(i.sin(M+1))*4294967296|0})();var x=m.MD5=d.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(M,N){for(var L=0;L<16;L++){var w=N+L,C=M[w];M[w]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var V=this._hash.words,z=M[N+0],U=M[N+1],I=M[N+2],S=M[N+3],E=M[N+4],T=M[N+5],P=M[N+6],j=M[N+7],O=M[N+8],he=M[N+9],de=M[N+10],Y=M[N+11],le=M[N+12],fe=M[N+13],Ee=M[N+14],q=M[N+15],G=V[0],X=V[1],Q=V[2],te=V[3];G=_(G,X,Q,te,z,7,f[0]),te=_(te,G,X,Q,U,12,f[1]),Q=_(Q,te,G,X,I,17,f[2]),X=_(X,Q,te,G,S,22,f[3]),G=_(G,X,Q,te,E,7,f[4]),te=_(te,G,X,Q,T,12,f[5]),Q=_(Q,te,G,X,P,17,f[6]),X=_(X,Q,te,G,j,22,f[7]),G=_(G,X,Q,te,O,7,f[8]),te=_(te,G,X,Q,he,12,f[9]),Q=_(Q,te,G,X,de,17,f[10]),X=_(X,Q,te,G,Y,22,f[11]),G=_(G,X,Q,te,le,7,f[12]),te=_(te,G,X,Q,fe,12,f[13]),Q=_(Q,te,G,X,Ee,17,f[14]),X=_(X,Q,te,G,q,22,f[15]),G=v(G,X,Q,te,U,5,f[16]),te=v(te,G,X,Q,P,9,f[17]),Q=v(Q,te,G,X,Y,14,f[18]),X=v(X,Q,te,G,z,20,f[19]),G=v(G,X,Q,te,T,5,f[20]),te=v(te,G,X,Q,de,9,f[21]),Q=v(Q,te,G,X,q,14,f[22]),X=v(X,Q,te,G,E,20,f[23]),G=v(G,X,Q,te,he,5,f[24]),te=v(te,G,X,Q,Ee,9,f[25]),Q=v(Q,te,G,X,S,14,f[26]),X=v(X,Q,te,G,O,20,f[27]),G=v(G,X,Q,te,fe,5,f[28]),te=v(te,G,X,Q,I,9,f[29]),Q=v(Q,te,G,X,j,14,f[30]),X=v(X,Q,te,G,le,20,f[31]),G=D(G,X,Q,te,T,4,f[32]),te=D(te,G,X,Q,O,11,f[33]),Q=D(Q,te,G,X,Y,16,f[34]),X=D(X,Q,te,G,Ee,23,f[35]),G=D(G,X,Q,te,U,4,f[36]),te=D(te,G,X,Q,E,11,f[37]),Q=D(Q,te,G,X,j,16,f[38]),X=D(X,Q,te,G,de,23,f[39]),G=D(G,X,Q,te,fe,4,f[40]),te=D(te,G,X,Q,z,11,f[41]),Q=D(Q,te,G,X,S,16,f[42]),X=D(X,Q,te,G,P,23,f[43]),G=D(G,X,Q,te,he,4,f[44]),te=D(te,G,X,Q,le,11,f[45]),Q=D(Q,te,G,X,q,16,f[46]),X=D(X,Q,te,G,I,23,f[47]),G=k(G,X,Q,te,z,6,f[48]),te=k(te,G,X,Q,j,10,f[49]),Q=k(Q,te,G,X,Ee,15,f[50]),X=k(X,Q,te,G,T,21,f[51]),G=k(G,X,Q,te,le,6,f[52]),te=k(te,G,X,Q,S,10,f[53]),Q=k(Q,te,G,X,de,15,f[54]),X=k(X,Q,te,G,U,21,f[55]),G=k(G,X,Q,te,O,6,f[56]),te=k(te,G,X,Q,q,10,f[57]),Q=k(Q,te,G,X,P,15,f[58]),X=k(X,Q,te,G,fe,21,f[59]),G=k(G,X,Q,te,E,6,f[60]),te=k(te,G,X,Q,Y,10,f[61]),Q=k(Q,te,G,X,I,15,f[62]),X=k(X,Q,te,G,he,21,f[63]),V[0]=V[0]+G|0,V[1]=V[1]+X|0,V[2]=V[2]+Q|0,V[3]=V[3]+te|0},_doFinalize:function(){var M=this._data,N=M.words,L=this._nDataBytes*8,w=M.sigBytes*8;N[w>>>5]|=128<<24-w%32;var C=i.floor(L/4294967296),V=L;N[(w+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,N[(w+64>>>9<<4)+14]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,M.sigBytes=(N.length+1)*4,this._process();for(var z=this._hash,U=z.words,I=0;I<4;I++){var S=U[I];U[I]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return z},clone:function(){var M=d.clone.call(this);return M._hash=this._hash.clone(),M}});function _(M,N,L,w,C,V,z){var U=M+(N&L|~N&w)+C+z;return(U<<V|U>>>32-V)+N}function v(M,N,L,w,C,V,z){var U=M+(N&w|L&~w)+C+z;return(U<<V|U>>>32-V)+N}function D(M,N,L,w,C,V,z){var U=M+(N^L^w)+C+z;return(U<<V|U>>>32-V)+N}function k(M,N,L,w,C,V,z){var U=M+(L^(N|~w))+C+z;return(U<<V|U>>>32-V)+N}a.MD5=d._createHelper(x),a.HmacMD5=d._createHmacHelper(x)}(Math),n.MD5})}(pd)),pd.exports}var md={exports:{}},lO=md.exports,b_;function sA(){return b_||(b_=1,function(t,e){(function(n,i){t.exports=i(ze())})(lO,function(n){return function(){var i=n,a=i.lib,l=a.WordArray,u=a.Hasher,d=i.algo,m=[],f=d.SHA1=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,_){for(var v=this._hash.words,D=v[0],k=v[1],M=v[2],N=v[3],L=v[4],w=0;w<80;w++){if(w<16)m[w]=x[_+w]|0;else{var C=m[w-3]^m[w-8]^m[w-14]^m[w-16];m[w]=C<<1|C>>>31}var V=(D<<5|D>>>27)+L+m[w];w<20?V+=(k&M|~k&N)+1518500249:w<40?V+=(k^M^N)+1859775393:w<60?V+=(k&M|k&N|M&N)-1894007588:V+=(k^M^N)-899497514,L=N,N=M,M=k<<30|k>>>2,k=D,D=V}v[0]=v[0]+D|0,v[1]=v[1]+k|0,v[2]=v[2]+M|0,v[3]=v[3]+N|0,v[4]=v[4]+L|0},_doFinalize:function(){var x=this._data,_=x.words,v=this._nDataBytes*8,D=x.sigBytes*8;return _[D>>>5]|=128<<24-D%32,_[(D+64>>>9<<4)+14]=Math.floor(v/4294967296),_[(D+64>>>9<<4)+15]=v,x.sigBytes=_.length*4,this._process(),this._hash},clone:function(){var x=u.clone.call(this);return x._hash=this._hash.clone(),x}});i.SHA1=u._createHelper(f),i.HmacSHA1=u._createHmacHelper(f)}(),n.SHA1})}(md)),md.exports}var gd={exports:{}},cO=gd.exports,__;function Ny(){return __||(__=1,function(t,e){(function(n,i){t.exports=i(ze())})(cO,function(n){return function(i){var a=n,l=a.lib,u=l.WordArray,d=l.Hasher,m=a.algo,f=[],x=[];(function(){function D(L){for(var w=i.sqrt(L),C=2;C<=w;C++)if(!(L%C))return!1;return!0}function k(L){return(L-(L|0))*4294967296|0}for(var M=2,N=0;N<64;)D(M)&&(N<8&&(f[N]=k(i.pow(M,1/2))),x[N]=k(i.pow(M,1/3)),N++),M++})();var _=[],v=m.SHA256=d.extend({_doReset:function(){this._hash=new u.init(f.slice(0))},_doProcessBlock:function(D,k){for(var M=this._hash.words,N=M[0],L=M[1],w=M[2],C=M[3],V=M[4],z=M[5],U=M[6],I=M[7],S=0;S<64;S++){if(S<16)_[S]=D[k+S]|0;else{var E=_[S-15],T=(E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3,P=_[S-2],j=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;_[S]=T+_[S-7]+j+_[S-16]}var O=V&z^~V&U,he=N&L^N&w^L&w,de=(N<<30|N>>>2)^(N<<19|N>>>13)^(N<<10|N>>>22),Y=(V<<26|V>>>6)^(V<<21|V>>>11)^(V<<7|V>>>25),le=I+Y+O+x[S]+_[S],fe=de+he;I=U,U=z,z=V,V=C+le|0,C=w,w=L,L=N,N=le+fe|0}M[0]=M[0]+N|0,M[1]=M[1]+L|0,M[2]=M[2]+w|0,M[3]=M[3]+C|0,M[4]=M[4]+V|0,M[5]=M[5]+z|0,M[6]=M[6]+U|0,M[7]=M[7]+I|0},_doFinalize:function(){var D=this._data,k=D.words,M=this._nDataBytes*8,N=D.sigBytes*8;return k[N>>>5]|=128<<24-N%32,k[(N+64>>>9<<4)+14]=i.floor(M/4294967296),k[(N+64>>>9<<4)+15]=M,D.sigBytes=k.length*4,this._process(),this._hash},clone:function(){var D=d.clone.call(this);return D._hash=this._hash.clone(),D}});a.SHA256=d._createHelper(v),a.HmacSHA256=d._createHmacHelper(v)}(Math),n.SHA256})}(gd)),gd.exports}var yd={exports:{}},uO=yd.exports,E_;function hO(){return E_||(E_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Ny())})(uO,function(n){return function(){var i=n,a=i.lib,l=a.WordArray,u=i.algo,d=u.SHA256,m=u.SHA224=d.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=d._doFinalize.call(this);return f.sigBytes-=4,f}});i.SHA224=d._createHelper(m),i.HmacSHA224=d._createHmacHelper(m)}(),n.SHA224})}(yd)),yd.exports}var xd={exports:{}},dO=xd.exports,w_;function aA(){return w_||(w_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),X0())})(dO,function(n){return function(){var i=n,a=i.lib,l=a.Hasher,u=i.x64,d=u.Word,m=u.WordArray,f=i.algo;function x(){return d.create.apply(d,arguments)}var _=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],v=[];(function(){for(var k=0;k<80;k++)v[k]=x()})();var D=f.SHA512=l.extend({_doReset:function(){this._hash=new m.init([new d.init(1779033703,4089235720),new d.init(3144134277,2227873595),new d.init(1013904242,4271175723),new d.init(2773480762,1595750129),new d.init(1359893119,2917565137),new d.init(2600822924,725511199),new d.init(528734635,4215389547),new d.init(1541459225,327033209)])},_doProcessBlock:function(k,M){for(var N=this._hash.words,L=N[0],w=N[1],C=N[2],V=N[3],z=N[4],U=N[5],I=N[6],S=N[7],E=L.high,T=L.low,P=w.high,j=w.low,O=C.high,he=C.low,de=V.high,Y=V.low,le=z.high,fe=z.low,Ee=U.high,q=U.low,G=I.high,X=I.low,Q=S.high,te=S.low,_e=E,me=T,Qe=P,ve=j,an=O,pn=he,kn=de,Nn=Y,Ot=le,vt=fe,Cr=Ee,Rr=q,Yt=G,ai=X,oi=Q,$n=te,Mt=0;Mt<80;Mt++){var on,mn,Dr=v[Mt];if(Mt<16)mn=Dr.high=k[M+Mt*2]|0,on=Dr.low=k[M+Mt*2+1]|0;else{var Zs=v[Mt-15],et=Zs.high,Ve=Zs.low,gn=(et>>>1|Ve<<31)^(et>>>8|Ve<<24)^et>>>7,Bt=(Ve>>>1|et<<31)^(Ve>>>8|et<<24)^(Ve>>>7|et<<25),Js=v[Mt-2],Ir=Js.high,Pn=Js.low,li=(Ir>>>19|Pn<<13)^(Ir<<3|Pn>>>29)^Ir>>>6,kr=(Pn>>>19|Ir<<13)^(Pn<<3|Ir>>>29)^(Pn>>>6|Ir<<26),wn=v[Mt-7],Gi=wn.high,ci=wn.low,Ki=v[Mt-16],ea=Ki.high,Qi=Ki.low;on=Bt+ci,mn=gn+Gi+(on>>>0<Bt>>>0?1:0),on=on+kr,mn=mn+li+(on>>>0<kr>>>0?1:0),on=on+Qi,mn=mn+ea+(on>>>0<Qi>>>0?1:0),Dr.high=mn,Dr.low=on}var ur=Ot&Cr^~Ot&Yt,Gn=vt&Rr^~vt&ai,ta=_e&Qe^_e&an^Qe&an,Kn=me&ve^me&pn^ve&pn,na=(_e>>>28|me<<4)^(_e<<30|me>>>2)^(_e<<25|me>>>7),hr=(me>>>28|_e<<4)^(me<<30|_e>>>2)^(me<<25|_e>>>7),Wi=(Ot>>>14|vt<<18)^(Ot>>>18|vt<<14)^(Ot<<23|vt>>>9),Nr=(vt>>>14|Ot<<18)^(vt>>>18|Ot<<14)^(vt<<23|Ot>>>9),ra=_[Mt],ct=ra.high,gt=ra.low,qe=$n+Nr,bt=oi+Wi+(qe>>>0<$n>>>0?1:0),qe=qe+Gn,bt=bt+ur+(qe>>>0<Gn>>>0?1:0),qe=qe+gt,bt=bt+ct+(qe>>>0<gt>>>0?1:0),qe=qe+on,bt=bt+mn+(qe>>>0<on>>>0?1:0),Yi=hr+Kn,Sl=na+ta+(Yi>>>0<hr>>>0?1:0);oi=Yt,$n=ai,Yt=Cr,ai=Rr,Cr=Ot,Rr=vt,vt=Nn+qe|0,Ot=kn+bt+(vt>>>0<Nn>>>0?1:0)|0,kn=an,Nn=pn,an=Qe,pn=ve,Qe=_e,ve=me,me=qe+Yi|0,_e=bt+Sl+(me>>>0<qe>>>0?1:0)|0}T=L.low=T+me,L.high=E+_e+(T>>>0<me>>>0?1:0),j=w.low=j+ve,w.high=P+Qe+(j>>>0<ve>>>0?1:0),he=C.low=he+pn,C.high=O+an+(he>>>0<pn>>>0?1:0),Y=V.low=Y+Nn,V.high=de+kn+(Y>>>0<Nn>>>0?1:0),fe=z.low=fe+vt,z.high=le+Ot+(fe>>>0<vt>>>0?1:0),q=U.low=q+Rr,U.high=Ee+Cr+(q>>>0<Rr>>>0?1:0),X=I.low=X+ai,I.high=G+Yt+(X>>>0<ai>>>0?1:0),te=S.low=te+$n,S.high=Q+oi+(te>>>0<$n>>>0?1:0)},_doFinalize:function(){var k=this._data,M=k.words,N=this._nDataBytes*8,L=k.sigBytes*8;M[L>>>5]|=128<<24-L%32,M[(L+128>>>10<<5)+30]=Math.floor(N/4294967296),M[(L+128>>>10<<5)+31]=N,k.sigBytes=M.length*4,this._process();var w=this._hash.toX32();return w},clone:function(){var k=l.clone.call(this);return k._hash=this._hash.clone(),k},blockSize:1024/32});i.SHA512=l._createHelper(D),i.HmacSHA512=l._createHmacHelper(D)}(),n.SHA512})}(xd)),xd.exports}var vd={exports:{}},fO=vd.exports,A_;function pO(){return A_||(A_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),X0(),aA())})(fO,function(n){return function(){var i=n,a=i.x64,l=a.Word,u=a.WordArray,d=i.algo,m=d.SHA512,f=d.SHA384=m.extend({_doReset:function(){this._hash=new u.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var x=m._doFinalize.call(this);return x.sigBytes-=16,x}});i.SHA384=m._createHelper(f),i.HmacSHA384=m._createHmacHelper(f)}(),n.SHA384})}(vd)),vd.exports}var bd={exports:{}},mO=bd.exports,T_;function gO(){return T_||(T_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),X0())})(mO,function(n){return function(i){var a=n,l=a.lib,u=l.WordArray,d=l.Hasher,m=a.x64,f=m.Word,x=a.algo,_=[],v=[],D=[];(function(){for(var N=1,L=0,w=0;w<24;w++){_[N+5*L]=(w+1)*(w+2)/2%64;var C=L%5,V=(2*N+3*L)%5;N=C,L=V}for(var N=0;N<5;N++)for(var L=0;L<5;L++)v[N+5*L]=L+(2*N+3*L)%5*5;for(var z=1,U=0;U<24;U++){for(var I=0,S=0,E=0;E<7;E++){if(z&1){var T=(1<<E)-1;T<32?S^=1<<T:I^=1<<T-32}z&128?z=z<<1^113:z<<=1}D[U]=f.create(I,S)}})();var k=[];(function(){for(var N=0;N<25;N++)k[N]=f.create()})();var M=x.SHA3=d.extend({cfg:d.cfg.extend({outputLength:512}),_doReset:function(){for(var N=this._state=[],L=0;L<25;L++)N[L]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(N,L){for(var w=this._state,C=this.blockSize/2,V=0;V<C;V++){var z=N[L+2*V],U=N[L+2*V+1];z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360;var I=w[V];I.high^=U,I.low^=z}for(var S=0;S<24;S++){for(var E=0;E<5;E++){for(var T=0,P=0,j=0;j<5;j++){var I=w[E+5*j];T^=I.high,P^=I.low}var O=k[E];O.high=T,O.low=P}for(var E=0;E<5;E++)for(var he=k[(E+4)%5],de=k[(E+1)%5],Y=de.high,le=de.low,T=he.high^(Y<<1|le>>>31),P=he.low^(le<<1|Y>>>31),j=0;j<5;j++){var I=w[E+5*j];I.high^=T,I.low^=P}for(var fe=1;fe<25;fe++){var T,P,I=w[fe],Ee=I.high,q=I.low,G=_[fe];G<32?(T=Ee<<G|q>>>32-G,P=q<<G|Ee>>>32-G):(T=q<<G-32|Ee>>>64-G,P=Ee<<G-32|q>>>64-G);var X=k[v[fe]];X.high=T,X.low=P}var Q=k[0],te=w[0];Q.high=te.high,Q.low=te.low;for(var E=0;E<5;E++)for(var j=0;j<5;j++){var fe=E+5*j,I=w[fe],_e=k[fe],me=k[(E+1)%5+5*j],Qe=k[(E+2)%5+5*j];I.high=_e.high^~me.high&Qe.high,I.low=_e.low^~me.low&Qe.low}var I=w[0],ve=D[S];I.high^=ve.high,I.low^=ve.low}},_doFinalize:function(){var N=this._data,L=N.words;this._nDataBytes*8;var w=N.sigBytes*8,C=this.blockSize*32;L[w>>>5]|=1<<24-w%32,L[(i.ceil((w+1)/C)*C>>>5)-1]|=128,N.sigBytes=L.length*4,this._process();for(var V=this._state,z=this.cfg.outputLength/8,U=z/8,I=[],S=0;S<U;S++){var E=V[S],T=E.high,P=E.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,I.push(P),I.push(T)}return new u.init(I,z)},clone:function(){for(var N=d.clone.call(this),L=N._state=this._state.slice(0),w=0;w<25;w++)L[w]=L[w].clone();return N}});a.SHA3=d._createHelper(M),a.HmacSHA3=d._createHmacHelper(M)}(Math),n.SHA3})}(bd)),bd.exports}var _d={exports:{}},yO=_d.exports,S_;function xO(){return S_||(S_=1,function(t,e){(function(n,i){t.exports=i(ze())})(yO,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var a=n,l=a.lib,u=l.WordArray,d=l.Hasher,m=a.algo,f=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),D=u.create([0,1518500249,1859775393,2400959708,2840853838]),k=u.create([1352829926,1548603684,1836072691,2053994217,0]),M=m.RIPEMD160=d.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(U,I){for(var S=0;S<16;S++){var E=I+S,T=U[E];U[E]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var P=this._hash.words,j=D.words,O=k.words,he=f.words,de=x.words,Y=_.words,le=v.words,fe,Ee,q,G,X,Q,te,_e,me,Qe;Q=fe=P[0],te=Ee=P[1],_e=q=P[2],me=G=P[3],Qe=X=P[4];for(var ve,S=0;S<80;S+=1)ve=fe+U[I+he[S]]|0,S<16?ve+=N(Ee,q,G)+j[0]:S<32?ve+=L(Ee,q,G)+j[1]:S<48?ve+=w(Ee,q,G)+j[2]:S<64?ve+=C(Ee,q,G)+j[3]:ve+=V(Ee,q,G)+j[4],ve=ve|0,ve=z(ve,Y[S]),ve=ve+X|0,fe=X,X=G,G=z(q,10),q=Ee,Ee=ve,ve=Q+U[I+de[S]]|0,S<16?ve+=V(te,_e,me)+O[0]:S<32?ve+=C(te,_e,me)+O[1]:S<48?ve+=w(te,_e,me)+O[2]:S<64?ve+=L(te,_e,me)+O[3]:ve+=N(te,_e,me)+O[4],ve=ve|0,ve=z(ve,le[S]),ve=ve+Qe|0,Q=Qe,Qe=me,me=z(_e,10),_e=te,te=ve;ve=P[1]+q+me|0,P[1]=P[2]+G+Qe|0,P[2]=P[3]+X+Q|0,P[3]=P[4]+fe+te|0,P[4]=P[0]+Ee+_e|0,P[0]=ve},_doFinalize:function(){var U=this._data,I=U.words,S=this._nDataBytes*8,E=U.sigBytes*8;I[E>>>5]|=128<<24-E%32,I[(E+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,U.sigBytes=(I.length+1)*4,this._process();for(var T=this._hash,P=T.words,j=0;j<5;j++){var O=P[j];P[j]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return T},clone:function(){var U=d.clone.call(this);return U._hash=this._hash.clone(),U}});function N(U,I,S){return U^I^S}function L(U,I,S){return U&I|~U&S}function w(U,I,S){return(U|~I)^S}function C(U,I,S){return U&S|I&~S}function V(U,I,S){return U^(I|~S)}function z(U,I){return U<<I|U>>>32-I}a.RIPEMD160=d._createHelper(M),a.HmacRIPEMD160=d._createHmacHelper(M)}(),n.RIPEMD160})}(_d)),_d.exports}var Ed={exports:{}},vO=Ed.exports,C_;function Py(){return C_||(C_=1,function(t,e){(function(n,i){t.exports=i(ze())})(vO,function(n){(function(){var i=n,a=i.lib,l=a.Base,u=i.enc,d=u.Utf8,m=i.algo;m.HMAC=l.extend({init:function(f,x){f=this._hasher=new f.init,typeof x=="string"&&(x=d.parse(x));var _=f.blockSize,v=_*4;x.sigBytes>v&&(x=f.finalize(x)),x.clamp();for(var D=this._oKey=x.clone(),k=this._iKey=x.clone(),M=D.words,N=k.words,L=0;L<_;L++)M[L]^=1549556828,N[L]^=909522486;D.sigBytes=k.sigBytes=v,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var x=this._hasher,_=x.finalize(f);x.reset();var v=x.finalize(this._oKey.clone().concat(_));return v}})})()})}(Ed)),Ed.exports}var wd={exports:{}},bO=wd.exports,R_;function _O(){return R_||(R_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Ny(),Py())})(bO,function(n){return function(){var i=n,a=i.lib,l=a.Base,u=a.WordArray,d=i.algo,m=d.SHA256,f=d.HMAC,x=d.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:m,iterations:25e4}),init:function(_){this.cfg=this.cfg.extend(_)},compute:function(_,v){for(var D=this.cfg,k=f.create(D.hasher,_),M=u.create(),N=u.create([1]),L=M.words,w=N.words,C=D.keySize,V=D.iterations;L.length<C;){var z=k.update(v).finalize(N);k.reset();for(var U=z.words,I=U.length,S=z,E=1;E<V;E++){S=k.finalize(S),k.reset();for(var T=S.words,P=0;P<I;P++)U[P]^=T[P]}M.concat(z),w[0]++}return M.sigBytes=C*4,M}});i.PBKDF2=function(_,v,D){return x.create(D).compute(_,v)}}(),n.PBKDF2})}(wd)),wd.exports}var Ad={exports:{}},EO=Ad.exports,D_;function Xs(){return D_||(D_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),sA(),Py())})(EO,function(n){return function(){var i=n,a=i.lib,l=a.Base,u=a.WordArray,d=i.algo,m=d.MD5,f=d.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:m,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,_){for(var v,D=this.cfg,k=D.hasher.create(),M=u.create(),N=M.words,L=D.keySize,w=D.iterations;N.length<L;){v&&k.update(v),v=k.update(x).finalize(_),k.reset();for(var C=1;C<w;C++)v=k.finalize(v),k.reset();M.concat(v)}return M.sigBytes=L*4,M}});i.EvpKDF=function(x,_,v){return f.create(v).compute(x,_)}}(),n.EvpKDF})}(Ad)),Ad.exports}var Td={exports:{}},wO=Td.exports,I_;function Wt(){return I_||(I_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Xs())})(wO,function(n){n.lib.Cipher||function(i){var a=n,l=a.lib,u=l.Base,d=l.WordArray,m=l.BufferedBlockAlgorithm,f=a.enc;f.Utf8;var x=f.Base64,_=a.algo,v=_.EvpKDF,D=l.Cipher=m.extend({cfg:u.extend(),createEncryptor:function(T,P){return this.create(this._ENC_XFORM_MODE,T,P)},createDecryptor:function(T,P){return this.create(this._DEC_XFORM_MODE,T,P)},init:function(T,P,j){this.cfg=this.cfg.extend(j),this._xformMode=T,this._key=P,this.reset()},reset:function(){m.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){T&&this._append(T);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function T(P){return typeof P=="string"?E:U}return function(P){return{encrypt:function(j,O,he){return T(O).encrypt(P,j,O,he)},decrypt:function(j,O,he){return T(O).decrypt(P,j,O,he)}}}}()});l.StreamCipher=D.extend({_doFinalize:function(){var T=this._process(!0);return T},blockSize:1});var k=a.mode={},M=l.BlockCipherMode=u.extend({createEncryptor:function(T,P){return this.Encryptor.create(T,P)},createDecryptor:function(T,P){return this.Decryptor.create(T,P)},init:function(T,P){this._cipher=T,this._iv=P}}),N=k.CBC=function(){var T=M.extend();T.Encryptor=T.extend({processBlock:function(j,O){var he=this._cipher,de=he.blockSize;P.call(this,j,O,de),he.encryptBlock(j,O),this._prevBlock=j.slice(O,O+de)}}),T.Decryptor=T.extend({processBlock:function(j,O){var he=this._cipher,de=he.blockSize,Y=j.slice(O,O+de);he.decryptBlock(j,O),P.call(this,j,O,de),this._prevBlock=Y}});function P(j,O,he){var de,Y=this._iv;Y?(de=Y,this._iv=i):de=this._prevBlock;for(var le=0;le<he;le++)j[O+le]^=de[le]}return T}(),L=a.pad={},w=L.Pkcs7={pad:function(T,P){for(var j=P*4,O=j-T.sigBytes%j,he=O<<24|O<<16|O<<8|O,de=[],Y=0;Y<O;Y+=4)de.push(he);var le=d.create(de,O);T.concat(le)},unpad:function(T){var P=T.words[T.sigBytes-1>>>2]&255;T.sigBytes-=P}};l.BlockCipher=D.extend({cfg:D.cfg.extend({mode:N,padding:w}),reset:function(){var T;D.reset.call(this);var P=this.cfg,j=P.iv,O=P.mode;this._xformMode==this._ENC_XFORM_MODE?T=O.createEncryptor:(T=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==T?this._mode.init(this,j&&j.words):(this._mode=T.call(O,this,j&&j.words),this._mode.__creator=T)},_doProcessBlock:function(T,P){this._mode.processBlock(T,P)},_doFinalize:function(){var T,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),T=this._process(!0)):(T=this._process(!0),P.unpad(T)),T},blockSize:128/32});var C=l.CipherParams=u.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),V=a.format={},z=V.OpenSSL={stringify:function(T){var P,j=T.ciphertext,O=T.salt;return O?P=d.create([1398893684,1701076831]).concat(O).concat(j):P=j,P.toString(x)},parse:function(T){var P,j=x.parse(T),O=j.words;return O[0]==1398893684&&O[1]==1701076831&&(P=d.create(O.slice(2,4)),O.splice(0,4),j.sigBytes-=16),C.create({ciphertext:j,salt:P})}},U=l.SerializableCipher=u.extend({cfg:u.extend({format:z}),encrypt:function(T,P,j,O){O=this.cfg.extend(O);var he=T.createEncryptor(j,O),de=he.finalize(P),Y=he.cfg;return C.create({ciphertext:de,key:j,iv:Y.iv,algorithm:T,mode:Y.mode,padding:Y.padding,blockSize:T.blockSize,formatter:O.format})},decrypt:function(T,P,j,O){O=this.cfg.extend(O),P=this._parse(P,O.format);var he=T.createDecryptor(j,O).finalize(P.ciphertext);return he},_parse:function(T,P){return typeof T=="string"?P.parse(T,this):T}}),I=a.kdf={},S=I.OpenSSL={execute:function(T,P,j,O,he){if(O||(O=d.random(64/8)),he)var de=v.create({keySize:P+j,hasher:he}).compute(T,O);else var de=v.create({keySize:P+j}).compute(T,O);var Y=d.create(de.words.slice(P),j*4);return de.sigBytes=P*4,C.create({key:de,iv:Y,salt:O})}},E=l.PasswordBasedCipher=U.extend({cfg:U.cfg.extend({kdf:S}),encrypt:function(T,P,j,O){O=this.cfg.extend(O);var he=O.kdf.execute(j,T.keySize,T.ivSize,O.salt,O.hasher);O.iv=he.iv;var de=U.encrypt.call(this,T,P,he.key,O);return de.mixIn(he),de},decrypt:function(T,P,j,O){O=this.cfg.extend(O),P=this._parse(P,O.format);var he=O.kdf.execute(j,T.keySize,T.ivSize,P.salt,O.hasher);O.iv=he.iv;var de=U.decrypt.call(this,T,P,he.key,O);return de}})}()})}(Td)),Td.exports}var Sd={exports:{}},AO=Sd.exports,k_;function TO(){return k_||(k_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(AO,function(n){return n.mode.CFB=function(){var i=n.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(l,u){var d=this._cipher,m=d.blockSize;a.call(this,l,u,m,d),this._prevBlock=l.slice(u,u+m)}}),i.Decryptor=i.extend({processBlock:function(l,u){var d=this._cipher,m=d.blockSize,f=l.slice(u,u+m);a.call(this,l,u,m,d),this._prevBlock=f}});function a(l,u,d,m){var f,x=this._iv;x?(f=x.slice(0),this._iv=void 0):f=this._prevBlock,m.encryptBlock(f,0);for(var _=0;_<d;_++)l[u+_]^=f[_]}return i}(),n.mode.CFB})}(Sd)),Sd.exports}var Cd={exports:{}},SO=Cd.exports,N_;function CO(){return N_||(N_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(SO,function(n){return n.mode.CTR=function(){var i=n.lib.BlockCipherMode.extend(),a=i.Encryptor=i.extend({processBlock:function(l,u){var d=this._cipher,m=d.blockSize,f=this._iv,x=this._counter;f&&(x=this._counter=f.slice(0),this._iv=void 0);var _=x.slice(0);d.encryptBlock(_,0),x[m-1]=x[m-1]+1|0;for(var v=0;v<m;v++)l[u+v]^=_[v]}});return i.Decryptor=a,i}(),n.mode.CTR})}(Cd)),Cd.exports}var Rd={exports:{}},RO=Rd.exports,P_;function DO(){return P_||(P_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(RO,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var i=n.lib.BlockCipherMode.extend();function a(d){if((d>>24&255)===255){var m=d>>16&255,f=d>>8&255,x=d&255;m===255?(m=0,f===255?(f=0,x===255?x=0:++x):++f):++m,d=0,d+=m<<16,d+=f<<8,d+=x}else d+=1<<24;return d}function l(d){return(d[0]=a(d[0]))===0&&(d[1]=a(d[1])),d}var u=i.Encryptor=i.extend({processBlock:function(d,m){var f=this._cipher,x=f.blockSize,_=this._iv,v=this._counter;_&&(v=this._counter=_.slice(0),this._iv=void 0),l(v);var D=v.slice(0);f.encryptBlock(D,0);for(var k=0;k<x;k++)d[m+k]^=D[k]}});return i.Decryptor=u,i}(),n.mode.CTRGladman})}(Rd)),Rd.exports}var Dd={exports:{}},IO=Dd.exports,O_;function kO(){return O_||(O_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(IO,function(n){return n.mode.OFB=function(){var i=n.lib.BlockCipherMode.extend(),a=i.Encryptor=i.extend({processBlock:function(l,u){var d=this._cipher,m=d.blockSize,f=this._iv,x=this._keystream;f&&(x=this._keystream=f.slice(0),this._iv=void 0),d.encryptBlock(x,0);for(var _=0;_<m;_++)l[u+_]^=x[_]}});return i.Decryptor=a,i}(),n.mode.OFB})}(Dd)),Dd.exports}var Id={exports:{}},NO=Id.exports,M_;function PO(){return M_||(M_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(NO,function(n){return n.mode.ECB=function(){var i=n.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(a,l){this._cipher.encryptBlock(a,l)}}),i.Decryptor=i.extend({processBlock:function(a,l){this._cipher.decryptBlock(a,l)}}),i}(),n.mode.ECB})}(Id)),Id.exports}var kd={exports:{}},OO=kd.exports,B_;function MO(){return B_||(B_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(OO,function(n){return n.pad.AnsiX923={pad:function(i,a){var l=i.sigBytes,u=a*4,d=u-l%u,m=l+d-1;i.clamp(),i.words[m>>>2]|=d<<24-m%4*8,i.sigBytes+=d},unpad:function(i){var a=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=a}},n.pad.Ansix923})}(kd)),kd.exports}var Nd={exports:{}},BO=Nd.exports,j_;function jO(){return j_||(j_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(BO,function(n){return n.pad.Iso10126={pad:function(i,a){var l=a*4,u=l-i.sigBytes%l;i.concat(n.lib.WordArray.random(u-1)).concat(n.lib.WordArray.create([u<<24],1))},unpad:function(i){var a=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=a}},n.pad.Iso10126})}(Nd)),Nd.exports}var Pd={exports:{}},FO=Pd.exports,F_;function LO(){return F_||(F_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(FO,function(n){return n.pad.Iso97971={pad:function(i,a){i.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(i,a)},unpad:function(i){n.pad.ZeroPadding.unpad(i),i.sigBytes--}},n.pad.Iso97971})}(Pd)),Pd.exports}var Od={exports:{}},VO=Od.exports,L_;function UO(){return L_||(L_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(VO,function(n){return n.pad.ZeroPadding={pad:function(i,a){var l=a*4;i.clamp(),i.sigBytes+=l-(i.sigBytes%l||l)},unpad:function(i){for(var a=i.words,l=i.sigBytes-1,l=i.sigBytes-1;l>=0;l--)if(a[l>>>2]>>>24-l%4*8&255){i.sigBytes=l+1;break}}},n.pad.ZeroPadding})}(Od)),Od.exports}var Md={exports:{}},zO=Md.exports,V_;function qO(){return V_||(V_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(zO,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(Md)),Md.exports}var Bd={exports:{}},HO=Bd.exports,U_;function $O(){return U_||(U_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),Wt())})(HO,function(n){return function(i){var a=n,l=a.lib,u=l.CipherParams,d=a.enc,m=d.Hex,f=a.format;f.Hex={stringify:function(x){return x.ciphertext.toString(m)},parse:function(x){var _=m.parse(x);return u.create({ciphertext:_})}}}(),n.format.Hex})}(Bd)),Bd.exports}var jd={exports:{}},GO=jd.exports,z_;function KO(){return z_||(z_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),no(),ro(),Xs(),Wt())})(GO,function(n){return function(){var i=n,a=i.lib,l=a.BlockCipher,u=i.algo,d=[],m=[],f=[],x=[],_=[],v=[],D=[],k=[],M=[],N=[];(function(){for(var C=[],V=0;V<256;V++)V<128?C[V]=V<<1:C[V]=V<<1^283;for(var z=0,U=0,V=0;V<256;V++){var I=U^U<<1^U<<2^U<<3^U<<4;I=I>>>8^I&255^99,d[z]=I,m[I]=z;var S=C[z],E=C[S],T=C[E],P=C[I]*257^I*16843008;f[z]=P<<24|P>>>8,x[z]=P<<16|P>>>16,_[z]=P<<8|P>>>24,v[z]=P;var P=T*16843009^E*65537^S*257^z*16843008;D[I]=P<<24|P>>>8,k[I]=P<<16|P>>>16,M[I]=P<<8|P>>>24,N[I]=P,z?(z=S^C[C[C[T^S]]],U^=C[C[U]]):z=U=1}})();var L=[0,1,2,4,8,16,32,64,128,27,54],w=u.AES=l.extend({_doReset:function(){var C;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var V=this._keyPriorReset=this._key,z=V.words,U=V.sigBytes/4,I=this._nRounds=U+6,S=(I+1)*4,E=this._keySchedule=[],T=0;T<S;T++)T<U?E[T]=z[T]:(C=E[T-1],T%U?U>6&&T%U==4&&(C=d[C>>>24]<<24|d[C>>>16&255]<<16|d[C>>>8&255]<<8|d[C&255]):(C=C<<8|C>>>24,C=d[C>>>24]<<24|d[C>>>16&255]<<16|d[C>>>8&255]<<8|d[C&255],C^=L[T/U|0]<<24),E[T]=E[T-U]^C);for(var P=this._invKeySchedule=[],j=0;j<S;j++){var T=S-j;if(j%4)var C=E[T];else var C=E[T-4];j<4||T<=4?P[j]=C:P[j]=D[d[C>>>24]]^k[d[C>>>16&255]]^M[d[C>>>8&255]]^N[d[C&255]]}}},encryptBlock:function(C,V){this._doCryptBlock(C,V,this._keySchedule,f,x,_,v,d)},decryptBlock:function(C,V){var z=C[V+1];C[V+1]=C[V+3],C[V+3]=z,this._doCryptBlock(C,V,this._invKeySchedule,D,k,M,N,m);var z=C[V+1];C[V+1]=C[V+3],C[V+3]=z},_doCryptBlock:function(C,V,z,U,I,S,E,T){for(var P=this._nRounds,j=C[V]^z[0],O=C[V+1]^z[1],he=C[V+2]^z[2],de=C[V+3]^z[3],Y=4,le=1;le<P;le++){var fe=U[j>>>24]^I[O>>>16&255]^S[he>>>8&255]^E[de&255]^z[Y++],Ee=U[O>>>24]^I[he>>>16&255]^S[de>>>8&255]^E[j&255]^z[Y++],q=U[he>>>24]^I[de>>>16&255]^S[j>>>8&255]^E[O&255]^z[Y++],G=U[de>>>24]^I[j>>>16&255]^S[O>>>8&255]^E[he&255]^z[Y++];j=fe,O=Ee,he=q,de=G}var fe=(T[j>>>24]<<24|T[O>>>16&255]<<16|T[he>>>8&255]<<8|T[de&255])^z[Y++],Ee=(T[O>>>24]<<24|T[he>>>16&255]<<16|T[de>>>8&255]<<8|T[j&255])^z[Y++],q=(T[he>>>24]<<24|T[de>>>16&255]<<16|T[j>>>8&255]<<8|T[O&255])^z[Y++],G=(T[de>>>24]<<24|T[j>>>16&255]<<16|T[O>>>8&255]<<8|T[he&255])^z[Y++];C[V]=fe,C[V+1]=Ee,C[V+2]=q,C[V+3]=G},keySize:256/32});i.AES=l._createHelper(w)}(),n.AES})}(jd)),jd.exports}var Fd={exports:{}},QO=Fd.exports,q_;function WO(){return q_||(q_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),no(),ro(),Xs(),Wt())})(QO,function(n){return function(){var i=n,a=i.lib,l=a.WordArray,u=a.BlockCipher,d=i.algo,m=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],_=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],v=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],D=d.DES=u.extend({_doReset:function(){for(var L=this._key,w=L.words,C=[],V=0;V<56;V++){var z=m[V]-1;C[V]=w[z>>>5]>>>31-z%32&1}for(var U=this._subKeys=[],I=0;I<16;I++){for(var S=U[I]=[],E=x[I],V=0;V<24;V++)S[V/6|0]|=C[(f[V]-1+E)%28]<<31-V%6,S[4+(V/6|0)]|=C[28+(f[V+24]-1+E)%28]<<31-V%6;S[0]=S[0]<<1|S[0]>>>31;for(var V=1;V<7;V++)S[V]=S[V]>>>(V-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var T=this._invSubKeys=[],V=0;V<16;V++)T[V]=U[15-V]},encryptBlock:function(L,w){this._doCryptBlock(L,w,this._subKeys)},decryptBlock:function(L,w){this._doCryptBlock(L,w,this._invSubKeys)},_doCryptBlock:function(L,w,C){this._lBlock=L[w],this._rBlock=L[w+1],k.call(this,4,252645135),k.call(this,16,65535),M.call(this,2,858993459),M.call(this,8,16711935),k.call(this,1,1431655765);for(var V=0;V<16;V++){for(var z=C[V],U=this._lBlock,I=this._rBlock,S=0,E=0;E<8;E++)S|=_[E][((I^z[E])&v[E])>>>0];this._lBlock=I,this._rBlock=U^S}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,k.call(this,1,1431655765),M.call(this,8,16711935),M.call(this,2,858993459),k.call(this,16,65535),k.call(this,4,252645135),L[w]=this._lBlock,L[w+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function k(L,w){var C=(this._lBlock>>>L^this._rBlock)&w;this._rBlock^=C,this._lBlock^=C<<L}function M(L,w){var C=(this._rBlock>>>L^this._lBlock)&w;this._lBlock^=C,this._rBlock^=C<<L}i.DES=u._createHelper(D);var N=d.TripleDES=u.extend({_doReset:function(){var L=this._key,w=L.words;if(w.length!==2&&w.length!==4&&w.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var C=w.slice(0,2),V=w.length<4?w.slice(0,2):w.slice(2,4),z=w.length<6?w.slice(0,2):w.slice(4,6);this._des1=D.createEncryptor(l.create(C)),this._des2=D.createEncryptor(l.create(V)),this._des3=D.createEncryptor(l.create(z))},encryptBlock:function(L,w){this._des1.encryptBlock(L,w),this._des2.decryptBlock(L,w),this._des3.encryptBlock(L,w)},decryptBlock:function(L,w){this._des3.decryptBlock(L,w),this._des2.encryptBlock(L,w),this._des1.decryptBlock(L,w)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=u._createHelper(N)}(),n.TripleDES})}(Fd)),Fd.exports}var Ld={exports:{}},YO=Ld.exports,H_;function XO(){return H_||(H_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),no(),ro(),Xs(),Wt())})(YO,function(n){return function(){var i=n,a=i.lib,l=a.StreamCipher,u=i.algo,d=u.RC4=l.extend({_doReset:function(){for(var x=this._key,_=x.words,v=x.sigBytes,D=this._S=[],k=0;k<256;k++)D[k]=k;for(var k=0,M=0;k<256;k++){var N=k%v,L=_[N>>>2]>>>24-N%4*8&255;M=(M+D[k]+L)%256;var w=D[k];D[k]=D[M],D[M]=w}this._i=this._j=0},_doProcessBlock:function(x,_){x[_]^=m.call(this)},keySize:256/32,ivSize:0});function m(){for(var x=this._S,_=this._i,v=this._j,D=0,k=0;k<4;k++){_=(_+1)%256,v=(v+x[_])%256;var M=x[_];x[_]=x[v],x[v]=M,D|=x[(x[_]+x[v])%256]<<24-k*8}return this._i=_,this._j=v,D}i.RC4=l._createHelper(d);var f=u.RC4Drop=d.extend({cfg:d.cfg.extend({drop:192}),_doReset:function(){d._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)m.call(this)}});i.RC4Drop=l._createHelper(f)}(),n.RC4})}(Ld)),Ld.exports}var Vd={exports:{}},ZO=Vd.exports,$_;function JO(){return $_||($_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),no(),ro(),Xs(),Wt())})(ZO,function(n){return function(){var i=n,a=i.lib,l=a.StreamCipher,u=i.algo,d=[],m=[],f=[],x=u.Rabbit=l.extend({_doReset:function(){for(var v=this._key.words,D=this.cfg.iv,k=0;k<4;k++)v[k]=(v[k]<<8|v[k]>>>24)&16711935|(v[k]<<24|v[k]>>>8)&4278255360;var M=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],N=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var k=0;k<4;k++)_.call(this);for(var k=0;k<8;k++)N[k]^=M[k+4&7];if(D){var L=D.words,w=L[0],C=L[1],V=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,z=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,U=V>>>16|z&4294901760,I=z<<16|V&65535;N[0]^=V,N[1]^=U,N[2]^=z,N[3]^=I,N[4]^=V,N[5]^=U,N[6]^=z,N[7]^=I;for(var k=0;k<4;k++)_.call(this)}},_doProcessBlock:function(v,D){var k=this._X;_.call(this),d[0]=k[0]^k[5]>>>16^k[3]<<16,d[1]=k[2]^k[7]>>>16^k[5]<<16,d[2]=k[4]^k[1]>>>16^k[7]<<16,d[3]=k[6]^k[3]>>>16^k[1]<<16;for(var M=0;M<4;M++)d[M]=(d[M]<<8|d[M]>>>24)&16711935|(d[M]<<24|d[M]>>>8)&4278255360,v[D+M]^=d[M]},blockSize:128/32,ivSize:64/32});function _(){for(var v=this._X,D=this._C,k=0;k<8;k++)m[k]=D[k];D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<m[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<m[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<m[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<m[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<m[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<m[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<m[6]>>>0?1:0)|0,this._b=D[7]>>>0<m[7]>>>0?1:0;for(var k=0;k<8;k++){var M=v[k]+D[k],N=M&65535,L=M>>>16,w=((N*N>>>17)+N*L>>>15)+L*L,C=((M&4294901760)*M|0)+((M&65535)*M|0);f[k]=w^C}v[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,v[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,v[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,v[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,v[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,v[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,v[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,v[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}i.Rabbit=l._createHelper(x)}(),n.Rabbit})}(Vd)),Vd.exports}var Ud={exports:{}},eM=Ud.exports,G_;function tM(){return G_||(G_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),no(),ro(),Xs(),Wt())})(eM,function(n){return function(){var i=n,a=i.lib,l=a.StreamCipher,u=i.algo,d=[],m=[],f=[],x=u.RabbitLegacy=l.extend({_doReset:function(){var v=this._key.words,D=this.cfg.iv,k=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],M=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var N=0;N<4;N++)_.call(this);for(var N=0;N<8;N++)M[N]^=k[N+4&7];if(D){var L=D.words,w=L[0],C=L[1],V=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,z=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,U=V>>>16|z&4294901760,I=z<<16|V&65535;M[0]^=V,M[1]^=U,M[2]^=z,M[3]^=I,M[4]^=V,M[5]^=U,M[6]^=z,M[7]^=I;for(var N=0;N<4;N++)_.call(this)}},_doProcessBlock:function(v,D){var k=this._X;_.call(this),d[0]=k[0]^k[5]>>>16^k[3]<<16,d[1]=k[2]^k[7]>>>16^k[5]<<16,d[2]=k[4]^k[1]>>>16^k[7]<<16,d[3]=k[6]^k[3]>>>16^k[1]<<16;for(var M=0;M<4;M++)d[M]=(d[M]<<8|d[M]>>>24)&16711935|(d[M]<<24|d[M]>>>8)&4278255360,v[D+M]^=d[M]},blockSize:128/32,ivSize:64/32});function _(){for(var v=this._X,D=this._C,k=0;k<8;k++)m[k]=D[k];D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<m[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<m[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<m[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<m[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<m[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<m[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<m[6]>>>0?1:0)|0,this._b=D[7]>>>0<m[7]>>>0?1:0;for(var k=0;k<8;k++){var M=v[k]+D[k],N=M&65535,L=M>>>16,w=((N*N>>>17)+N*L>>>15)+L*L,C=((M&4294901760)*M|0)+((M&65535)*M|0);f[k]=w^C}v[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,v[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,v[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,v[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,v[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,v[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,v[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,v[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}i.RabbitLegacy=l._createHelper(x)}(),n.RabbitLegacy})}(Ud)),Ud.exports}var zd={exports:{}},nM=zd.exports,K_;function rM(){return K_||(K_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),no(),ro(),Xs(),Wt())})(nM,function(n){return function(){var i=n,a=i.lib,l=a.BlockCipher,u=i.algo;const d=16,m=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var x={pbox:[],sbox:[]};function _(N,L){let w=L>>24&255,C=L>>16&255,V=L>>8&255,z=L&255,U=N.sbox[0][w]+N.sbox[1][C];return U=U^N.sbox[2][V],U=U+N.sbox[3][z],U}function v(N,L,w){let C=L,V=w,z;for(let U=0;U<d;++U)C=C^N.pbox[U],V=_(N,C)^V,z=C,C=V,V=z;return z=C,C=V,V=z,V=V^N.pbox[d],C=C^N.pbox[d+1],{left:C,right:V}}function D(N,L,w){let C=L,V=w,z;for(let U=d+1;U>1;--U)C=C^N.pbox[U],V=_(N,C)^V,z=C,C=V,V=z;return z=C,C=V,V=z,V=V^N.pbox[1],C=C^N.pbox[0],{left:C,right:V}}function k(N,L,w){for(let I=0;I<4;I++){N.sbox[I]=[];for(let S=0;S<256;S++)N.sbox[I][S]=f[I][S]}let C=0;for(let I=0;I<d+2;I++)N.pbox[I]=m[I]^L[C],C++,C>=w&&(C=0);let V=0,z=0,U=0;for(let I=0;I<d+2;I+=2)U=v(N,V,z),V=U.left,z=U.right,N.pbox[I]=V,N.pbox[I+1]=z;for(let I=0;I<4;I++)for(let S=0;S<256;S+=2)U=v(N,V,z),V=U.left,z=U.right,N.sbox[I][S]=V,N.sbox[I][S+1]=z;return!0}var M=u.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var N=this._keyPriorReset=this._key,L=N.words,w=N.sigBytes/4;k(x,L,w)}},encryptBlock:function(N,L){var w=v(x,N[L],N[L+1]);N[L]=w.left,N[L+1]=w.right},decryptBlock:function(N,L){var w=D(x,N[L],N[L+1]);N[L]=w.left,N[L+1]=w.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=l._createHelper(M)}(),n.Blowfish})}(zd)),zd.exports}var iM=od.exports,Q_;function sM(){return Q_||(Q_=1,function(t,e){(function(n,i,a){t.exports=i(ze(),X0(),tO(),rO(),no(),aO(),ro(),sA(),Ny(),hO(),aA(),pO(),gO(),xO(),Py(),_O(),Xs(),Wt(),TO(),CO(),DO(),kO(),PO(),MO(),jO(),LO(),UO(),qO(),$O(),KO(),WO(),XO(),JO(),tM(),rM())})(iM,function(n){return n})}(od)),od.exports}var aM=sM();const $M=oE(aM);oy(Yr,"pdfs");function Sm(t,e,n,i){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(x){try{f(i.next(x))}catch(_){u(_)}}function m(x){try{f(i.throw(x))}catch(_){u(_)}}function f(x){x.done?l(x.value):a(x.value).then(d,m)}f((i=i.apply(t,[])).next())})}function oM(t,e,n,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}class It extends Error{constructor(e,n=0,i="",a=""){super(e),this.name="AppwriteException",this.message=e,this.code=n,this.type=i,this.response=a}}class Oi{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"18.2.0","X-Appwrite-Response-Format":"1.7.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,n,i;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const a=new URLSearchParams;a.set("project",this.config.project),this.realtime.channels.forEach(u=>{a.append("channels[]",u)});const l=this.config.endpointRealtime+"/realtime?"+a.toString();(l!==this.realtime.url||!this.realtime.socket||((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((i=this.realtime.socket)===null||i===void 0?void 0:i.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=l,this.realtime.socket=new WebSocket(l),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",u=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",u=>{var d,m,f;if(!this.realtime.reconnect||((m=(d=this.realtime)===null||d===void 0?void 0:d.lastMessage)===null||m===void 0?void 0:m.type)==="error"&&((f=this.realtime)===null||f===void 0?void 0:f.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const x=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${x/1e3} seconds.`,u.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},x)}))},onMessage:e=>{var n,i;try{const a=JSON.parse(e.data);switch(this.realtime.lastMessage=a,a.type){case"connected":const l=JSON.parse((n=window.localStorage.getItem("cookieFallback"))!==null&&n!==void 0?n:"{}"),u=l?.[`a_session_${this.config.project}`],d=a.data;u&&!d.user&&((i=this.realtime.socket)===null||i===void 0||i.send(JSON.stringify({type:"authentication",data:{session:u}})));break;case"event":let m=a.data;if(m?.channels){if(!m.channels.some(x=>this.realtime.channels.has(x)))return;this.realtime.subscriptions.forEach(x=>{m.channels.some(_=>x.channels.includes(_))&&setTimeout(()=>x.callback(m))})}break;case"pong":break;case"error":throw a.data;default:break}}catch(a){console.error(a)}},cleanUp:e=>{this.realtime.channels.forEach(n=>{e.includes(n)&&(Array.from(this.realtime.subscriptions).some(([a,l])=>l.channels.includes(n))||this.realtime.channels.delete(n))})}}}setEndpoint(e){if(!e.startsWith("http://")&&!e.startsWith("https://"))throw new It("Invalid endpoint URL: "+e);return this.config.endpoint=e,this.config.endpointRealtime=e.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){if(!e.startsWith("ws://")&&!e.startsWith("wss://"))throw new It("Invalid realtime endpoint URL: "+e);return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}setDevKey(e){return this.headers["X-Appwrite-Dev-Key"]=e,this.config.devkey=e,this}subscribe(e,n){let i=typeof e=="string"?[e]:e;i.forEach(l=>this.realtime.channels.add(l));const a=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(a,{channels:i,callback:n}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(a),this.realtime.cleanUp(i),this.realtime.connect()}}prepareRequest(e,n,i={},a={}){if(e=e.toUpperCase(),i=Object.assign({},this.headers,i),typeof window<"u"&&window.localStorage){const u=window.localStorage.getItem("cookieFallback");u&&(i["X-Fallback-Cookies"]=u)}let l={method:e,headers:i};if(i["X-Appwrite-Dev-Key"]===void 0&&(l.credentials="include"),e==="GET")for(const[u,d]of Object.entries(Oi.flatten(a)))n.searchParams.append(u,d);else switch(i["content-type"]){case"application/json":l.body=JSON.stringify(a);break;case"multipart/form-data":const u=new FormData;for(const[d,m]of Object.entries(a))if(m instanceof File)u.append(d,m,m.name);else if(Array.isArray(m))for(const f of m)u.append(`${d}[]`,f);else u.append(d,m);l.body=u,delete i["content-type"];break}return{uri:n.toString(),options:l}}chunkedUpload(e,n,i={},a={},l){var u;return Sm(this,void 0,void 0,function*(){const[d,m]=(u=Object.entries(a).find(([_,v])=>v instanceof File))!==null&&u!==void 0?u:[];if(!m||!d)throw new Error("File not found in payload");if(m.size<=Oi.CHUNK_SIZE)return yield this.call(e,n,i,a);let f=0,x=null;for(;f<m.size;){let _=f+Oi.CHUNK_SIZE;_>=m.size&&(_=m.size),i["content-range"]=`bytes ${f}-${_-1}/${m.size}`;const v=m.slice(f,_);let D=Object.assign({},a);D[d]=new File([v],m.name),x=yield this.call(e,n,i,D),l&&typeof l=="function"&&l({$id:x.$id,progress:Math.round(_/m.size*100),sizeUploaded:_,chunksTotal:Math.ceil(m.size/Oi.CHUNK_SIZE),chunksUploaded:Math.ceil(_/Oi.CHUNK_SIZE)}),x&&x.$id&&(i["x-appwrite-id"]=x.$id),f=_}return x})}ping(){return Sm(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,n,i={},a={},l="json"){var u,d;return Sm(this,void 0,void 0,function*(){const{uri:m,options:f}=this.prepareRequest(e,n,i,a);let x=null;const _=yield fetch(m,f);if(_.type==="opaque")throw new It(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const v=_.headers.get("x-appwrite-warning");if(v&&v.split(";").forEach(k=>console.warn("Warning: "+k)),!((u=_.headers.get("content-type"))===null||u===void 0)&&u.includes("application/json")?x=yield _.json():l==="arrayBuffer"?x=yield _.arrayBuffer():x={message:yield _.text()},400<=_.status){let k="";throw!((d=_.headers.get("content-type"))===null||d===void 0)&&d.includes("application/json")||l==="arrayBuffer"?k=JSON.stringify(x):k=x?.message,new It(x?.message,_.status,x?.type,k)}const D=_.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&D&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",D)),x})}static flatten(e,n=""){let i={};for(const[a,l]of Object.entries(e)){let u=n?n+"["+a+"]":a;Array.isArray(l)?i=Object.assign(Object.assign({},i),Oi.flatten(l,u)):i[u]=l}return i}}Oi.CHUNK_SIZE=1024*1024*5;class rl{constructor(e){this.client=e}static flatten(e,n=""){let i={};for(const[a,l]of Object.entries(e)){let u=n?n+"["+a+"]":a;Array.isArray(l)?i=Object.assign(Object.assign({},i),rl.flatten(l,u)):i[u]=l}return i}}rl.CHUNK_SIZE=5*1024*1024;class lM{constructor(e){this.client=e}listFiles(e,n,i){if(typeof e>"u")throw new It('Missing required parameter: "bucketId"');const a="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),l={};typeof n<"u"&&(l.queries=n),typeof i<"u"&&(l.search=i);const u=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",u,d,l)}createFile(e,n,i,a,l=u=>{}){if(typeof e>"u")throw new It('Missing required parameter: "bucketId"');if(typeof n>"u")throw new It('Missing required parameter: "fileId"');if(typeof i>"u")throw new It('Missing required parameter: "file"');const u="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),d={};typeof n<"u"&&(d.fileId=n),typeof i<"u"&&(d.file=i),typeof a<"u"&&(d.permissions=a);const m=new URL(this.client.config.endpoint+u),f={"content-type":"multipart/form-data"};return this.client.chunkedUpload("post",m,f,d,l)}getFile(e,n){if(typeof e>"u")throw new It('Missing required parameter: "bucketId"');if(typeof n>"u")throw new It('Missing required parameter: "fileId"');const i="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",n),a={},l=new URL(this.client.config.endpoint+i),u={};return this.client.call("get",l,u,a)}updateFile(e,n,i,a){if(typeof e>"u")throw new It('Missing required parameter: "bucketId"');if(typeof n>"u")throw new It('Missing required parameter: "fileId"');const l="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",n),u={};typeof i<"u"&&(u.name=i),typeof a<"u"&&(u.permissions=a);const d=new URL(this.client.config.endpoint+l),m={"content-type":"application/json"};return this.client.call("put",d,m,u)}deleteFile(e,n){if(typeof e>"u")throw new It('Missing required parameter: "bucketId"');if(typeof n>"u")throw new It('Missing required parameter: "fileId"');const i="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",n),a={},l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return this.client.call("delete",l,u,a)}getFileDownload(e,n,i){if(typeof e>"u")throw new It('Missing required parameter: "bucketId"');if(typeof n>"u")throw new It('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",n),l={};typeof i<"u"&&(l.token=i);const u=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[d,m]of Object.entries(rl.flatten(l)))u.searchParams.append(d,m);return u.toString()}getFilePreview(e,n,i,a,l,u,d,m,f,x,_,v,D,k){if(typeof e>"u")throw new It('Missing required parameter: "bucketId"');if(typeof n>"u")throw new It('Missing required parameter: "fileId"');const M="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",n),N={};typeof i<"u"&&(N.width=i),typeof a<"u"&&(N.height=a),typeof l<"u"&&(N.gravity=l),typeof u<"u"&&(N.quality=u),typeof d<"u"&&(N.borderWidth=d),typeof m<"u"&&(N.borderColor=m),typeof f<"u"&&(N.borderRadius=f),typeof x<"u"&&(N.opacity=x),typeof _<"u"&&(N.rotation=_),typeof v<"u"&&(N.background=v),typeof D<"u"&&(N.output=D),typeof k<"u"&&(N.token=k);const L=new URL(this.client.config.endpoint+M);N.project=this.client.config.project;for(const[w,C]of Object.entries(rl.flatten(N)))L.searchParams.append(w,C);return L.toString()}getFileView(e,n,i){if(typeof e>"u")throw new It('Missing required parameter: "bucketId"');if(typeof n>"u")throw new It('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",n),l={};typeof i<"u"&&(l.token=i);const u=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[d,m]of Object.entries(rl.flatten(l)))u.searchParams.append(d,m);return u.toString()}}class Tl{}Tl.read=t=>`read("${t}")`;Tl.write=t=>`write("${t}")`;Tl.create=t=>`create("${t}")`;Tl.update=t=>`update("${t}")`;Tl.delete=t=>`delete("${t}")`;class cM{static any(){return"any"}static user(e,n=""){return n===""?`user:${e}`:`user:${e}/${n}`}static users(e=""){return e===""?"users":`users/${e}`}static guests(){return"guests"}static team(e,n=""){return n===""?`team:${e}`:`team:${e}/${n}`}static member(e){return`member:${e}`}static label(e){return`label:${e}`}}var oA,lA;class nu{static custom(e){return e}static unique(e=7){const n=oM(nu,oA,"m",lA).call(nu);let i="";for(let a=0;a<e;a++){const l=Math.floor(Math.random()*16).toString(16);i+=l}return n+i}}oA=nu,lA=function(){const e=new Date,n=Math.floor(e.getTime()/1e3),i=e.getMilliseconds();return n.toString(16)+i.toString(16).padStart(5,"0")};var W_;(function(t){t.Totp="totp"})(W_||(W_={}));var Y_;(function(t){t.Email="email",t.Phone="phone",t.Totp="totp",t.Recoverycode="recoverycode"})(Y_||(Y_={}));var X_;(function(t){t.Amazon="amazon",t.Apple="apple",t.Auth0="auth0",t.Authentik="authentik",t.Autodesk="autodesk",t.Bitbucket="bitbucket",t.Bitly="bitly",t.Box="box",t.Dailymotion="dailymotion",t.Discord="discord",t.Disqus="disqus",t.Dropbox="dropbox",t.Etsy="etsy",t.Facebook="facebook",t.Figma="figma",t.Github="github",t.Gitlab="gitlab",t.Google="google",t.Linkedin="linkedin",t.Microsoft="microsoft",t.Notion="notion",t.Oidc="oidc",t.Okta="okta",t.Paypal="paypal",t.PaypalSandbox="paypalSandbox",t.Podio="podio",t.Salesforce="salesforce",t.Slack="slack",t.Spotify="spotify",t.Stripe="stripe",t.Tradeshift="tradeshift",t.TradeshiftBox="tradeshiftBox",t.Twitch="twitch",t.Wordpress="wordpress",t.Yahoo="yahoo",t.Yammer="yammer",t.Yandex="yandex",t.Zoho="zoho",t.Zoom="zoom",t.Mock="mock"})(X_||(X_={}));var Z_;(function(t){t.AvantBrowser="aa",t.AndroidWebViewBeta="an",t.GoogleChrome="ch",t.GoogleChromeIOS="ci",t.GoogleChromeMobile="cm",t.Chromium="cr",t.MozillaFirefox="ff",t.Safari="sf",t.MobileSafari="mf",t.MicrosoftEdge="ps",t.MicrosoftEdgeIOS="oi",t.OperaMini="om",t.Opera="op",t.OperaNext="on"})(Z_||(Z_={}));var J_;(function(t){t.AmericanExpress="amex",t.Argencard="argencard",t.Cabal="cabal",t.Cencosud="cencosud",t.DinersClub="diners",t.Discover="discover",t.Elo="elo",t.Hipercard="hipercard",t.JCB="jcb",t.Mastercard="mastercard",t.Naranja="naranja",t.TarjetaShopping="targeta-shopping",t.UnionChinaPay="union-china-pay",t.Visa="visa",t.MIR="mir",t.Maestro="maestro",t.Rupay="rupay"})(J_||(J_={}));var eE;(function(t){t.Afghanistan="af",t.Angola="ao",t.Albania="al",t.Andorra="ad",t.UnitedArabEmirates="ae",t.Argentina="ar",t.Armenia="am",t.AntiguaAndBarbuda="ag",t.Australia="au",t.Austria="at",t.Azerbaijan="az",t.Burundi="bi",t.Belgium="be",t.Benin="bj",t.BurkinaFaso="bf",t.Bangladesh="bd",t.Bulgaria="bg",t.Bahrain="bh",t.Bahamas="bs",t.BosniaAndHerzegovina="ba",t.Belarus="by",t.Belize="bz",t.Bolivia="bo",t.Brazil="br",t.Barbados="bb",t.BruneiDarussalam="bn",t.Bhutan="bt",t.Botswana="bw",t.CentralAfricanRepublic="cf",t.Canada="ca",t.Switzerland="ch",t.Chile="cl",t.China="cn",t.CoteDIvoire="ci",t.Cameroon="cm",t.DemocraticRepublicOfTheCongo="cd",t.RepublicOfTheCongo="cg",t.Colombia="co",t.Comoros="km",t.CapeVerde="cv",t.CostaRica="cr",t.Cuba="cu",t.Cyprus="cy",t.CzechRepublic="cz",t.Germany="de",t.Djibouti="dj",t.Dominica="dm",t.Denmark="dk",t.DominicanRepublic="do",t.Algeria="dz",t.Ecuador="ec",t.Egypt="eg",t.Eritrea="er",t.Spain="es",t.Estonia="ee",t.Ethiopia="et",t.Finland="fi",t.Fiji="fj",t.France="fr",t.MicronesiaFederatedStatesOf="fm",t.Gabon="ga",t.UnitedKingdom="gb",t.Georgia="ge",t.Ghana="gh",t.Guinea="gn",t.Gambia="gm",t.GuineaBissau="gw",t.EquatorialGuinea="gq",t.Greece="gr",t.Grenada="gd",t.Guatemala="gt",t.Guyana="gy",t.Honduras="hn",t.Croatia="hr",t.Haiti="ht",t.Hungary="hu",t.Indonesia="id",t.India="in",t.Ireland="ie",t.IranIslamicRepublicOf="ir",t.Iraq="iq",t.Iceland="is",t.Israel="il",t.Italy="it",t.Jamaica="jm",t.Jordan="jo",t.Japan="jp",t.Kazakhstan="kz",t.Kenya="ke",t.Kyrgyzstan="kg",t.Cambodia="kh",t.Kiribati="ki",t.SaintKittsAndNevis="kn",t.SouthKorea="kr",t.Kuwait="kw",t.LaoPeopleSDemocraticRepublic="la",t.Lebanon="lb",t.Liberia="lr",t.Libya="ly",t.SaintLucia="lc",t.Liechtenstein="li",t.SriLanka="lk",t.Lesotho="ls",t.Lithuania="lt",t.Luxembourg="lu",t.Latvia="lv",t.Morocco="ma",t.Monaco="mc",t.Moldova="md",t.Madagascar="mg",t.Maldives="mv",t.Mexico="mx",t.MarshallIslands="mh",t.NorthMacedonia="mk",t.Mali="ml",t.Malta="mt",t.Myanmar="mm",t.Montenegro="me",t.Mongolia="mn",t.Mozambique="mz",t.Mauritania="mr",t.Mauritius="mu",t.Malawi="mw",t.Malaysia="my",t.Namibia="na",t.Niger="ne",t.Nigeria="ng",t.Nicaragua="ni",t.Netherlands="nl",t.Norway="no",t.Nepal="np",t.Nauru="nr",t.NewZealand="nz",t.Oman="om",t.Pakistan="pk",t.Panama="pa",t.Peru="pe",t.Philippines="ph",t.Palau="pw",t.PapuaNewGuinea="pg",t.Poland="pl",t.FrenchPolynesia="pf",t.NorthKorea="kp",t.Portugal="pt",t.Paraguay="py",t.Qatar="qa",t.Romania="ro",t.Russia="ru",t.Rwanda="rw",t.SaudiArabia="sa",t.Sudan="sd",t.Senegal="sn",t.Singapore="sg",t.SolomonIslands="sb",t.SierraLeone="sl",t.ElSalvador="sv",t.SanMarino="sm",t.Somalia="so",t.Serbia="rs",t.SouthSudan="ss",t.SaoTomeAndPrincipe="st",t.Suriname="sr",t.Slovakia="sk",t.Slovenia="si",t.Sweden="se",t.Eswatini="sz",t.Seychelles="sc",t.Syria="sy",t.Chad="td",t.Togo="tg",t.Thailand="th",t.Tajikistan="tj",t.Turkmenistan="tm",t.TimorLeste="tl",t.Tonga="to",t.TrinidadAndTobago="tt",t.Tunisia="tn",t.Turkey="tr",t.Tuvalu="tv",t.Tanzania="tz",t.Uganda="ug",t.Ukraine="ua",t.Uruguay="uy",t.UnitedStates="us",t.Uzbekistan="uz",t.VaticanCity="va",t.SaintVincentAndTheGrenadines="vc",t.Venezuela="ve",t.Vietnam="vn",t.Vanuatu="vu",t.Samoa="ws",t.Yemen="ye",t.SouthAfrica="za",t.Zambia="zm",t.Zimbabwe="zw"})(eE||(eE={}));var tE;(function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE",t.OPTIONS="OPTIONS"})(tE||(tE={}));var nE;(function(t){t.Center="center",t.Topleft="top-left",t.Top="top",t.Topright="top-right",t.Left="left",t.Right="right",t.Bottomleft="bottom-left",t.Bottom="bottom",t.Bottomright="bottom-right"})(nE||(nE={}));var rE;(function(t){t.Jpg="jpg",t.Jpeg="jpeg",t.Png="png",t.Webp="webp",t.Heic="heic",t.Avif="avif",t.Gif="gif"})(rE||(rE={}));const uM=new Oi().setEndpoint("https://fra.cloud.appwrite.io/v1").setProject("pdf-library-hub"),iE=new lM(uM),GM=async(t,e,n="pdfs")=>{try{console.log(` Uploading ${e} to Appwrite (${(t.size/(1024*1024)).toFixed(2)}MB)`);const i="pdfs",a=await iE.createFile(i,nu.unique(),t,[Tl.read(cM.any())]),l=iE.getFileView(i,a.$id),u={fileId:a.$id,fileName:a.name,fileSize:a.sizeOriginal,mimeType:a.mimeType,bucketId:i,url:l.toString(),provider:"appwrite"};return console.log(" Appwrite upload successful:",u.fileName),u}catch(i){throw console.error(" Appwrite upload failed:",i),new Error(`Appwrite upload failed: ${i instanceof Error?i.message:"Unknown error"}`)}},sE=oy(Yr,"categories"),Oa={async getAllCategories(){try{console.log("Fetching categories from Firebase...");const t=og(sE,lg("name","asc")),e=await cg(t);console.log("Query snapshot size:",e.size);const n=e.docs.map(i=>({id:i.id,...i.data(),createdAt:i.data().createdAt?.toDate()||new Date}));return console.log("Mapped categories:",n),n}catch(t){throw console.error("Error fetching categories:",t),t}},async createCategory(t){try{return(await $w(sE,{...t,createdAt:rt.now()})).id}catch(e){throw console.error("Error creating category:",e),e}},async updateCategory(t,e){try{const n=Ts(Yr,"categories",t);await nd(n,e)}catch(n){throw console.error("Error updating category:",n),n}},async deleteCategory(t){try{const e=Ts(Yr,"categories",t);await Hw(e)}catch(e){throw console.error("Error deleting category:",e),e}}},cA=()=>Dg({queryKey:["pdfs"],queryFn:async()=>{try{return await Hs.getAllPDFs()}catch{return console.warn("Firebase not configured, using mock data"),[{id:"1",title:"Getting Started with React",author:"John Smith",description:"A comprehensive guide to building modern web applications with React",categories:["Programming","Web Development"],tags:["React","JavaScript","Frontend"],pdfUrl:"#",previewImageUrl:"https://via.placeholder.com/300x400",viewCount:1250,downloadCount:890,createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),uploadedBy:"admin1"},{id:"2",title:"TypeScript Best Practices",author:"Jane Doe",description:"Learn how to write better TypeScript code with industry best practices",categories:["Programming"],tags:["TypeScript","JavaScript","Best Practices"],pdfUrl:"#",previewImageUrl:"https://via.placeholder.com/300x400",viewCount:920,downloadCount:650,createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-10"),uploadedBy:"admin1"},{id:"3",title:"Database Design Fundamentals",author:"Mike Johnson",description:"Essential concepts for designing efficient and scalable databases",categories:["Database","Backend"],tags:["SQL","Database Design","Backend"],pdfUrl:"#",previewImageUrl:"https://via.placeholder.com/300x400",viewCount:750,downloadCount:480,createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-05"),uploadedBy:"admin2"}]}}}),hM=t=>Dg({queryKey:["pdf",t],queryFn:async()=>{try{return await Hs.getPDFById(t)}catch{return console.warn("Firebase not configured, using mock data"),[{id:"1",title:"Getting Started with React",author:"John Smith",description:"A comprehensive guide to building modern web applications with React",categories:["Programming","Web Development"],tags:["React","JavaScript","Frontend"],pdfUrl:"#",previewImageUrl:"https://via.placeholder.com/300x400",viewCount:1250,downloadCount:890,createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),uploadedBy:"admin1"}].find(n=>n.id===t)||null}},enabled:!!t}),uA=()=>{const t=Ka();return b0({mutationFn:async({file:e,pdfData:n})=>await Hs.createPDFWithFile(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["pdfs"]}),xe.success("PDF uploaded successfully!")},onError:e=>{console.error("Error creating PDF:",e),xe.error(e instanceof Error?e.message:"Failed to upload PDF")}})},hA=()=>{const t=Ka();return b0({mutationFn:async e=>await Hs.createPDF(e),onSuccess:()=>{t.invalidateQueries({queryKey:["pdfs"]}),xe.success("PDF uploaded successfully!")},onError:e=>{console.error("Error creating PDF:",e),xe.error("Failed to upload PDF")}})},dM=()=>{const t=Ka();return b0({mutationFn:async({id:e,updates:n})=>await Hs.updatePDF(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:["pdfs"]}),t.invalidateQueries({queryKey:["pdf",n]}),xe.success("PDF updated successfully!")},onError:e=>{console.error("Error updating PDF:",e),xe.error("Failed to update PDF")}})},fM=()=>{const t=Ka();return b0({mutationFn:async e=>await Hs.deletePDF(e),onSuccess:()=>{t.invalidateQueries({queryKey:["pdfs"]}),xe.success("PDF deleted successfully!")},onError:e=>{console.error("Error deleting PDF:",e),xe.error("Failed to delete PDF")}})},Z0=()=>Dg({queryKey:["categories"],queryFn:async()=>await Oa.getAllCategories()});function pM(t,e,n={}){const{typeSpeed:i=45,deleteSpeed:a=25,delayBetween:l=1200,startDelay:u=300,pauseOnFocus:d=!0}=n,m=$.useRef(0),f=$.useRef(0),x=$.useRef(!1),_=$.useRef(null),v=$.useRef(!1);$.useEffect(()=>{const D=t.current;if(!D||e.length===0)return;const k=()=>{d&&(v.current=!0)},M=()=>{d&&(v.current=!1)};D.addEventListener("focus",k),D.addEventListener("blur",M);const N=()=>{if(!t.current)return;if(v.current){_.current=window.setTimeout(N,200);return}const L=e[m.current]||"";if(!x.current&&f.current<L.length){f.current+=1,t.current.placeholder=L.slice(0,f.current),_.current=window.setTimeout(N,i);return}if(!x.current&&f.current===L.length){x.current=!0,_.current=window.setTimeout(N,l);return}if(x.current&&f.current>0){f.current-=1,t.current.placeholder=L.slice(0,f.current),_.current=window.setTimeout(N,a);return}if(x.current&&f.current===0){x.current=!1,m.current=(m.current+1)%e.length,_.current=window.setTimeout(N,i);return}};return _.current=window.setTimeout(()=>{N()},u),()=>{_.current&&window.clearTimeout(_.current),D.removeEventListener("focus",k),D.removeEventListener("blur",M)}},[t,e,i,a,l,u,d])}const mM=()=>{const[t,e]=$.useState(""),[n,i]=$.useState([]),[a,l]=$.useState(!1),[u,d]=$.useState(!1),[m,f]=$.useState("newest"),x=ml(),{data:_,isLoading:v}=cA(),{data:D,isLoading:k}=Z0(),M=Qr.useRef(null);pM(M,["Search PDFs by title, author, or content...","Try keywords like: Short notes, Physics, Trigonometry","Filter by categories and tags too!"],{typeSpeed:35,deleteSpeed:20,delayBetween:1100,startDelay:500,pauseOnFocus:!0}),$.useEffect(()=>{const w=C=>{const V=C.target,z=document.querySelector(".category-dropdown-container"),U=document.querySelector(".sort-dropdown-container");z&&!z.contains(V)&&l(!1),U&&!U.contains(V)&&d(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const N=$.useMemo(()=>{if(!_)return[];let w=_.filter(C=>{const V=t===""||C.title.toLowerCase().includes(t.toLowerCase())||C.author.toLowerCase().includes(t.toLowerCase())||C.description.toLowerCase().includes(t.toLowerCase())||C.tags&&C.tags.some(U=>U.toLowerCase().includes(t.toLowerCase())),z=n.length===0||C.categories.some(U=>n.includes(U));return V&&z});return m==="newest"?w.sort((C,V)=>new Date(V.createdAt).getTime()-new Date(C.createdAt).getTime()):m==="oldest"?w.sort((C,V)=>new Date(C.createdAt).getTime()-new Date(V.createdAt).getTime()):m==="most-viewed"&&w.sort((C,V)=>V.viewCount-C.viewCount),w},[_,t,n,m]),L=$.useMemo(()=>{const w=new Set;return D&&D.forEach(C=>{w.add(C.name)}),Array.from(w).sort()},[D]);return v||k?g.jsx($s,{renderGlitchBg:!0,message:"Loading..."}):g.jsxs("div",{className:"main-container",style:{position:"relative",minHeight:"100vh"},children:[g.jsx(rA,{glitchSpeed:50,centerVignette:!0,outerVignette:!1,smooth:!0,zIndex:0}),g.jsxs("div",{className:"content-wrapper",children:[g.jsxs("div",{className:"hero-section glass",children:[g.jsx("div",{className:"logo-container",children:g.jsx("img",{src:"/images/logow.svg",alt:"Tea Time Study Logo",className:"logo"})}),g.jsx("h1",{className:"hero-title",style:{color:"#ffffff",fontWeight:600,fontFamily:'Jua, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},children:g.jsx(d_,{words:["Tea Time Study"],typeSpeed:60,deleteSpeed:0,delayBetween:0,loop:!1,ariaLabel:"Tea Time Study title",cursorChar:""})}),g.jsx("p",{className:"hero-description",style:{color:"#ffffff",minHeight:"2.5em"},children:g.jsx(d_,{words:["Welcome to Tea Time Study! It's great to have you here!","Discover, sip, and study with our cozy collection of notes and resources!"],typeSpeed:45,deleteSpeed:25,delayBetween:1200,loop:!0,ariaLabel:"Homepage hero typing text",cursorChar:"|"})})]}),g.jsxs("div",{className:"search-section glass",children:[g.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem",flexWrap:"wrap"},children:[g.jsx("input",{ref:M,type:"text",value:t,onChange:w=>e(w.target.value),placeholder:"Search PDFs by title, author, or content...",className:"glass",style:{flexGrow:1,minWidth:"250px",padding:"0.75rem 1rem",fontSize:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",outline:"none",color:"#ffffff",fontWeight:"500"}}),g.jsxs("div",{className:"relative category-dropdown-container",style:{position:"relative",zIndex:200},children:[g.jsxs("button",{onClick:w=>{w.stopPropagation(),l(!a),d(!1)},className:"glass",style:{padding:"0.75rem 1rem",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap",color:"#ffffff",fontWeight:"500"},children:[n.length===0?"All Categories":`${n.length} Selected`," "]}),a&&g.jsxs("div",{className:"glass",style:{position:"absolute",top:"110%",left:0,width:"200px",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",flexDirection:"column",zIndex:9999,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(15px)"},children:[g.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",transition:"background 0.2s",backgroundColor:n.length===0?"rgba(91, 130, 245, 0.1)":"transparent",color:"#1f2937",borderRadius:"8px 8px 0 0"},onClick:()=>{i([]),l(!1)},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="rgba(91, 130, 245, 0.1)"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=n.length===0?"rgba(91, 130, 245, 0.1)":"transparent"},children:["All Categories ",n.length===0&&g.jsx("span",{style:{float:"right",color:"#5b82f5"},children:""})]}),L.map(w=>g.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",transition:"background 0.2s",backgroundColor:n.includes(w)?"rgba(91, 130, 245, 0.1)":"transparent",color:"#1f2937"},onClick:()=>{n.includes(w)?i(C=>C.filter(V=>V!==w)):i(C=>[...C,w])},onMouseEnter:C=>{C.currentTarget.style.backgroundColor="rgba(91, 130, 245, 0.1)"},onMouseLeave:C=>{C.currentTarget.style.backgroundColor=n.includes(w)?"rgba(91, 130, 245, 0.1)":"transparent"},children:[w," ",n.includes(w)&&g.jsx("span",{style:{float:"right",color:"#5b82f5"},children:""})]},w))]})]}),g.jsxs("div",{className:"relative sort-dropdown-container",style:{position:"relative",zIndex:200},children:[g.jsxs("button",{onClick:w=>{w.stopPropagation(),d(!u),l(!1)},className:"glass",style:{padding:"0.75rem 1rem",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap",color:"#ffffff",fontWeight:"500"},children:[" ",m==="newest"?"Latest":m==="oldest"?"Oldest":"Most Viewed"," "]}),u&&g.jsxs("div",{className:"glass",style:{position:"absolute",top:"110%",left:0,width:"150px",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",flexDirection:"column",zIndex:9999,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(15px)"},children:[g.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",transition:"background 0.2s",backgroundColor:m==="newest"?"rgba(91, 130, 245, 0.1)":"transparent",color:"#1f2937",borderRadius:"8px 8px 0 0"},onClick:()=>{f("newest"),d(!1)},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="rgba(91, 130, 245, 0.1)"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=m==="newest"?"rgba(91, 130, 245, 0.1)":"transparent"},children:["Latest ",m==="newest"&&g.jsx("span",{style:{float:"right",color:"#5b82f5"},children:""})]}),g.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",transition:"background 0.2s",backgroundColor:m==="oldest"?"rgba(91, 130, 245, 0.1)":"transparent",color:"#1f2937"},onClick:()=>{f("oldest"),d(!1)},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="rgba(91, 130, 245, 0.1)"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=m==="oldest"?"rgba(91, 130, 245, 0.1)":"transparent"},children:["Oldest ",m==="oldest"&&g.jsx("span",{style:{float:"right",color:"#5b82f5"},children:""})]}),g.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",transition:"background 0.2s",backgroundColor:m==="most-viewed"?"rgba(91, 130, 245, 0.1)":"transparent",color:"#1f2937",borderRadius:"0 0 8px 8px"},onClick:()=>{f("most-viewed"),d(!1)},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="rgba(91, 130, 245, 0.1)"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=m==="most-viewed"?"rgba(91, 130, 245, 0.1)":"transparent"},children:["Most Viewed ",m==="most-viewed"&&g.jsx("span",{style:{float:"right",color:"#5b82f5"},children:""})]})]})]})]}),g.jsxs("p",{style:{fontSize:"1rem",color:"#ffffff",marginLeft:"0.25rem"},children:[N.length," document",N.length!==1?"s":""," found"]})]}),g.jsx("div",{className:"results-section glass",children:N.length===0?g.jsxs("div",{style:{textAlign:"center",paddingTop:"5rem",paddingBottom:"5rem"},children:[g.jsx(GE,{size:72,style:{margin:"0 auto 2rem",color:"#d1d5db"}}),g.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ffffff",marginBottom:"1rem"},children:"No PDFs found"}),g.jsx("p",{style:{color:"#ffffff",fontSize:"1.125rem",maxWidth:"24rem",margin:"0 auto"},children:"Try adjusting your search terms or filters to find what you're looking for."})]}):g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"40px",justifyContent:"center",padding:"20px 0",maxWidth:"1200px",margin:"0 auto"},children:N.map(w=>g.jsx("div",{style:{margin:"0",display:"flex",justifyContent:"center"},children:g.jsx(KP,{pdf:w})},w.id))})}),g.jsx("div",{style:{textAlign:"center",padding:"2rem 0 1rem",marginTop:"0.5rem"},children:g.jsxs("button",{onClick:()=>x("/guest-dashboard"),className:"glass",style:{padding:"1rem 2rem",fontSize:"1.125rem",fontWeight:"600",color:"#ffffff",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",transition:"all 0.3s ease",backdropFilter:"blur(10px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseEnter:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.15)",w.currentTarget.style.transform="translateY(-2px)",w.currentTarget.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.15)"},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},children:[g.jsx(E0,{size:20}),"upload your own PDFs"]})}),g.jsx("div",{style:{textAlign:"center",padding:"0.5rem 0 3rem",marginTop:"0"},children:g.jsxs("ul",{style:{display:"flex",flexWrap:"wrap",listStyle:"none",padding:0,margin:0,justifyContent:"center",gap:"1rem",width:"100%",maxWidth:"100%"},children:[g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#1877f2",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(24, 119, 242, 0.3)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="1",C.style.top="-45px",C.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="0",C.style.top="0",C.style.visibility="hidden")},onClick:()=>window.open("https://facebook.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#1877f2",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Facebook"}),g.jsx("svg",{viewBox:"0 0 320 512",height:"1.2em",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{color:"#ffffff"},children:g.jsx("path",{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#0A66C2",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(10, 102, 194, 0.3)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="1",C.style.top="-45px",C.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="0",C.style.top="0",C.style.visibility="hidden")},onClick:()=>window.open("https://www.linkedin.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#0A66C2",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"LinkedIn"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 16 16",style:{color:"#ffffff"},children:g.jsx("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708C16 15.487 15.474 16 14.825 16H1.175C.526 16 0 15.487 0 14.854V1.146zM4.943 13.394V6.169H2.542v7.225h2.401zM3.743 4.956c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.358.54-1.358 1.248 0 .694.521 1.248 1.327 1.248h.015zM13.458 13.394V9.349c0-2.218-1.184-3.251-2.764-3.251-1.28 0-1.856.704-2.169 1.201h.016V6.169H6.141c.032.704 0 7.225 0 7.225h2.401V9.804c0-.192.014-.384.072-.521.158-.384.518-.782 1.121-.782.79 0 1.107.59 1.107 1.456v3.436h2.616z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#1da1f2",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(29, 161, 242, 0.3)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="1",C.style.top="-45px",C.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="0",C.style.top="0",C.style.visibility="hidden")},onClick:()=>window.open("https://twitter.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#1da1f2",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Twitter"}),g.jsx("svg",{height:"1.8em",fill:"currentColor",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{color:"#ffffff"},children:g.jsx("path",{d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#e4405f",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(228, 64, 95, 0.3)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="1",C.style.top="-45px",C.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="0",C.style.top="0",C.style.visibility="hidden")},onClick:()=>window.open("https://instagram.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#e4405f",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Instagram"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 16 16",style:{color:"#ffffff"},children:g.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#333",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(51, 51, 51, 0.3)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="1",C.style.top="-45px",C.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="0",C.style.top="0",C.style.visibility="hidden")},onClick:()=>window.open("https://github.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#333",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"GitHub"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 16 16",style:{color:"#ffffff"},children:g.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#FF0000",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(255, 0, 0, 0.3)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="1",C.style.top="-45px",C.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="0",C.style.top="0",C.style.visibility="hidden")},onClick:()=>window.open("https://youtube.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#FF0000",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"YouTube"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 16 16",style:{color:"#ffffff"},children:g.jsx("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#7AB55C",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(122, 181, 92, 0.3)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="1",C.style.top="-45px",C.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="0",C.style.top="0",C.style.visibility="hidden")},onClick:()=>window.open("https://shopify.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#7AB55C",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Shopify"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 50 50",style:{color:"#ffffff"},children:g.jsx("path",{d:"M 22.839844 2.0351562 C 19.659152 1.9484924 16.325547 6.1910156 14.529297 12.720703 L 8.8847656 14.560547 C 8.5177656 14.680547 8.2511719 14.999812 8.2011719 15.382812 L 4.7558594 42.193359 C 4.6888594 42.718359 5.0415 43.204734 5.5625 43.302734 L 29.630859 47.882812 L 31.488281 7.1972656 L 30.376953 7.5585938 C 29.713953 5.1145938 28.473844 3.5775156 26.839844 3.2285156 C 26.344844 3.1205156 25.866344 3.1427656 25.402344 3.2597656 C 24.845344 2.6717656 24.203656 2.266375 23.472656 2.109375 C 23.262469 2.0645 23.05189 2.0409338 22.839844 2.0351562 z M 22.720703 4.0371094 C 22.835859 4.0344238 22.948953 4.0437813 23.056641 4.0664062 C 23.227641 4.1034062 23.392734 4.17925 23.552734 4.28125 C 21.567734 5.97825 20.050047 9.1985469 19.248047 11.185547 L 16.847656 11.966797 C 18.482656 6.9417969 20.993363 4.0773926 22.720703 4.0371094 z M 26.65625 5.2675781 C 27.42425 5.5845781 28.071563 6.6167344 28.476562 8.1777344 L 27.453125 8.5117188 C 27.293125 7.2737188 27.02925 6.1775781 26.65625 5.2675781 z M 24.755859 5.9179688 C 25.120859 6.7669688 25.386484 7.865625 25.521484 9.140625 L 21.791016 10.355469 C 22.804016 8.2054687 23.847859 6.7299688 24.755859 5.9179688 z M 33.482422 7.3964844 L 31.636719 47.806641 L 44.216797 45.023438 C 44.728797 44.910438 45.065234 44.421297 44.990234 43.904297 C 43.389234 32.807297 40.349922 11.701203 40.294922 11.283203 C 40.283922 11.183203 40.25875 11.085188 40.21875 10.992188 C 40.02275 10.542188 39.668313 10.219641 39.195312 10.056641 C 39.103313 10.025641 38.993484 10.007906 38.896484 10.003906 C 38.674484 9.9949062 36.702281 9.8413906 35.863281 9.7753906 C 35.177281 9.0743906 33.860578 7.7328281 33.517578 7.4238281 C 33.506578 7.4128281 33.493422 7.4064844 33.482422 7.3964844 z M 22.71875 18.023438 C 24.78275 18.023438 25.880734 18.672172 25.927734 18.701172 C 26.124734 18.820172 26.213578 19.06125 26.142578 19.28125 L 24.630859 23.941406 C 24.584859 24.083406 24.479797 24.196953 24.341797 24.251953 C 24.201797 24.309953 24.046016 24.298516 23.916016 24.228516 C 23.903016 24.221516 22.63025 23.539063 21.15625 23.539062 C 19.37325 23.539062 19.107422 24.451141 19.107422 24.994141 C 19.107422 25.583141 19.880344 26.166844 20.777344 26.839844 C 22.364344 28.031844 24.537109 29.663453 24.537109 32.939453 C 24.537109 37.043453 21.982219 39.912109 18.324219 39.912109 C 14.164219 39.912109 12.069422 37.320937 11.982422 37.210938 C 11.881422 37.083937 11.848531 36.913813 11.894531 36.757812 L 12.957031 33.185547 C 13.006031 33.022547 13.136781 32.894656 13.300781 32.847656 C 13.463781 32.803656 13.641531 32.840172 13.769531 32.951172 C 13.789531 32.969172 15.726719 34.662109 17.261719 34.662109 C 18.154719 34.662109 18.390625 33.946359 18.390625 33.568359 C 18.390625 32.588359 17.673625 31.991328 16.765625 31.236328 C 15.511625 30.194328 13.953125 28.897031 13.953125 26.082031 C 13.953125 22.201031 16.658609 18.025391 22.599609 18.025391 C 22.639609 18.025391 22.67875 18.023438 22.71875 18.023438 z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#FFDD00",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(255, 221, 0, 0.3)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="1",C.style.top="-45px",C.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="0",C.style.top="0",C.style.visibility="hidden")},onClick:()=>window.open("https://buymeacoffee.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#FFDD00",color:"#000",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Buy Me a Coffee"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 24 24",style:{color:"#ffffff"},children:g.jsx("path",{d:"m20.216 6.415-.132-.666c-.119-.598-.388-1.163-1.001-1.379-.197-.069-.42-.098-.57-.241-.152-.143-.196-.366-.231-.572-.065-.378-.125-.756-.192-1.133-.057-.325-.102-.69-.25-.987-.195-.4-.597-.634-.996-.788a5.723 5.723 0 0 0-.626-.194c-1-.263-2.05-.36-3.077-.416a25.834 25.834 0 0 0-3.7.062c-.915.083-1.88.184-2.75.5-.318.116-.646.256-.888.501-.297.302-.393.77-.177 1.146.154.267.415.456.692.58.36.162.737.284 1.123.366 1.075.238 2.189.331 3.287.37 1.218.05 2.437.01 3.65-.118.299-.033.598-.073.896-.119.352-.054.578-.513.474-.834-.124-.383-.457-.531-.834-.473-.466.074-.96.108-1.382.146-1.177.08-2.358.082-3.536.006a22.228 22.228 0 0 1-1.157-.107c-.086-.01-.18-.025-.258-.036-.243-.036-.484-.08-.724-.13-.111-.027-.111-.185 0-.212h.005c.277-.06.557-.108.838-.147h.002c.131-.009.263-.032.394-.048a25.076 25.076 0 0 1 3.426-.12c.674.019 1.347.067 2.017.144l.228.031c.267.04.533.088.798.145.392.085.895.113 1.07.542.055.137.08.288.111.431l.319 1.484a.237.237 0 0 1-.199.284h-.003c-.037.006-.075.01-.112.015a36.704 36.704 0 0 1-4.743.295 37.059 37.059 0 0 1-4.699-.304c-.14-.017-.293-.042-.417-.06-.326-.048-.649-.108-.973-.161-.393-.065-.768-.032-1.123.161-.29.16-.527.404-.675.701-.154.316-.199.66-.267 1-.069.34-.176.707-.135 1.056.087.753.613 1.365 1.37 1.502a39.69 39.69 0 0 0 11.343.376.483.483 0 0 1 .535.53l-.071.697-1.018 9.907c-.041.41-.047.832-.125 1.237-.122.637-.553 1.028-1.182 1.171-.577.131-1.165.2-1.756.205-.656.004-1.31-.025-1.966-.022-.699.004-1.556-.06-2.095-.58-.475-.458-.54-1.174-.605-1.793l-.731-7.013-.322-3.094c-.037-.351-.286-.695-.678-.678-.336.015-.718.3-.678.679l.228 2.185.949 9.112c.147 1.344 1.174 2.068 2.446 2.272.742.12 1.503.144 2.257.156.966.016 1.942.053 2.892-.122 1.408-.258 2.465-1.198 2.616-2.657.34-3.332.683-6.663 1.024-9.995l.215-2.087a.484.484 0 0 1 .39-.426c.402-.078.787-.212 1.074-.518.455-.488.546-1.124.385-1.766zm-1.478.772c-.145.137-.363.201-.578.233-2.416.359-4.866.54-7.308.46-1.748-.06-3.477-.254-5.207-.498-.17-.024-.353-.055-.47-.18-.22-.236-.111-.71-.054-.995.052-.26.152-.609.463-.646.484-.057 1.046.148 1.526.22.577.088 1.156.159 1.737.212 2.48.226 5.002.19 7.472-.14.45-.06.899-.13 1.345-.21.399-.072.84-.206 1.08.206.166.281.188.657.162.974a.544.544 0 0 1-.169.364zm-6.159 3.9c-.862.37-1.84.788-3.109.788a5.884 5.884 0 0 1-1.569-.217l.877 9.004c.065.78.717 1.38 1.5 1.38 0 0 1.243.065 1.658.065.447 0 1.786-.065 1.786-.065.783 0 1.434-.6 1.499-1.38l.94-9.95a3.996 3.996 0 0 0-1.322-.238c-.826 0-1.491.284-2.26.613z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#BD081C",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(189, 8, 28, 0.3)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="1",C.style.top="-45px",C.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const C=w.currentTarget.querySelector(".tooltip");C&&(C.style.opacity="0",C.style.top="0",C.style.visibility="hidden")},onClick:()=>window.open("https://pinterest.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#BD081C",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Pinterest"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 16 16",style:{color:"#ffffff"},children:g.jsx("path",{d:"M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"})})]})]})})]}),g.jsx("footer",{style:{marginTop:"4rem",padding:"2rem 1rem",textAlign:"center",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(255, 255, 255, 0.2)",color:"white"},children:g.jsx("div",{style:{maxWidth:"600px",margin:"0 auto"},children:g.jsxs("p",{style:{fontSize:"1.1rem",margin:0,lineHeight:"1.6"},children:["Having trouble with the site, need help or have suggestions?"," ",g.jsx("a",{href:"https://mail.google.com/mail/?view=cm&to=ashinjiyostudy@gmail.com&su=PDF%20Library%20Hub%20-%20Support%20Request",target:"_blank",rel:"noopener noreferrer",style:{color:"#4db6e6",textDecoration:"underline",fontWeight:600,transition:"color 0.3s ease"},onMouseOver:w=>{w.currentTarget.style.color="#66c2ff"},onMouseOut:w=>{w.currentTarget.style.color="#4db6e6"},children:"Contact Me"})]})})})]})},gM=()=>{const[t,e]=$.useState(""),[n,i]=$.useState(""),[a,l]=$.useState(!1),[u,d]=$.useState(!1),m=ml(),x=Sr().state?.from?.pathname||"/dashboard",_=async v=>{v.preventDefault(),d(!0);try{await m5(ky,t,n),xe.success("Welcome back!"),m(x,{replace:!0})}catch(D){const k=D instanceof Error?D.message:"Failed to sign in";xe.error(k)}finally{d(!1)}};return g.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:g.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-lg border",children:[g.jsxs("div",{className:"text-center",children:[g.jsx(bC,{className:"mx-auto h-12 w-12 text-blue-500"}),g.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Admin Login"}),g.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access the dashboard"})]}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),g.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:v=>e(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"admin@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),g.jsxs("div",{className:"mt-1 relative",children:[g.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:v=>i(v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-10",placeholder:"Enter your password"}),g.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!a),children:a?g.jsx(lC,{className:"h-5 w-5 text-gray-400"}):g.jsx(Kd,{className:"h-5 w-5 text-gray-400"})})]})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Signing in...":"Sign in"})})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("p",{className:"text-sm text-gray-600",children:"Demo credentials: admin@demo.com / admin123"})})]})})},yM=({children:t})=>{const e=Sr(),[n,i]=$.useState(!1),a=[{name:"PDFs",href:"/dashboard/pdfs",icon:Fa},{name:"Categories",href:"/dashboard/categories",icon:qE},{name:"Upload",href:"/dashboard/upload",icon:E0}],l=async()=>{try{await y5(ky),xe.success("Signed out successfully")}catch{xe.error("Failed to sign out")}};return g.jsxs("div",{className:"flex h-screen bg-gray-100",children:[g.jsx("div",{className:"lg:hidden fixed top-0 left-0 z-50 p-4",children:g.jsx("button",{onClick:()=>i(!n),className:"p-2 bg-blue-600 text-white rounded-md shadow-lg hover:bg-blue-700 transition-colors",children:n?g.jsx(il,{size:24}):g.jsx(AC,{size:24})})}),n&&g.jsx("div",{className:"lg:hidden fixed inset-0 z-40 bg-black bg-opacity-50",onClick:()=>i(!1)}),g.jsxs("div",{className:`
        flex flex-col w-64 bg-white shadow-lg transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${n?"translate-x-0":"-translate-x-full"}
        fixed inset-y-0 left-0 z-50
      `,children:[g.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-blue-600",children:g.jsx("h1",{className:"text-lg lg:text-xl font-bold text-white",children:"PDF Hub Admin"})}),g.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[g.jsxs(Hn,{to:"/",className:"flex items-center px-3 py-2 text-gray-700 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>i(!1),children:[g.jsx(fC,{size:20,className:"mr-3"}),"Back to Site"]}),g.jsx("div",{className:"border-t border-gray-200 my-4"}),a.map(u=>{const d=e.pathname===u.href;return g.jsxs(Hn,{to:u.href,onClick:()=>i(!1),className:`flex items-center px-3 py-2 rounded-md transition-colors ${d?"bg-blue-100 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[g.jsx(u.icon,{size:20,className:"mr-3"}),u.name]},u.name)})]}),g.jsx("div",{className:"p-4 border-t border-gray-200",children:g.jsxs("button",{onClick:l,className:"flex items-center w-full px-3 py-2 text-red-600 rounded-md hover:bg-red-50 transition-colors",children:[g.jsx($E,{size:20,className:"mr-3"}),"Sign Out"]})})]}),g.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden lg:ml-0",children:[g.jsx("div",{className:"lg:hidden h-16"}),g.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-4 lg:p-6",children:t})]})]})},xM=()=>{const{data:t,isLoading:e,error:n}=cA(),{data:i=[],isLoading:a}=Z0(),l=fM(),u=dM(),[d,m]=$.useState(null),[f,x]=$.useState(null),[_,v]=$.useState(""),[D,k]=$.useState({title:"",author:"",description:"",category:"",tags:[]}),M=async E=>{try{await l.mutateAsync(E),m(null),xe.success("PDF deleted successfully")}catch(T){console.error("Delete failed:",T),xe.error("Failed to delete PDF")}},N=E=>{x(E),k({title:E.title,author:E.author,description:E.description,category:E.categories[0]||"",tags:E.tags})},L=async()=>{if(f)try{await u.mutateAsync({id:f.id,updates:{title:D.title,author:D.author,description:D.description,categories:D.category?[D.category]:[],tags:D.tags}}),x(null),xe.success("PDF updated successfully")}catch(E){console.error("Update failed:",E),xe.error("Failed to update PDF")}},w=E=>{E.trim()&&!D.tags.includes(E.trim())&&k(T=>({...T,tags:[...T.tags,E.trim()]}))},C=E=>{k(T=>({...T,tags:T.tags.filter(P=>P!==E)}))},V=$.useMemo(()=>{if(!t)return[];if(!_.trim())return t;const E=_.toLowerCase();return t.filter(T=>T.title.toLowerCase().includes(E)||T.author.toLowerCase().includes(E)||T.description.toLowerCase().includes(E)||T.categories.some(P=>P.toLowerCase().includes(E))||T.tags.some(P=>P.toLowerCase().includes(E)))},[t,_]),z=(E,T)=>{if(!T.trim())return E;const P=new RegExp(`(${T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return E.split(P).map((O,he)=>P.test(O)?g.jsx("mark",{className:"bg-yellow-200 px-1 rounded",children:O},he):O)};if($.useEffect(()=>{const E=T=>{if((T.ctrlKey||T.metaKey)&&T.key==="k"){T.preventDefault();const P=document.getElementById("pdf-search-input");P&&P.focus()}};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[]),e)return g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx($s,{})});if(n)return g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsxs("div",{className:"text-center",children:[g.jsx(nC,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error loading PDFs"}),g.jsx("p",{className:"text-gray-500",children:"Please check your Firebase connection"})]})});const U=V?.reduce((E,T)=>E+T.viewCount,0)||0,I=V?.reduce((E,T)=>E+T.downloadCount,0)||0,S=V?.filter(E=>{const T=new Date(E.createdAt),P=new Date;return T.getMonth()===P.getMonth()&&T.getFullYear()===P.getFullYear()}).length||0;return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PDF Management"}),g.jsx(Hn,{to:"/dashboard/upload",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Upload New PDF"})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[g.jsxs("div",{className:"relative max-w-md",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(GE,{className:"h-5 w-5 text-gray-400"})}),g.jsx("input",{id:"pdf-search-input",type:"text",placeholder:"Search PDFs by title, author, category, or tags... (Ctrl+K)",value:_,onChange:E=>v(E.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),_&&g.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:g.jsx("button",{onClick:()=>v(""),className:"text-gray-400 hover:text-gray-600",title:"Clear search",children:g.jsx(il,{className:"h-5 w-5"})})})]}),_&&g.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Showing ",V.length," of ",t?.length||0," PDFs"]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[g.jsx("div",{className:"bg-white p-4 lg:p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(Fa,{className:"h-6 w-6 lg:h-8 lg:w-8 text-blue-600"}),g.jsxs("div",{className:"ml-3 lg:ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:_?"Filtered PDFs":"Total PDFs"}),g.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:[_?V?.length||0:t?.length||0,_&&g.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["of ",t?.length||0]})]})]})]})}),g.jsx("div",{className:"bg-white p-4 lg:p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(Kd,{className:"h-6 w-6 lg:h-8 lg:w-8 text-green-600"}),g.jsxs("div",{className:"ml-3 lg:ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),g.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:U.toLocaleString()})]})]})}),g.jsx("div",{className:"bg-white p-4 lg:p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(aC,{className:"h-6 w-6 lg:h-8 lg:w-8 text-purple-600"}),g.jsxs("div",{className:"ml-3 lg:ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),g.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:I.toLocaleString()})]})]})}),g.jsx("div",{className:"bg-white p-4 lg:p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(zE,{className:"h-6 w-6 lg:h-8 lg:w-8 text-orange-600"}),g.jsxs("div",{className:"ml-3 lg:ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),g.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:S})]})]})})]}),"      ",g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[g.jsx("div",{className:"px-4 lg:px-6 py-4 border-b border-gray-200",children:g.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[_?"Search Results":"All PDFs"," (",V?.length||0,")"]})}),V&&V.length>0?g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PDF"}),g.jsx("th",{className:"hidden sm:table-cell px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),g.jsx("th",{className:"hidden md:table-cell px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),g.jsx("th",{className:"hidden md:table-cell px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Downloads"}),g.jsx("th",{className:"hidden lg:table-cell px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),g.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(E=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"flex-shrink-0 h-8 w-8 lg:h-10 lg:w-10",children:g.jsx("div",{className:"h-8 w-8 lg:h-10 lg:w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:g.jsx(Fa,{className:"h-4 w-4 lg:h-6 lg:w-6 text-blue-600"})})}),g.jsxs("div",{className:"ml-3 lg:ml-4",children:[g.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:_?z(E.title,_):E.title}),g.jsx("div",{className:"text-xs lg:text-sm text-gray-500 max-w-xs truncate",children:_?z(E.categories.join(", "),_):E.categories.join(", ")}),g.jsxs("div",{className:"sm:hidden text-xs text-gray-500 truncate mt-1",children:["by ",_?z(E.author,_):E.author]})]})]})}),g.jsx("td",{className:"hidden sm:table-cell px-4 lg:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_?z(E.author,_):E.author}),g.jsx("td",{className:"hidden md:table-cell px-4 lg:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.viewCount.toLocaleString()}),g.jsx("td",{className:"hidden md:table-cell px-4 lg:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.downloadCount.toLocaleString()}),g.jsx("td",{className:"hidden lg:table-cell px-4 lg:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.createdAt).toLocaleDateString()}),g.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-sm font-medium",children:g.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[g.jsx("button",{onClick:()=>N(E),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Edit PDF",children:g.jsx(OC,{className:"h-4 w-4"})}),g.jsx("button",{onClick:()=>m(E.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Delete PDF",children:g.jsx(QE,{className:"h-4 w-4"})})]})})]},E.id))})]})}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Fa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),_?g.jsxs(g.Fragment,{children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No PDFs found"}),g.jsxs("p",{className:"text-gray-500 mb-4",children:['No PDFs match your search for "',_,'". Try adjusting your search terms.']}),g.jsx("button",{onClick:()=>v(""),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Clear Search"})]}):g.jsxs(g.Fragment,{children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No PDFs uploaded yet"}),g.jsx("p",{className:"text-gray-500 mb-4",children:"Start by uploading your first PDF document"}),g.jsx(Hn,{to:"/dashboard/upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Upload First PDF"})]})]})]}),d&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delete PDF"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this PDF? This action cannot be undone."}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",disabled:l.isPending,children:"Cancel"}),g.jsx("button",{onClick:()=>M(d),disabled:l.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:l.isPending?"Deleting...":"Delete"})]})]})}),f&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Edit PDF Details"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title * (max 18 characters)"}),g.jsx("input",{type:"text",value:D.title,onChange:E=>k(T=>({...T,title:E.target.value})),maxLength:18,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),g.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[D.title.length,"/18 characters"]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author *"}),g.jsx("input",{type:"text",value:D.author,onChange:E=>k(T=>({...T,author:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{rows:4,value:D.description,onChange:E=>k(T=>({...T,description:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),g.jsxs("select",{value:D.category,onChange:E=>k(T=>({...T,category:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:a,children:[g.jsx("option",{value:"",children:a?"Loading categories...":"Select a category"}),!a&&i.map(E=>g.jsx("option",{value:E.name,children:E.name},E.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),g.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:D.tags.map((E,T)=>g.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[E,g.jsx("button",{type:"button",onClick:()=>C(E),className:"ml-1 text-blue-600 hover:text-blue-800",children:""})]},T))}),g.jsx("input",{type:"text",placeholder:"Type a tag and press Enter",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:E=>{if(E.key==="Enter"){E.preventDefault();const T=E.target;w(T.value),T.value=""}}})]})]}),g.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[g.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",disabled:u.isPending,children:"Cancel"}),g.jsx("button",{onClick:L,disabled:u.isPending||!D.title.trim()||!D.author.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:u.isPending?"Updating...":"Update PDF"})]})]})})]})},vM=()=>{const[t,e]=$.useState([]),[n,i]=$.useState(!0),[a,l]=$.useState(null),[u,d]=$.useState(!1),[m,f]=$.useState({name:"",description:"",color:"#3B82F6"}),x=Ka(),_=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#6B7280"];$.useEffect(()=>{v()},[]);const v=async()=>{try{console.log("Loading categories...");const U=await Oa.getAllCategories();console.log("Categories loaded:",U),await D(U);const I=await Oa.getAllCategories();e(I)}catch(U){xe.error("Failed to load categories"),console.error("Error loading categories:",U)}finally{i(!1)}},D=async U=>{try{const I={};U.forEach(T=>{const P=T.name.toLowerCase();I[P]||(I[P]=[]),I[P].push(T)});const S=Object.values(I).filter(T=>T.length>1);if(S.length===0)return;let E=0;for(const T of S){T.sort((P,j)=>P.createdAt.getTime()-j.createdAt.getTime());for(let P=1;P<T.length;P++)await Oa.deleteCategory(T[P].id),E++}E>0&&console.log(`Automatically removed ${E} duplicate categories`)}catch(I){console.error("Error auto-removing duplicates:",I)}},k=async()=>{x.invalidateQueries({queryKey:["categories"]}),xe.success("Dashboard categories applied to homepage!")},M=async()=>{if(!m.name.trim()){xe.error("Category name is required");return}try{await Oa.createCategory(m),xe.success("Category created successfully"),f({name:"",description:"",color:"#3B82F6"}),d(!1),v()}catch(U){xe.error("Failed to create category"),console.error("Error creating category:",U)}},N=async U=>{if(!m.name.trim()){xe.error("Category name is required");return}try{await Oa.updateCategory(U.id,m),xe.success("Category updated successfully"),l(null),f({name:"",description:"",color:"#3B82F6"}),v()}catch(I){xe.error("Failed to update category"),console.error("Error updating category:",I)}},L=async(U,I)=>{if(confirm(`Are you sure you want to delete the category "${I}"? This action cannot be undone.`))try{await Oa.deleteCategory(U),xe.success("Category deleted successfully"),v()}catch(S){xe.error("Failed to delete category"),console.error("Error deleting category:",S)}},w=U=>{l(U.id),f({name:U.name,description:U.description||"",color:U.color||"#3B82F6"})},C=()=>{l(null),f({name:"",description:"",color:"#3B82F6"})},V=()=>{d(!0),f({name:"",description:"",color:"#3B82F6"})},z=()=>{d(!1),f({name:"",description:"",color:"#3B82F6"})};return n?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx($s,{})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Category Management"}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Organize your PDF collection with categories"})]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsxs("button",{onClick:k,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Update homepage with current dashboard categories",children:[g.jsx(ZS,{size:20,className:"mr-2"}),"Apply to Homepage"]}),g.jsxs("button",{onClick:V,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[g.jsx(Qd,{size:20,className:"mr-2"}),"Add Category"]})]})]}),u&&g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Category"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),g.jsx("input",{type:"text",value:m.name,onChange:U=>f({...m,name:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter category name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),g.jsx("div",{className:"flex space-x-2",children:_.map(U=>g.jsx("button",{onClick:()=>f({...m,color:U}),className:`w-8 h-8 rounded-full border-2 ${m.color===U?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:U}},U))})]})]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),g.jsx("textarea",{value:m.description,onChange:U=>f({...m,description:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter category description (optional)"})]}),g.jsxs("div",{className:"flex space-x-3 mt-6",children:[g.jsxs("button",{onClick:M,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[g.jsx(x2,{size:16,className:"mr-2"}),"Save Category"]}),g.jsxs("button",{onClick:z,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[g.jsx(il,{size:16,className:"mr-2"}),"Cancel"]})]})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("h2",{className:"text-lg font-semibold",children:["Categories (",t.length,")"]})}),t.length===0?g.jsxs("div",{className:"p-8 text-center text-gray-500",children:[g.jsx(qE,{size:48,className:"mx-auto mb-4 opacity-50"}),g.jsx("p",{children:"No categories found. Create your first category to get started."})]}):g.jsx("div",{className:"divide-y divide-gray-200",children:t.map(U=>g.jsx("div",{className:"p-6",children:a===U.id?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),g.jsx("input",{type:"text",value:m.name,onChange:I=>f({...m,name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),g.jsx("div",{className:"flex space-x-2",children:_.map(I=>g.jsx("button",{onClick:()=>f({...m,color:I}),className:`w-8 h-8 rounded-full border-2 ${m.color===I?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:I}},I))})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),g.jsx("textarea",{value:m.description,onChange:I=>f({...m,description:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),g.jsxs("div",{className:"flex space-x-3",children:[g.jsxs("button",{onClick:()=>N(U),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[g.jsx(x2,{size:16,className:"mr-2"}),"Save Changes"]}),g.jsxs("button",{onClick:C,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[g.jsx(il,{size:16,className:"mr-2"}),"Cancel"]})]})]}):g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:U.color||"#3B82F6"}}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:U.name}),U.description&&g.jsx("p",{className:"text-gray-600 mt-1",children:U.description}),g.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Created ",U.createdAt.toLocaleDateString()]})]})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>w(U),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Edit category",children:g.jsx(CC,{size:16})}),g.jsx("button",{onClick:()=>L(U.id,U.name),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete category",children:g.jsx(QE,{size:16})})]})]})},U.id))})]})]})},pg=()=>{const t={imagekit:{publicKey:"public_1vF7O9S6tznVBCjXvWb1Z0Zsl0k=",privateKey:"private_CpvSBEbYcTfXzTxWG+o/BdMo55c=",urlEndpoint:"https://ik.imagekit.io/pdfbps/"},imagekitSmall:{publicKey:"public_4IVe6C/J5H9PaU0Kku7c4l6LHnk=",privateKey:"private_6PB+nEbVIOsG2COo3lxWKqqgt7o=",urlEndpoint:"https://ik.imagekit.io/xigdwujoy/"},appwrite:{endpoint:"https://fra.cloud.appwrite.io/v1",projectId:"pdf-library-hub",bucketId:"pdfs"}},e=[];t.imagekit.publicKey.startsWith("your_")?e.push(" ImageKit Main Account Public Key not configured"):console.log(" ImageKit Main Account Public Key configured"),t.imagekit.privateKey.startsWith("your_")?e.push(" ImageKit Main Account Private Key not configured"):console.log(" ImageKit Main Account Private Key configured"),t.imagekit.urlEndpoint.includes("your_")?e.push(" ImageKit Main Account URL Endpoint not configured"):console.log(" ImageKit Main Account URL Endpoint configured"),t.imagekitSmall.publicKey.startsWith("your_")?e.push(" ImageKit Small Account Public Key not configured"):console.log(" ImageKit Small Account Public Key configured"),t.imagekitSmall.privateKey.startsWith("your_")?e.push(" ImageKit Small Account Private Key not configured"):console.log(" ImageKit Small Account Private Key configured"),t.imagekitSmall.urlEndpoint.includes("your_")?e.push(" ImageKit Small Account URL Endpoint not configured"):console.log(" ImageKit Small Account URL Endpoint configured");const n=!t.appwrite.projectId.startsWith("your_");return n?(t.appwrite.endpoint.includes("your_")?e.push(" Appwrite Endpoint not configured"):console.log(" Appwrite Endpoint configured"),t.appwrite.projectId.startsWith("your_")?e.push(" Appwrite Project ID not configured"):console.log(" Appwrite Project ID configured"),t.appwrite.bucketId.startsWith("your_")?e.push(" Appwrite Bucket ID not configured"):console.log(" Appwrite Bucket ID configured")):(console.log("  Appwrite not configured (optional - for files 25-50MB)"),console.log("   Current limit: 25MB via ImageKit"),console.log("   To enable 50MB uploads, configure Appwrite storage")),console.log(" Firebase API Key configured"),console.log(" Firebase Project ID configured"),e.length>0?(console.error(" Configuration Issues Found:"),e.forEach(a=>console.error(a)),console.error(`
 Please follow the setup guides:`),console.error("- ImageKit Setup: ./IMAGEKIT_SETUP.md"),console.error("- Firebase: ./FIREBASE_SETUP.md"),console.error("- Optional - Appwrite Setup: ./APPWRITE_SETUP.md"),!1):(console.log(" Core services configured correctly!"),console.log(` Smart Upload System Ready (max ${n?"50MB":"25MB"}):`),console.log("   Small files (< 10MB)  ImageKit Small Account"),console.log("   Medium files (10-25MB)  ImageKit Main Account"),console.log(n?"   Large files (25-50MB)  Appwrite Storage":"   For files 25-50MB: Configure Appwrite (see APPWRITE_SETUP.md)"),!0)},aE=async()=>{console.log(" Testing Triple Upload Configuration...");try{await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"OPTIONS"}),console.log(" ImageKit Main Account endpoint reachable")}catch(t){console.error(" ImageKit Main Account endpoint test failed:",t)}try{await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"OPTIONS"}),console.log(" ImageKit Small Account endpoint reachable")}catch(t){console.error(" ImageKit Small Account endpoint test failed:",t)}try{await fetch("https://fra.cloud.appwrite.io/v1/health",{method:"GET"}),console.log(" Appwrite endpoint reachable")}catch(t){console.error(" Appwrite endpoint test failed:",t)}try{await fetch("https://firestore.googleapis.com/v1/projects/pdf-library-bps/databases/(default)/documents",{method:"OPTIONS"}),console.log(" Firebase Firestore endpoint reachable")}catch(t){console.error(" Firebase Firestore endpoint test failed:",t)}console.log(" Triple Upload Service Test Complete")},bM=async()=>{try{console.log(" Testing ImageKit Main Account service...");const t="public_1vF7O9S6tznVBCjXvWb1Z0Zsl0k=",e="private_CpvSBEbYcTfXzTxWG+o/BdMo55c=",n="https://ik.imagekit.io/pdfbps/";if(!t||t.startsWith("your_"))return console.error(" ImageKit Main Account Public Key not configured"),!1;if(!e||e.startsWith("your_"))return console.error(" ImageKit Main Account Private Key not configured"),!1;if(!n||n.includes("your_"))return console.error(" ImageKit Main Account URL Endpoint not configured"),!1;console.log(" ImageKit Main Account environment variables configured");try{return await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"OPTIONS"}),console.log(" ImageKit Main Account API endpoint reachable"),!0}catch{return console.error(" ImageKit Main Account API endpoint not reachable"),!1}}catch(t){return console.error(" ImageKit Main Account test failed:",t),!1}},_M=async()=>{try{console.log(" Testing ImageKit Small Account service...");const t="public_4IVe6C/J5H9PaU0Kku7c4l6LHnk=",e="private_6PB+nEbVIOsG2COo3lxWKqqgt7o=",n="https://ik.imagekit.io/xigdwujoy/";if(!t||t.startsWith("your_"))return console.error(" ImageKit Small Account Public Key not configured"),!1;if(!e||e.startsWith("your_"))return console.error(" ImageKit Small Account Private Key not configured"),!1;if(!n||n.includes("your_"))return console.error(" ImageKit Small Account URL Endpoint not configured"),!1;console.log(" ImageKit Small Account environment variables configured");try{return await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"OPTIONS"}),console.log(" ImageKit Small Account API endpoint reachable"),!0}catch{return console.error(" ImageKit Small Account API endpoint not reachable"),!1}}catch(t){return console.error(" ImageKit Small Account test failed:",t),!1}},EM=async()=>{try{console.log(" Testing Appwrite service...");const t="https://fra.cloud.appwrite.io/v1",e="pdf-library-hub",n="pdfs";if(!t||t.includes("your_"))return console.error(" Appwrite Endpoint not configured"),!1;if(!e||e.startsWith("your_"))return console.error(" Appwrite Project ID not configured"),!1;if(!n||n.startsWith("your_"))return console.error(" Appwrite Bucket ID not configured"),!1;console.log(" Appwrite environment variables configured");try{return await fetch(`${t}/health`,{method:"GET"}),console.log(" Appwrite API endpoint reachable"),!0}catch{return console.error(" Appwrite API endpoint not reachable"),!1}}catch(t){return console.error(" Appwrite test failed:",t),!1}},wM=async()=>{try{console.log(" Testing Firebase service...");const t="AIzaSyChbvxl2bz1YTny0NkR1WeVWDIPmWNZ7Oc",e="pdf-library-bps";console.log(" Firebase environment variables configured");try{return await fetch(`https://firestore.googleapis.com/v1/projects/${e}/databases/(default)/documents`,{method:"OPTIONS"}),console.log(" Firebase Firestore endpoint reachable"),!0}catch{return console.error(" Firebase Firestore endpoint not reachable"),!1}}catch(t){return console.error(" Firebase test failed:",t),!1}},AM=async()=>{console.log(` Testing Triple Upload System...
`);const t=await _M();console.log("");const e=await bM();console.log("");const n=await EM();console.log("");const i=await wM();console.log("");const a=t&&e&&n&&i;return a?(console.log(" All services are configured and working!"),console.log(" Triple Upload System Ready:"),console.log("   Small files (< 10MB)  ImageKit Small Account"),console.log("   Medium files (10-25MB)  ImageKit Main Account"),console.log("   Large files (25-50MB)  Appwrite Storage")):(console.error(" Some services need configuration:"),t||console.error("- ImageKit Small Account needs setup (handles PDFs < 10MB)"),e||console.error("- ImageKit Main Account needs setup (handles PDFs 10-25MB)"),n||console.error("- Appwrite needs setup (handles PDFs 25-50MB)"),i||console.error("- Firebase needs setup (metadata storage)"),console.error(`
 See TRIPLE_UPLOAD_SETUP.md for detailed instructions`)),{imagekitSmall:t,imagekitMain:e,appwrite:n,firebase:i,overall:a}},TM=()=>{const{user:t}=iA(),{data:e=[],isLoading:n,error:i}=Z0(),[a,l]=$.useState("file"),[u,d]=$.useState({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),[m,f]=$.useState(null),[x,_]=$.useState(""),[v,D]=$.useState(!1),k=uA(),M=hA();$.useEffect(()=>{const I=pg();D(I),aE();const S="pdf-library-hub",E="https://fra.cloud.appwrite.io/v1",T="pdfs",P=!S.includes("your_");console.log(" Appwrite Configuration Check:",{projectId:S,endpoint:E,bucketId:T,isConfigured:P,maxFileSize:P?"50MB":"25MB"}),I||Xe.error("Upload services not configured. Check console for details.")},[]);const N=I=>{const S=I.target.files?.[0];if(S){if(S.type!=="application/pdf"){Xe.error("Please select a PDF file");return}const E="pdf-library-hub",T=!E.includes("your_");console.log(" File validation:",{fileName:S.name,fileSize:`${(S.size/1024/1024).toFixed(2)}MB`,appwriteProjectId:E,appwriteConfigured:T});const P=T?50:25;if(S.size>P*1024*1024){T?Xe.error("File size must be less than 50MB"):Xe.error("File size must be less than 25MB. To upload files up to 50MB, please configure Appwrite storage."),console.log(` File rejected: ${(S.size/1024/1024).toFixed(2)}MB exceeds ${P}MB limit`);return}const j=S.size/1024/1024;let O;j<10?O="ImageKit Small":j<25?O="ImageKit Main":O="Appwrite",console.log(` File accepted: Will upload via ${O} (${j.toFixed(2)}MB)`),f(S),u.title||d(he=>({...he,title:S.name.replace(".pdf","").replace(/[_-]/g," ")}))}},L=I=>{I.trim()&&!u.tags.includes(I.trim())&&d(S=>({...S,tags:[...S.tags,I.trim()]}))},w=I=>{d(S=>({...S,tags:S.tags.filter(E=>E!==I)}))},C=I=>{I.key==="Enter"&&x.trim()&&(I.preventDefault(),L(x),_(""))},V=I=>{try{const S=new URL(I);return S.protocol==="http:"||S.protocol==="https:"}catch{return!1}},z=async I=>{if(I.preventDefault(),!u.pdfLink.trim()){Xe.error("Please provide a PDF link");return}if(!V(u.pdfLink)){Xe.error("Please provide a valid URL");return}if(!u.title.trim()||!u.author.trim()){Xe.error("Please fill in title and author");return}try{console.log("Creating PDF from link...");const S=await M.mutateAsync({title:u.title,author:u.author,description:u.description,categories:u.category?[u.category]:[],tags:u.tags,viewCount:0,downloadCount:0,uploadedBy:t?.uid||"anonymous",pdfUrl:u.pdfLink,uploadProvider:"external"});console.log("PDF created from link successfully, result:",S),d({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),_(""),l("file")}catch(S){console.error("Link upload failed:",S)}},U=async I=>{if(I.preventDefault(),a==="link")return z(I);if(!m){Xe.error("Please select a PDF file");return}if(!u.title.trim()||!u.author.trim()){Xe.error("Please fill in title and author");return}try{if(console.log("=== UPLOAD DEBUG ==="),console.log("User:",t),console.log("File:",m),console.log("Form data:",u),!pg()){Xe.error("Upload configuration is incomplete. Check console for details.");return}await aE(),console.log("Firebase config check:",{projectId:"pdf-library-bps",storageBucket:"pdf-library-bps.firebasestorage.app"}),console.log(" Starting upload process...");const E=Xe.loading("Uploading PDF...",{duration:6e4}),T=await k.mutateAsync({file:m,pdfData:{title:u.title,author:u.author,description:u.description,categories:u.category?[u.category]:[],tags:u.tags,viewCount:0,downloadCount:0,uploadedBy:t?.uid||"anonymous"}});Xe.dismiss(E),console.log(" Upload successful, result:",T),d({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),f(null),_(""),l("file");const P=document.getElementById("pdf-upload");P&&(P.value="")}catch(S){console.error(" Upload failed:",S),S instanceof Error?Xe.error(`Upload failed: ${S.message}`):Xe.error("Upload failed: Unknown error occurred")}};return g.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload New PDF"}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Add a new PDF document to your library by uploading a file or providing a link"})]}),!v&&g.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Smart Upload System Configuration Required"}),g.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[g.jsx("p",{children:"Please configure ImageKit accounts before uploading files. Check the browser console for specific issues."}),g.jsxs("p",{className:"mt-1",children:[g.jsx("a",{href:"/IMAGEKIT_SETUP.md",className:"underline",children:"ImageKit Setup Guide"})," |",g.jsx("a",{href:"/APPWRITE_SETUP.md",className:"underline ml-1",children:"Appwrite Setup (Optional)"})]}),g.jsx("button",{onClick:async()=>{console.log(" Testing Firebase upload configuration..."),(await AM()).overall?(Xe.success("Firebase configuration verified! Upload should work."),D(!0)):Xe.error("Firebase configuration issues found. Check console.")},className:"mt-2 px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700",children:"Test Firebase Setup"})]})]})]})}),g.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:g.jsxs("form",{className:"space-y-6",onSubmit:U,children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Upload Method *"}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsxs("label",{className:"flex items-center",children:[g.jsx("input",{type:"radio",name:"uploadMethod",value:"file",checked:a==="file",onChange:I=>l(I.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),g.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Upload File"})]}),g.jsxs("label",{className:"flex items-center",children:[g.jsx("input",{type:"radio",name:"uploadMethod",value:"link",checked:a==="link",onChange:I=>l(I.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),g.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Paste Link"})]})]})]}),a==="file"?g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PDF File *"}),g.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[g.jsx(E0,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"mt-4",children:[g.jsxs("label",{htmlFor:"pdf-upload",className:"cursor-pointer",children:[g.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:m?m.name:"Drop PDF file here or click to browse"}),g.jsx("input",{id:"pdf-upload",name:"pdf-upload",type:"file",accept:".pdf",className:"sr-only",onChange:N})]}),g.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["PDF up to ",!"pdf-library-hub".includes("your_")?"50MB":"25MB",!"pdf-library-hub".includes("your_")?"":" (configure Appwrite for 50MB)"]}),m&&g.jsxs("div",{className:"mt-2 space-y-1",children:[g.jsxs("p",{className:"text-sm text-green-600",children:[" File selected (",(m.size/1024/1024).toFixed(2)," MB)"]}),g.jsxs("p",{className:"text-xs text-blue-600",children:[" Will upload via ",(()=>{const I=m.size/1024/1024;return I<10?"ImageKit Small (< 10MB)":I<25?"ImageKit Main (10-25MB)":"Appwrite (25-50MB)"})()]})]})]})]})]}):g.jsxs("div",{children:[g.jsx("label",{htmlFor:"pdfLink",className:"block text-sm font-medium text-gray-700 mb-2",children:"PDF Link *"}),g.jsxs("div",{className:"relative",children:[g.jsx(HE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),g.jsx("input",{type:"url",id:"pdfLink",name:"pdfLink",value:u.pdfLink,onChange:I=>d(S=>({...S,pdfLink:I.target.value})),placeholder:"https://example.com/document.pdf",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:a==="link"})]}),g.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Paste a direct link to a PDF file hosted elsewhere"}),u.pdfLink&&g.jsx("p",{className:"mt-2 text-sm text-green-600",children:" External PDF link provided"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title * (max 18 characters)"}),g.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:I=>d(S=>({...S,title:I.target.value})),placeholder:"Enter PDF title",maxLength:18,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),g.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[u.title.length,"/18 characters"]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-1",children:"Author *"}),g.jsx("input",{type:"text",id:"author",name:"author",value:u.author,onChange:I=>d(S=>({...S,author:I.target.value})),placeholder:"Enter author name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{id:"description",name:"description",rows:4,value:u.description,onChange:I=>d(S=>({...S,description:I.target.value})),placeholder:"Enter a description for this PDF",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),g.jsxs("select",{id:"category",name:"category",value:u.category,onChange:I=>d(S=>({...S,category:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:n,children:[g.jsx("option",{value:"",children:n?"Loading categories...":i?"Error loading categories":"Select a category"}),!n&&!i&&e.map(I=>g.jsx("option",{value:I.name,children:I.name},I.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),g.jsx("input",{type:"text",id:"tags",name:"tags",value:x,onChange:I=>_(I.target.value),onKeyDown:C,placeholder:"Type a tag and press Enter",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u.tags.length>0&&g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.tags.map((I,S)=>g.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[I,g.jsxs("button",{type:"button",onClick:()=>w(I),className:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:outline-none",children:[g.jsx("span",{className:"sr-only",children:"Remove tag"}),""]})]},S))})]})]}),g.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[g.jsx("button",{type:"button",onClick:()=>{d({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),f(null),_(""),l("file")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),g.jsxs("button",{type:"submit",disabled:k.isPending||M.isPending||!u.title.trim()||!u.author.trim()||a==="file"&&!m||a==="link"&&!u.pdfLink.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(Fa,{className:"mr-2 h-4 w-4"}),k.isPending||M.isPending?a==="file"?"Uploading...":"Adding Link...":a==="file"?"Upload PDF":"Add PDF Link"]})]})]})})]})},SM=()=>g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor your PDF library performance"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:g.jsx(Fa,{className:"h-6 w-6 text-blue-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total PDFs"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"24"}),g.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+3 this month"})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:g.jsx(y2,{className:"h-6 w-6 text-green-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"15,847"}),g.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+12% vs last month"})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:g.jsx(v2,{className:"h-6 w-6 text-purple-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Downloads"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"8,923"}),g.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+8% vs last month"})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:g.jsx(qC,{className:"h-6 w-6 text-orange-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Views/PDF"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"660"}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"per document"})]})]})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Views Over Time"}),g.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx(y2,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),g.jsx("p",{className:"text-gray-500",children:"Chart coming soon"})]})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Categories"}),g.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx(v2,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),g.jsx("p",{className:"text-gray-500",children:"Chart coming soon"})]})})]})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing PDFs"})}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Title"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Views"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Downloads"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Conversion Rate"})]})}),g.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Getting Started with React"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"2,847"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"1,923"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:"67.5%"})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"TypeScript Best Practices"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"1,956"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"1,234"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:"63.1%"})]})]})]})})]})]}),CM=()=>g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your application settings"})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[g.jsx(w0,{className:"mr-2 h-5 w-5"}),"Profile Settings"]})}),g.jsx("div",{className:"p-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),g.jsx("input",{type:"text",placeholder:"Enter your display name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),g.jsx("input",{type:"email",placeholder:"admin@example.com",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]})]})})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[g.jsx(iC,{className:"mr-2 h-5 w-5"}),"System Settings"]})}),g.jsx("div",{className:"p-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max File Size (MB)"}),g.jsx("input",{type:"number",defaultValue:50,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comments Moderation"}),g.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[g.jsx("option",{value:"auto",children:"Auto-approve"}),g.jsx("option",{value:"manual",children:"Manual approval"}),g.jsx("option",{value:"disabled",children:"Disabled"})]})]})]})})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[g.jsx(mC,{className:"mr-2 h-5 w-5"}),"API Configuration"]})}),g.jsx("div",{className:"p-6",children:g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Algolia API Key"}),g.jsx("input",{type:"password",placeholder:"Enter Algolia API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})})})]}),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save Settings"})})]}),RM=()=>g.jsx(yM,{children:g.jsxs(vE,{children:[g.jsx(_n,{path:"/",element:g.jsx(Eg,{to:"pdfs",replace:!0})}),g.jsx(_n,{path:"pdfs",element:g.jsx(xM,{})}),g.jsx(_n,{path:"categories",element:g.jsx(vM,{})}),g.jsx(_n,{path:"upload",element:g.jsx(TM,{})}),g.jsx(_n,{path:"analytics",element:g.jsx(SM,{})}),g.jsx(_n,{path:"settings",element:g.jsx(CM,{})})]})}),dA={apiKey:"AIzaSyBDcRabMU_tmv8dx2BihfGTcAlkRKGS-6k",authDomain:"guestpdf-13013.firebaseapp.com",projectId:"guestpdf-13013",storageBucket:"guestpdf-13013.firebasestorage.app",messagingSenderId:"489548538163",appId:"1:489548538163:web:52976b71ab1e1125c65e46",measurementId:"G-MCMEWG56VX"},J0=Og(dA,"guest-app"),mg=R5(J0);Ow(J0);N5(J0);typeof window<"u"&&dA.measurementId&&tA(J0);const ef=()=>{const[t,e]=$.useState(null),[n,i]=$.useState(!0);return $.useEffect(()=>g5(mg,d=>{e(d?{uid:d.uid,email:d.email||"",displayName:d.displayName||d.email?.split("@")[0]||"Guest User",name:d.displayName||d.email?.split("@")[0]||"Guest User",isGuest:!0}:null),i(!1)}),[]),{guestUser:t,loading:n,signInAsGuest:()=>{},signOutGuest:async()=>{try{await y5(mg),e(null)}catch(u){console.error("Error signing out:",u)}}}},DM=({children:t})=>{const{guestUser:e,signOutGuest:n}=ef(),i=async()=>{try{await n(),xe.success("Signed out successfully")}catch{xe.error("Failed to sign out")}};return g.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:["      ","      ",g.jsxs("header",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",padding:"1rem 2rem"},children:["        ",g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1200px",margin:"0 auto"},children:["          ",g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:["            ",g.jsxs(Hn,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"white",textDecoration:"none",padding:"0.5rem 1rem",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},onMouseOver:a=>{a.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},onMouseOut:a=>{a.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:["              ",g.jsx(au,{size:20}),"              Back to Site            "]}),"                        ",g.jsx("h1",{style:{color:"white",fontSize:"1.5rem",fontWeight:700,margin:0},children:"              Guest Dashboard            "}),"          "]}),"          ",g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:["            ",g.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.9rem"},children:["              Welcome, ",e?.name||"Guest","!            "]}),"                        ",g.jsxs("button",{onClick:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"white",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.3s ease"},onMouseOver:a=>{a.currentTarget.style.background="rgba(255, 99, 99, 0.3)"},onMouseOut:a=>{a.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:["              ",g.jsx($E,{size:16}),"              Sign Out            "]}),"          "]}),"        "]}),"      "]}),"      ","      ",g.jsxs("main",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:["        ",t,"      "]}),"    "]})},IM=()=>{const t=ml(),{guestUser:e}=ef(),{data:n=[],isLoading:i}=Z0(),[a,l]=$.useState("file"),[u,d]=$.useState({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),[m,f]=$.useState(null),[x,_]=$.useState(""),[v,D]=$.useState(!1),[k,M]=$.useState(!1),N=uA(),L=hA();$.useEffect(()=>{const E=pg();D(E),E||Xe.error("Upload services not configured. Check console for details.")},[]);const w=E=>{const T=E.target.files?.[0];if(T){if(T.type!=="application/pdf"){Xe.error("Please select a PDF file");return}const P=!"pdf-library-hub".includes("your_"),j=P?50:25;if(T.size>j*1024*1024){P?Xe.error("File size must be less than 50MB"):Xe.error("File size must be less than 25MB. To upload files up to 50MB, please configure Appwrite storage.");return}if(f(T),!u.title){const O=T.name.replace(/\.pdf$/i,"");d(he=>({...he,title:O}))}}},C=()=>{const E=x.trim();E&&!u.tags.includes(E)&&(d(T=>({...T,tags:[...T.tags,E]})),_(""))},V=E=>{d(T=>({...T,tags:T.tags.filter(P=>P!==E)}))},z=E=>{d(T=>({...T,category:E})),M(!1)},U=()=>{d({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),f(null),_("");const E=document.getElementById("pdf-file");E&&(E.value="")},I=async E=>{if(E.preventDefault(),!v){Xe.error("Upload services not configured");return}if(!u.title.trim()){Xe.error("Please enter a title");return}if(u.title.trim().length>18){Xe.error("Title must be 18 characters or less");return}if(!u.author.trim()){Xe.error("Please enter an author name");return}if(a==="file"&&!m){Xe.error("Please select a PDF file");return}if(a==="link"&&!u.pdfLink.trim()){Xe.error("Please enter a PDF link");return}try{const T={title:u.title.trim(),author:u.author.trim(),description:u.description.trim(),categories:u.category?[u.category]:[],tags:u.tags,viewCount:0,downloadCount:0,uploadedBy:e?.email||"guest"};a==="file"&&m?await N.mutateAsync({pdfData:T,file:m}):a==="link"&&await L.mutateAsync({...T,pdfUrl:u.pdfLink.trim()}),Xe.success("PDF uploaded successfully!"),U()}catch(T){console.error("Upload error:",T),Xe.error("Failed to upload PDF. Please try again.")}},S=N.isPending||L.isPending;return g.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[g.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,color:"#2c3e50",margin:"0 0 0.5rem 0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:" Upload PDF"}),g.jsx("p",{style:{color:"#7f8c8d",fontSize:"1.1rem",margin:0},children:"Share your PDF documents with the community"})]}),g.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",justifyContent:"center"},children:[g.jsxs("button",{type:"button",onClick:()=>l("file"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",border:`2px solid ${a==="file"?"#3498db":"#e0e6ed"}`,borderRadius:"12px",background:a==="file"?"rgba(52, 152, 219, 0.1)":"white",color:a==="file"?"#3498db":"#7f8c8d",cursor:"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.3s ease"},children:[g.jsx(E0,{size:20}),"Upload File"]}),g.jsxs("button",{type:"button",onClick:()=>l("link"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",border:`2px solid ${a==="link"?"#3498db":"#e0e6ed"}`,borderRadius:"12px",background:a==="link"?"rgba(52, 152, 219, 0.1)":"white",color:a==="link"?"#3498db":"#7f8c8d",cursor:"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.3s ease"},children:[g.jsx(HE,{size:20}),"Add Link"]})]}),g.jsxs("form",{onSubmit:I,children:[a==="file"?g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"PDF File"}),g.jsxs("div",{style:{border:"2px dashed #e0e6ed",borderRadius:"12px",padding:"2rem",textAlign:"center",background:"rgba(255, 255, 255, 0.5)",cursor:"pointer",transition:"all 0.3s ease"},onDragOver:E=>{E.preventDefault(),E.currentTarget.style.borderColor="#3498db",E.currentTarget.style.background="rgba(52, 152, 219, 0.1)"},onDragLeave:E=>{E.currentTarget.style.borderColor="#e0e6ed",E.currentTarget.style.background="rgba(255, 255, 255, 0.5)"},onDrop:E=>{E.preventDefault(),E.currentTarget.style.borderColor="#e0e6ed",E.currentTarget.style.background="rgba(255, 255, 255, 0.5)";const T=E.dataTransfer.files;if(T.length>0){const P=T[0];if(P.type==="application/pdf"){if(f(P),!u.title){const j=P.name.replace(/\.pdf$/i,"");d(O=>({...O,title:j}))}}else Xe.error("Please select a PDF file")}},onClick:()=>document.getElementById("pdf-file")?.click(),children:[g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:g.jsx(Fa,{size:48,color:"#3498db"})}),m?g.jsxs("div",{children:[g.jsx("p",{style:{color:"#2c3e50",fontWeight:600,margin:"0 0 0.5rem 0"},children:m.name}),g.jsxs("p",{style:{color:"#7f8c8d",fontSize:"0.9rem",margin:0},children:[(m.size/(1024*1024)).toFixed(2)," MB"]})]}):g.jsxs("div",{children:[g.jsx("p",{style:{color:"#2c3e50",fontWeight:600,margin:"0 0 0.5rem 0"},children:"Click to select or drag & drop your PDF"}),g.jsx("p",{style:{color:"#7f8c8d",fontSize:"0.9rem",margin:0},children:"Maximum file size: 50MB"})]})]}),g.jsx("input",{type:"file",id:"pdf-file",accept:".pdf",onChange:w,disabled:S,style:{display:"none"}})]}):g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"PDF Link"}),g.jsx("input",{type:"url",placeholder:"https://example.com/document.pdf",value:u.pdfLink,onChange:E=>d(T=>({...T,pdfLink:E.target.value})),disabled:S,style:{width:"100%",padding:"1rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)"},onFocus:E=>{E.target.style.borderColor="#3498db",E.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:E=>{E.target.style.borderColor="#e0e6ed",E.target.style.boxShadow="none"}})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:["Title * ",g.jsxs("span",{style:{color:"#7f8c8d",fontWeight:400},children:["(",u.title.length,"/18)"]})]}),g.jsx("input",{type:"text",placeholder:"Enter PDF title",value:u.title,onChange:E=>{E.target.value.length<=18&&d(T=>({...T,title:E.target.value}))},disabled:S,required:!0,maxLength:18,style:{width:"100%",padding:"1rem",border:`2px solid ${u.title.length>18?"#e74c3c":"#e0e6ed"}`,borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)"},onFocus:E=>{u.title.length<=18&&(E.target.style.borderColor="#3498db",E.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)")},onBlur:E=>{E.target.style.borderColor=u.title.length>18?"#e74c3c":"#e0e6ed",E.target.style.boxShadow="none"}}),u.title.length>15&&g.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:u.title.length>18?"#e74c3c":"#f39c12"},children:u.title.length>18?"Title is too long!":"Title is getting long"})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Author *"}),g.jsx("input",{type:"text",placeholder:"Enter author name",value:u.author,onChange:E=>d(T=>({...T,author:E.target.value})),disabled:S,required:!0,style:{width:"100%",padding:"1rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)"},onFocus:E=>{E.target.style.borderColor="#3498db",E.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:E=>{E.target.style.borderColor="#e0e6ed",E.target.style.boxShadow="none"}})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Description"}),g.jsx("textarea",{placeholder:"Enter a brief description of the PDF",value:u.description,onChange:E=>d(T=>({...T,description:E.target.value})),disabled:S,rows:4,style:{width:"100%",padding:"1rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",resize:"vertical",fontFamily:"inherit"},onFocus:E=>{E.target.style.borderColor="#3498db",E.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:E=>{E.target.style.borderColor="#e0e6ed",E.target.style.boxShadow="none"}})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Categories"}),i?g.jsx("p",{style:{color:"#7f8c8d",fontStyle:"italic"},children:"Loading categories..."}):g.jsxs("div",{style:{position:"relative"},children:[g.jsxs("div",{onClick:()=>M(!k),style:{width:"100%",padding:"1rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:"3rem"},onFocus:E=>{E.currentTarget.style.borderColor="#3498db",E.currentTarget.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:E=>{E.currentTarget.style.borderColor="#e0e6ed",E.currentTarget.style.boxShadow="none"},children:[g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",flex:1},children:u.category?(()=>{const E=n.find(T=>T.id===u.category);return E?g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0.75rem",borderRadius:"15px",background:"linear-gradient(135deg, #3498db 0%, #9b59b6 100%)",color:"white",fontSize:"0.8rem",fontWeight:500},children:[E.name,g.jsx("button",{type:"button",onClick:()=>d(T=>({...T,category:""})),style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"0",display:"flex",alignItems:"center"},children:g.jsx(il,{size:14})})]},u.category):null})():g.jsx("span",{style:{color:"#7f8c8d",fontStyle:"italic"},children:"Select category..."})}),g.jsx(eC,{size:20,style:{color:"#7f8c8d",transform:k?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),k&&g.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"2px solid #e0e6ed",borderTop:"none",borderRadius:"0 0 12px 12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxHeight:"200px",overflowY:"auto"},children:n.length>0?n.map(E=>g.jsxs("div",{onClick:()=>{z(E.id)},style:{padding:"0.75rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",borderBottom:"1px solid rgba(224, 230, 237, 0.5)",transition:"all 0.3s ease",background:u.category===E.id?"rgba(52, 152, 219, 0.1)":"transparent"},onMouseOver:T=>{T.currentTarget.style.background=u.category===E.id?"rgba(52, 152, 219, 0.2)":"rgba(52, 152, 219, 0.05)"},onMouseOut:T=>{T.currentTarget.style.background=u.category===E.id?"rgba(52, 152, 219, 0.1)":"transparent"},children:[g.jsx("input",{type:"radio",name:"category",checked:u.category===E.id,onChange:()=>{},style:{width:"18px",height:"18px",accentColor:"#3498db",cursor:"pointer"}}),g.jsx("span",{style:{color:"#2c3e50",fontSize:"0.9rem",fontWeight:u.category===E.id?600:400},children:E.name})]},E.id)):g.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#7f8c8d",fontStyle:"italic"},children:"No categories available"})})]})]}),g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Tags"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[g.jsx("input",{type:"text",placeholder:"Add a tag",value:x,onChange:E=>_(E.target.value),onKeyPress:E=>E.key==="Enter"&&(E.preventDefault(),C()),disabled:S,style:{flex:1,padding:"0.75rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"0.9rem",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.9)"},onFocus:E=>{E.target.style.borderColor="#3498db",E.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:E=>{E.target.style.borderColor="#e0e6ed",E.target.style.boxShadow="none"}}),g.jsx("button",{type:"button",onClick:C,disabled:!x.trim()||S,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.75rem",border:"none",borderRadius:"12px",background:x.trim()?"linear-gradient(135deg, #3498db 0%, #9b59b6 100%)":"#bdc3c7",color:"white",cursor:x.trim()?"pointer":"not-allowed",transition:"all 0.3s ease"},children:g.jsx(Qd,{size:20})})]}),u.tags.length>0&&g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",padding:"1rem",border:"2px solid #e0e6ed",borderRadius:"12px",background:"rgba(255, 255, 255, 0.9)"},children:u.tags.map((E,T)=>g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",borderRadius:"20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"0.9rem",fontWeight:500},children:[E,g.jsx("button",{type:"button",onClick:()=>V(E),style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"0",display:"flex",alignItems:"center"},children:g.jsx(il,{size:16})})]},T))})]}),g.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[g.jsx("button",{type:"button",onClick:U,disabled:S,style:{padding:"1rem 2rem",border:"2px solid #e0e6ed",borderRadius:"12px",background:"white",color:"#7f8c8d",cursor:S?"not-allowed":"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.3s ease",opacity:S?.6:1},onMouseOver:E=>{S||(E.currentTarget.style.borderColor="#e74c3c",E.currentTarget.style.color="#e74c3c")},onMouseOut:E=>{S||(E.currentTarget.style.borderColor="#e0e6ed",E.currentTarget.style.color="#7f8c8d")},children:"Clear"}),g.jsx("button",{type:"submit",disabled:S||!v,style:{padding:"1rem 2rem",border:"none",borderRadius:"12px",background:S?"#bdc3c7":"linear-gradient(135deg, #3498db 0%, #9b59b6 100%)",color:"white",cursor:S?"not-allowed":"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.3s ease",boxShadow:S?"none":"0 4px 15px rgba(52, 152, 219, 0.4)",opacity:S?.7:1},onMouseOver:E=>{S||(E.currentTarget.style.transform="translateY(-2px)",E.currentTarget.style.boxShadow="0 6px 20px rgba(52, 152, 219, 0.6)")},onMouseOut:E=>{S||(E.currentTarget.style.transform="translateY(0)",E.currentTarget.style.boxShadow="0 4px 15px rgba(52, 152, 219, 0.4)")},children:S?" Uploading...":" Upload PDF"})]})]}),g.jsx("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"12px",border:"2px solid #dee2e6"},children:g.jsxs("div",{children:[g.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.1rem",fontWeight:600,color:"#495057"},children:"Need a new category?"}),g.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"#6c757d",lineHeight:"1.4"},children:["Don't see the category you need?"," ",g.jsx("a",{href:"#",onClick:E=>{E.preventDefault(),t("/request-category")},style:{color:"#28a745",textDecoration:"none",fontWeight:600,transition:"all 0.3s ease",cursor:"pointer"},onMouseOver:E=>{E.currentTarget.style.color="#20c997",E.currentTarget.style.textDecoration="underline"},onMouseOut:E=>{E.currentTarget.style.color="#28a745",E.currentTarget.style.textDecoration="none"},children:" Request a new one"})," ","and we'll add it for you!"]})]})})]})},kM=()=>{const{guestUser:t,loading:e}=ef();return e?g.jsx($s,{}):t?g.jsx(DM,{children:g.jsx(IM,{})}):g.jsx(Eg,{to:"/guest-login",replace:!0})},NM=({onAuthSuccess:t})=>{const[e,n]=$.useState({email:"",password:""}),[i,a]=$.useState(!1),l=async u=>{if(u.preventDefault(),!e.email.trim()){xe.error("Please enter your email");return}if(!e.password.trim()){xe.error("Please enter your password");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)){xe.error("Please enter a valid email address");return}a(!0);try{await m5(mg,e.email,e.password),xe.success("Welcome back!"),t()}catch(m){switch(console.error("Guest auth error:",m),m.code){case"auth/user-not-found":xe.error("No account found with this email");break;case"auth/wrong-password":xe.error("Incorrect password");break;case"auth/invalid-email":xe.error("Invalid email address");break;case"auth/too-many-requests":xe.error("Too many failed attempts. Please try again later");break;default:xe.error("Failed to sign in. Please try again.")}}finally{a(!1)}};return g.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:g.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"3rem",maxWidth:"450px",width:"100%"},children:[g.jsx("div",{style:{marginBottom:"2rem"},children:g.jsxs(Hn,{to:"/",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#7f8c8d",textDecoration:"none",fontSize:"0.9rem",fontWeight:500,transition:"color 0.3s ease"},onMouseOver:u=>{u.currentTarget.style.color="#3498db"},onMouseOut:u=>{u.currentTarget.style.color="#7f8c8d"},"aria-label":"Back to site",children:[g.jsx(au,{size:16}),"Back to Site"]})}),g.jsxs("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:[g.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"80px",height:"80px",background:"linear-gradient(135deg, #3498db 0%, #9b59b6 100%)",borderRadius:"50%",marginBottom:"1.5rem"},children:g.jsx(VC,{size:40,color:"white"})}),g.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,color:"#2c3e50",margin:"0 0 0.5rem 0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Guest Sign In"}),g.jsx("p",{style:{color:"#7f8c8d",fontSize:"1.1rem",margin:0,lineHeight:1.5},children:"Sign in to access the PDF upload dashboard"})]}),g.jsxs("form",{onSubmit:l,children:[g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Email"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Ig,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#7f8c8d"}}),g.jsx("input",{type:"email",placeholder:"Enter your email address",value:e.email,onChange:u=>n(d=>({...d,email:u.target.value})),disabled:i,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",opacity:i?.6:1},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#e0e6ed",u.target.style.boxShadow="none"}})]})]}),g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Password"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(xC,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#7f8c8d"}}),g.jsx("input",{type:"password",placeholder:"Enter your password",value:e.password,onChange:u=>n(d=>({...d,password:u.target.value})),disabled:i,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",opacity:i?.6:1},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#e0e6ed",u.target.style.boxShadow="none"}})]})]}),g.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",border:"none",background:i?"#bdc3c7":"linear-gradient(135deg, #3498db 0%, #9b59b6 100%)",color:"#fff",fontWeight:600,borderRadius:"12px",cursor:i?"not-allowed":"pointer",fontSize:"1.1rem",transition:"all 0.3s ease",boxShadow:i?"none":"0 4px 15px rgba(52, 152, 219, 0.4)",opacity:i?.7:1},onMouseOver:u=>{i||(u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 6px 20px rgba(52, 152, 219, 0.6)")},onMouseOut:u=>{i||(u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 4px 15px rgba(52, 152, 219, 0.4)")},children:i?" Authenticating...":" Enter Dashboard"})]}),g.jsxs("div",{style:{marginTop:"2rem",textAlign:"center",padding:"1.5rem",background:"rgba(52, 152, 219, 0.1)",borderRadius:"12px",border:"1px solid rgba(52, 152, 219, 0.2)"},children:[g.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#2c3e50",fontSize:"1rem",fontWeight:600},children:" Guest Access Features"}),g.jsxs("ul",{style:{margin:0,padding:0,listStyle:"none",color:"#7f8c8d",fontSize:"0.9rem",lineHeight:1.6},children:[g.jsx("li",{children:" Upload PDF files up to 25MB"}),g.jsx("li",{children:" Add titles, descriptions, and tags"}),g.jsx("li",{children:" Categorize your uploads"}),g.jsx("li",{children:" Share with the community"})]})]}),g.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:g.jsxs("p",{style:{color:"#7f8c8d",fontSize:"0.9rem",margin:0},children:["Don't have an account?"," ",g.jsx(Hn,{to:"/request",style:{color:"#3498db",textDecoration:"none",fontWeight:600,borderBottom:"1px solid transparent",transition:"border-color 0.3s ease"},onMouseOver:u=>{u.currentTarget.style.borderBottomColor="#3498db"},onMouseOut:u=>{u.currentTarget.style.borderBottomColor="transparent"},children:"Request access"})]})})]})})},PM=()=>{const t=ml(),{guestUser:e,loading:n}=ef();if(Qr.useEffect(()=>{e&&!n&&t("/guest-dashboard")},[e,n,t]),n)return g.jsx($s,{});if(e)return g.jsx($s,{});const i=()=>{t("/guest-dashboard")};return g.jsx(NM,{onAuthSuccess:i})};class fA{static ADMIN_EMAIL="ashinjiyostudy@gmail.com";static API_ENDPOINT="/api/send-email";static async sendWithEmailJS(e){try{const n={to_email:this.ADMIN_EMAIL,from_name:e.name,from_email:e.email,subject:`New Access Request from ${e.name}`,message:`
New access request received:

Name: ${e.name}
Email: ${e.email}
Reason: ${e.reason}

Submitted at: ${new Date().toLocaleString()}
        `},i="service_fn5s7ze",a="template_equfrhk";console.log("Sending email with EmailJS:",n);const l=await Cm.send(i,a,n);return console.log("EmailJS result:",l),l.status===200}catch(n){return console.error("EmailJS error:",n),!1}}static async sendWithBackend(e){try{const n={to:this.ADMIN_EMAIL,subject:`New Access Request from ${e.name}`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
            <h2 style="color: #2c3e50;">New Access Request</h2>
            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
              <p><strong>Name:</strong> ${e.name}</p>
              <p><strong>Email:</strong> ${e.email}</p>
              <p><strong>Reason:</strong></p>
              <div style="background: white; padding: 15px; border-radius: 4px; margin-top: 10px;">
                ${e.reason.replace(/\n/g,"<br>")}
              </div>
            </div>
            <p style="color: #7f8c8d; font-size: 14px;">
              Submitted at: ${new Date().toLocaleString()}
            </p>
          </div>
        `};return(await fetch(this.API_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok}catch(n){return console.error("Backend email error:",n),!1}}static async sendWithFormspree(e){try{return(await fetch("https://formspree.io/f/your-form-id",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,subject:`New Access Request from ${e.name}`,message:`
New access request received:

Name: ${e.name}
Email: ${e.email}
Reason: ${e.reason}

Submitted at: ${new Date().toLocaleString()}
          `})})).ok}catch(n){return console.error("Formspree error:",n),!1}}static async sendWithWeb3Forms(e){try{const n="9e10e2af-a7da-4ae1-8871-fb36e310fc05";console.log("Sending email with Web3Forms:",{data:e,accessKey:n});const i={access_key:n,name:e.name,email:e.email,to:"ashinjiyostudy@gmail.com",subject:`New Access Request from ${e.name}`,message:`
New access request received:

Name: ${e.name}
Email: ${e.email}
Reason: ${e.reason}

Submitted at: ${new Date().toLocaleString()}
        `};console.log("Sending payload:",i);const a=await fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});console.log("Response status:",a.status),console.log("Response ok:",a.ok);const l=await a.json();return console.log("Response result:",l),l.success}catch(n){return console.error("Web3Forms error:",n),!1}}static async sendAccessRequest(e){return await this.sendWithEmailJS(e)}static async sendCategoryRequest(e){try{const n={to_email:this.ADMIN_EMAIL,from_name:e.name,from_email:e.email,category_name:e.categoryName,category_description:e.description,category_examples:e.examples||"No examples provided",subject:`New Category Request: ${e.categoryName}`,message:`
New category request received:

Name: ${e.name}
Email: ${e.email}
Category Name: ${e.categoryName}
Description: ${e.description}
Examples: ${e.examples||"No examples provided"}

Submitted at: ${new Date().toLocaleString()}
        `},i="service_fn5s7ze",a="template_equfrhk";console.log("Sending category request with EmailJS:",n);const l=await Cm.send(i,a,n);return console.log("EmailJS result:",l),l.status===200}catch(n){return console.error("EmailJS error for category request:",n),!1}}}const OM=()=>{const[t,e]=$.useState({name:"",email:"",reason:""}),[n,i]=$.useState(!1),a=async l=>{if(l.preventDefault(),!t.name.trim()){xe.error("Please enter your name");return}if(!t.email.trim()){xe.error("Please enter your email");return}if(!t.reason.trim()){xe.error("Please explain why you need access");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){xe.error("Please enter a valid email address");return}i(!0);try{await fA.sendAccessRequest({name:t.name,email:t.email,reason:t.reason})?(xe.success("Access request submitted! We'll review and get back to you soon."),e({name:"",email:"",reason:""})):xe.error("Failed to send request. Please try again or contact support.")}catch(d){console.error("Request submission error:",d),xe.error("Failed to submit request. Please try again.")}finally{i(!1)}};return g.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:g.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"3rem",maxWidth:"500px",width:"100%"},children:[g.jsx("div",{style:{marginBottom:"2rem"},children:g.jsxs(Hn,{to:"/guest-login",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#7f8c8d",textDecoration:"none",fontSize:"0.9rem",fontWeight:500,transition:"color 0.3s ease"},onMouseOver:l=>{l.currentTarget.style.color="#3498db"},onMouseOut:l=>{l.currentTarget.style.color="#7f8c8d"},children:[g.jsx(au,{size:16}),"Back to Sign In"]})}),g.jsxs("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:[g.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"80px",height:"80px",background:"linear-gradient(135deg, #e74c3c 0%, #f39c12 100%)",borderRadius:"50%",marginBottom:"1.5rem"},children:g.jsx(NC,{size:40,color:"white"})}),g.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,color:"#2c3e50",margin:"0 0 0.5rem 0",background:"linear-gradient(135deg, #e74c3c 0%, #f39c12 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Request Access"}),g.jsx("p",{style:{color:"#7f8c8d",fontSize:"1.1rem",margin:0,lineHeight:1.5},children:"Tell us why you need guest upload access and we'll review your request"})]}),g.jsxs("form",{onSubmit:a,children:[g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Your Name"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(w0,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#7f8c8d"}}),g.jsx("input",{type:"text",placeholder:"Enter your full name",value:t.name,onChange:l=>e(u=>({...u,name:l.target.value})),disabled:n,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",opacity:n?.6:1},onFocus:l=>{l.target.style.borderColor="#3498db",l.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:l=>{l.target.style.borderColor="#e0e6ed",l.target.style.boxShadow="none"}})]})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Email Address"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Ig,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#7f8c8d"}}),g.jsx("input",{type:"email",placeholder:"Enter your email address",value:t.email,onChange:l=>e(u=>({...u,email:l.target.value})),disabled:n,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",opacity:n?.6:1},onFocus:l=>{l.target.style.borderColor="#3498db",l.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:l=>{l.target.style.borderColor="#e0e6ed",l.target.style.boxShadow="none"}})]})]}),g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Why do you need access?"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(jm,{size:20,style:{position:"absolute",left:"1rem",top:"1rem",color:"#7f8c8d"}}),g.jsx("textarea",{placeholder:"Please explain why you need upload access. For example: educational purposes, sharing study materials, etc.",value:t.reason,onChange:l=>e(u=>({...u,reason:l.target.value})),disabled:n,rows:4,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",opacity:n?.6:1,resize:"vertical",minHeight:"120px"},onFocus:l=>{l.target.style.borderColor="#3498db",l.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:l=>{l.target.style.borderColor="#e0e6ed",l.target.style.boxShadow="none"}})]})]}),g.jsx("button",{type:"submit",disabled:n,style:{width:"100%",padding:"1rem",border:"none",background:n?"#bdc3c7":"linear-gradient(135deg, #e74c3c 0%, #f39c12 100%)",color:"#fff",fontWeight:600,borderRadius:"12px",cursor:n?"not-allowed":"pointer",fontSize:"1.1rem",transition:"all 0.3s ease",boxShadow:n?"none":"0 4px 15px rgba(231, 76, 60, 0.4)",opacity:n?.7:1},onMouseOver:l=>{n||(l.currentTarget.style.transform="translateY(-2px)",l.currentTarget.style.boxShadow="0 6px 20px rgba(231, 76, 60, 0.6)")},onMouseOut:l=>{n||(l.currentTarget.style.transform="translateY(0)",l.currentTarget.style.boxShadow="0 4px 15px rgba(231, 76, 60, 0.4)")},children:n?" Sending Request...":" Submit Request"})]}),g.jsxs("div",{style:{marginTop:"2rem",textAlign:"center",padding:"1.5rem",background:"rgba(231, 76, 60, 0.1)",borderRadius:"12px",border:"1px solid rgba(231, 76, 60, 0.2)"},children:[g.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#2c3e50",fontSize:"1rem",fontWeight:600},children:" What happens next?"}),g.jsxs("ul",{style:{margin:0,padding:0,listStyle:"none",color:"#7f8c8d",fontSize:"0.9rem",lineHeight:1.6,textAlign:"left"},children:[g.jsx("li",{children:" We'll review your request within few days"}),g.jsx("li",{children:" You'll receive an email with your account details"}),g.jsx("li",{children:" Once approved, you can start uploading PDFs"}),g.jsx("li",{children:" Your uploads will be shared with the community"})]})]})]})})},MM=()=>{const[t,e]=$.useState({name:"",email:"",categoryName:"",description:"",examples:""}),[n,i]=$.useState(!1),a=async u=>{if(u.preventDefault(),!t.name.trim()){xe.error("Please enter your name");return}if(!t.email.trim()){xe.error("Please enter your email");return}if(!t.categoryName.trim()){xe.error("Please enter the category name");return}if(!t.description.trim()){xe.error("Please provide a description for the category");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){xe.error("Please enter a valid email address");return}i(!0);try{if(await fA.sendCategoryRequest({name:t.name,email:t.email,categoryName:t.categoryName,description:t.description,examples:t.examples}))xe.success("Category request sent successfully! We'll review it and get back to you."),e({name:"",email:"",categoryName:"",description:"",examples:""});else{const f=encodeURIComponent("New Category Request"),x=encodeURIComponent(`Category Request Details:

Name: ${t.name}
Email: ${t.email}
Category Name: ${t.categoryName}
Description: ${t.description}
Examples: ${t.examples}

Please review this category request.`);window.open(`mailto:admin@example.com?subject=${f}&body=${x}`,"_blank"),xe.success("Opening email client to send your request...")}}catch(m){console.error("Error sending category request:",m);const f=encodeURIComponent("New Category Request"),x=encodeURIComponent(`Category Request Details:

Name: ${t.name}
Email: ${t.email}
Category Name: ${t.categoryName}
Description: ${t.description}
Examples: ${t.examples}

Please review this category request.`);window.open(`mailto:admin@example.com?subject=${f}&body=${x}`,"_blank"),xe.success("Opening email client to send your request...")}finally{i(!1)}},l=(u,d)=>{e(m=>({...m,[u]:d}))};return g.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",padding:"2rem 1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{maxWidth:"500px",width:"100%",background:"white",borderRadius:"20px",padding:"2.5rem",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[g.jsx("div",{style:{marginBottom:"2rem"},children:g.jsxs(Hn,{to:"/",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#7f8c8d",textDecoration:"none",fontSize:"0.9rem",fontWeight:500,transition:"color 0.3s ease"},onMouseOver:u=>{u.currentTarget.style.color="#3498db"},onMouseOut:u=>{u.currentTarget.style.color="#7f8c8d"},children:[g.jsx(au,{size:16}),"Back to Home"]})}),g.jsxs("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:[g.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"80px",height:"80px",background:"linear-gradient(135deg, #9b59b6 0%, #3498db 100%)",borderRadius:"50%",marginBottom:"1.5rem"},children:g.jsx(Qd,{size:40,color:"white"})}),g.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,color:"#2c3e50",margin:"0 0 0.5rem 0",background:"linear-gradient(135deg, #9b59b6 0%, #3498db 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Request New Category"}),g.jsx("p",{style:{color:"#7f8c8d",fontSize:"1.1rem",margin:0,lineHeight:1.5},children:"Suggest a new category for our PDF library"})]}),g.jsxs("form",{onSubmit:a,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontSize:"0.9rem",fontWeight:600},children:"Your Name *"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(w0,{size:18,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#bdc3c7"}}),g.jsx("input",{type:"text",value:t.name,onChange:u=>l("name",u.target.value),placeholder:"Enter your full name",style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #ecf0f1",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#ecf0f1",u.target.style.boxShadow="none"},required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontSize:"0.9rem",fontWeight:600},children:"Email Address *"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Ig,{size:18,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#bdc3c7"}}),g.jsx("input",{type:"email",value:t.email,onChange:u=>l("email",u.target.value),placeholder:"your.email@example.com",style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #ecf0f1",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#ecf0f1",u.target.style.boxShadow="none"},required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontSize:"0.9rem",fontWeight:600},children:"Category Name *"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(KE,{size:18,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#bdc3c7"}}),g.jsx("input",{type:"text",value:t.categoryName,onChange:u=>l("categoryName",u.target.value),placeholder:"e.g., Machine Learning, History, Cooking",style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #ecf0f1",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#ecf0f1",u.target.style.boxShadow="none"},required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontSize:"0.9rem",fontWeight:600},children:"Category Description *"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(jm,{size:18,style:{position:"absolute",left:"1rem",top:"1rem",color:"#bdc3c7"}}),g.jsx("textarea",{value:t.description,onChange:u=>l("description",u.target.value),placeholder:"Describe what types of documents would belong in this category...",rows:4,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #ecf0f1",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",resize:"vertical",boxSizing:"border-box",fontFamily:"inherit"},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#ecf0f1",u.target.style.boxShadow="none"},required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontSize:"0.9rem",fontWeight:600},children:"Examples (Optional)"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(jm,{size:18,style:{position:"absolute",left:"1rem",top:"1rem",color:"#bdc3c7"}}),g.jsx("textarea",{value:t.examples,onChange:u=>l("examples",u.target.value),placeholder:"Provide examples of documents that would fit in this category...",rows:3,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #ecf0f1",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",resize:"vertical",boxSizing:"border-box",fontFamily:"inherit"},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#ecf0f1",u.target.style.boxShadow="none"}})]})]}),g.jsxs("button",{type:"submit",disabled:n,style:{width:"100%",padding:"1rem",border:"none",borderRadius:"12px",background:n?"#bdc3c7":"linear-gradient(135deg, #9b59b6 0%, #3498db 100%)",color:"white",fontSize:"1rem",fontWeight:600,cursor:n?"not-allowed":"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:n?"none":"0 8px 25px rgba(155, 89, 182, 0.3)"},onMouseOver:u=>{n||(u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 12px 35px rgba(155, 89, 182, 0.4)")},onMouseOut:u=>{n||(u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 8px 25px rgba(155, 89, 182, 0.3)")},children:[g.jsx(Qd,{size:20}),n?"Sending Request...":"Submit Request"]})]}),g.jsx("div",{style:{marginTop:"2rem",padding:"1rem",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:g.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"#6c757d",lineHeight:1.4},children:[g.jsx("strong",{children:"Note:"})," Category requests are reviewed by our admin team. We'll email you once your category has been approved and added to the library."]})})]})})},BM=()=>{const{id:t}=RT(),{data:e,isLoading:n}=hM(t),i=()=>{e?.pdfUrl&&window.open(e.pdfUrl,"_blank")};return n?g.jsx($s,{}):e?g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 lg:space-y-8 px-4 lg:px-0",children:[g.jsxs(Hn,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-500 font-medium",children:[g.jsx(au,{size:20,className:"mr-2"}),"Back to Library"]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 lg:p-8",children:[g.jsx("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:g.jsxs("div",{className:"flex-1",children:[g.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-4 leading-tight",children:e.title}),g.jsxs("div",{className:"space-y-3 mb-6",children:[g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(w0,{size:18,className:"mr-2 flex-shrink-0"}),g.jsxs("span",{children:["By ",e.author]})]}),g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(zE,{size:18,className:"mr-2 flex-shrink-0"}),g.jsxs("span",{children:["Published on ",$C(new Date(e.createdAt))]})]}),g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(Kd,{size:18,className:"mr-2 flex-shrink-0"}),g.jsxs("span",{children:[e.viewCount," views"]})]})]}),(e.categories.length>0||e.tags.length>0)&&g.jsxs("div",{className:"mb-6",children:[e.categories.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Categories"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:e.categories.map(a=>g.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:a},a))})]}),e.tags.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(a=>g.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded",children:[g.jsx(KE,{size:12,className:"mr-1"}),a]},a))})]})]}),g.jsx("div",{className:"flex justify-center lg:justify-start",children:g.jsxs("button",{onClick:i,className:"w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[g.jsx(Kd,{size:20,className:"mr-2"}),"Open PDF"]})})]})}),e.description&&g.jsxs("div",{className:"mt-6 lg:mt-8 pt-6 lg:pt-8 border-t",children:[g.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900 mb-4",children:"Description"}),g.jsx("div",{className:"prose prose-sm lg:prose max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:e.description}})]})]})]}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"PDF not found"}),g.jsx(Hn,{to:"/",className:"text-blue-600 hover:text-blue-500",children:" Back to Library"})]})},jM=({children:t})=>{const{user:e,loading:n}=iA(),i=Sr();return n?g.jsx($s,{}):e?g.jsx(g.Fragment,{children:t}):g.jsx(Eg,{to:"/login",state:{from:i},replace:!0})},FM=({count:t=14,spread:e=75,speed:n=3.2,decay:i=.02,size:a=3,colorHue:l="white",zIndex:u=50})=>{const d=$.useRef(null),m=$.useRef(null),f=$.useRef([]),x=$.useRef(null);return $.useEffect(()=>{const _=d.current;if(!_)return;const v=_.getContext("2d");if(!v)return;m.current=v;const D=window.devicePixelRatio||1,k=()=>{_.width=Math.floor(window.innerWidth*D),_.height=Math.floor(window.innerHeight*D),_.style.width=`${window.innerWidth}px`,_.style.height=`${window.innerHeight}px`,v.setTransform(1,0,0,1,0,0),v.scale(D,D)};k(),window.addEventListener("resize",k);const M=(w,C)=>{for(let V=0;V<t;V++){const z=(Math.random()-.5)*e*Math.PI/180+Math.random()*Math.PI*2,U=n*(.6+Math.random()*.8),I=l==="rainbow"?Math.floor(Math.random()*360):typeof l=="number"?l:0;f.current.push({x:w,y:C,vx:Math.cos(z)*U,vy:Math.sin(z)*U,life:1,maxLife:1,size:a*(.7+Math.random()*.9),hue:I})}},N=w=>{window.matchMedia&&window.matchMedia("(hover: none), (pointer: coarse)").matches||M(w.clientX,w.clientY)};window.addEventListener("click",N);const L=()=>{const w=m.current;w.clearRect(0,0,_.width,_.height);const C=f.current;for(let V=C.length-1;V>=0;V--){const z=C[V];if(z.x+=z.vx,z.y+=z.vy,z.vy+=.05,z.life-=i,z.life<=0){C.splice(V,1);continue}w.globalAlpha=Math.max(z.life,0),l==="white"?w.fillStyle="#ffffff":w.fillStyle=`hsl(${z.hue}, 90%, 60%)`,w.beginPath(),w.arc(z.x,z.y,z.size,0,Math.PI*2),w.fill()}x.current=requestAnimationFrame(L)};return x.current=requestAnimationFrame(L),()=>{window.removeEventListener("resize",k),window.removeEventListener("click",N),x.current&&cancelAnimationFrame(x.current)}},[t,e,n,i,a,l]),g.jsx("canvas",{ref:d,"aria-hidden":!0,style:{position:"fixed",inset:0,pointerEvents:"none",zIndex:u}})},LM=new B6({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});function VM(){return g.jsx(U6,{client:LM,children:g.jsx(h6,{children:g.jsxs("div",{className:"min-h-screen",children:[g.jsx(FM,{}),g.jsx("main",{children:g.jsxs(vE,{children:[g.jsx(_n,{path:"/",element:g.jsx(mM,{})}),g.jsx(_n,{path:"/pdf/:id",element:g.jsx(BM,{})}),g.jsx(_n,{path:"/login",element:g.jsx(gM,{})}),g.jsx(_n,{path:"/guest-login",element:g.jsx(PM,{})}),g.jsx(_n,{path:"/request",element:g.jsx(OM,{})}),g.jsx(_n,{path:"/request-category",element:g.jsx(MM,{})}),g.jsx(_n,{path:"/guest-dashboard",element:g.jsx(kM,{})}),g.jsx(_n,{path:"/dashboard/*",element:g.jsx(jM,{children:g.jsx(RM,{})})})]})}),g.jsx(zS,{position:"top-right"})]})})})}Cm.init("_9RGrzGJBHDS-3KMA");Q3.createRoot(document.getElementById("root")).render(g.jsx($.StrictMode,{children:g.jsx(VM,{})}));export{$M as C,Hs as p,GM as u};
